"use strict";(self.webpackChunkgoa=self.webpackChunkgoa||[]).push([[179],{2011:(st,ye,F)=>{F.d(ye,{Dh:()=>Q,GT:()=>Y,cc:()=>Ie,hO:()=>ue,on:()=>V,pX:()=>ne,xv:()=>J});var o=F(4650),ee=F(9260),L=F(263);st=F.hmd(st);const oe=["ngOnDestroy"],ne=(fe,Se,Ze,ot={})=>new Proxy(fe,{get:(Ht,Et)=>Ze.runOutsideAngular(()=>{var Sn;if(fe[Et])return!(null===(Sn=ot?.spy)||void 0===Sn)&&Sn.get&&ot.spy.get(Et,fe[Et]),fe[Et];if(oe.indexOf(Et)>-1)return()=>{};const wt=Se.toPromise().then(Me=>{const Ce=Me&&Me[Et];return"function"==typeof Ce?Ce.bind(Me):Ce&&Ce.then?Ce.then(We=>Ze.run(()=>We)):Ze.run(()=>Ce)});return new Proxy(()=>{},{get:(Me,Ce)=>wt[Ce],apply:(Me,Ce,We)=>wt.then(rt=>{var Tt;const Ye=rt&&rt(...We);return!(null===(Tt=ot?.spy)||void 0===Tt)&&Tt.apply&&ot.spy.apply(Et,We,Ye),Ye})})})}),Y=(fe,Se)=>{Se.forEach(Ze=>{Object.getOwnPropertyNames(Ze.prototype||Ze).forEach(ot=>{Object.defineProperty(fe.prototype,ot,Object.getOwnPropertyDescriptor(Ze.prototype||Ze,ot))})})};class se{constructor(Se){return Se}}const Q=new o.OlP("angularfire2.app.options"),J=new o.OlP("angularfire2.app.name");function V(fe,Se,Ze){const Ht="object"==typeof Ze&&Ze||{};Ht.name=Ht.name||"string"==typeof Ze&&Ze||"[DEFAULT]";const Sn=ee.Z.apps.filter(wt=>wt&&wt.name===Ht.name)[0]||Se.runOutsideAngular(()=>ee.Z.initializeApp(fe,Ht));try{JSON.stringify(fe)!==JSON.stringify(Sn.options)&&H("error",`${Sn.name} Firebase App already initialized with different options${st.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new se(Sn)}const H=(fe,...Se)=>{(0,o.X6Q)()&&typeof console<"u"&&console[fe](...Se)},$={provide:se,useFactory:V,deps:[Q,o.R0b,[new o.FiY,J]]};let ue=(()=>{class fe{constructor(Ze){ee.Z.registerVersion("angularfire",L.q4.full,"core"),ee.Z.registerVersion("angularfire",L.q4.full,"app-compat"),ee.Z.registerVersion("angular",o.q4F.full,Ze.toString())}static initializeApp(Ze,ot){return{ngModule:fe,providers:[{provide:Q,useValue:Ze},{provide:J,useValue:ot}]}}}return fe.\u0275fac=function(Ze){return new(Ze||fe)(o.LFG(o.Lbi))},fe.\u0275mod=o.oAB({type:fe}),fe.\u0275inj=o.cJS({providers:[$]}),fe})();function Ie(fe,Se,Ze,ot,Ht){const[,Et,Sn]=globalThis.\u0275AngularfireInstanceCache.find(wt=>wt[0]===fe)||[];if(Et)return function De(fe,Se){try{return fe.toString()===Se.toString()}catch{return fe===Se}}(Ht,Sn)||(he("error",`${Se} was already initialized on the ${Ze} Firebase App with different settings.${Ne?" You may need to reload as Firebase is not HMR aware.":""}`),he("warn",{is:Ht,was:Sn})),Et;{const wt=ot();return globalThis.\u0275AngularfireInstanceCache.push([fe,wt,Ht]),wt}}const Ne=!!st.hot,he=(fe,...Se)=>{(0,o.X6Q)()&&typeof console<"u"&&console[fe](...Se)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},263:(st,ye,F)=>{F.d(ye,{q4:()=>xl,iC:()=>ph,fc:()=>fn,HU:()=>as,vb:()=>Al,JM:()=>lp});var o=F(4650),ee=F(259),L=F(5861),oe=F(9681),ne=F(2090),Y=F(4859),se=F(1877),Q=F(8766);const J="@firebase/installations",V="0.6.0",$=`w:${V}`,ue="FIS_v2",Se=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ze(E){return E instanceof ne.ZR&&E.code.includes("request-failed")}function ot({projectId:E}){return`https://firebaseinstallations.googleapis.com/v1/projects/${E}/installations`}function Ht(E){return{token:E.token,requestStatus:2,expiresIn:rt(E.expiresIn),creationTime:Date.now()}}function Et(E,M){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,L.Z)(function*(E,M){const U=(yield M.json()).error;return Se.create("request-failed",{requestName:E,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function wt({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function Me(E,{refreshToken:M}){const P=wt(E);return P.append("Authorization",function Tt(E){return`${ue} ${E}`}(M)),P}function Ce(E){return We.apply(this,arguments)}function We(){return(We=(0,L.Z)(function*(E){const M=yield E();return M.status>=500&&M.status<600?E():M})).apply(this,arguments)}function rt(E){return Number(E.replace("s","000"))}function Ye(E,M){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,L.Z)(function*({appConfig:E,heartbeatServiceProvider:M},{fid:P}){const U=ot(E),X=wt(E),ce=M.getImmediate({optional:!0});if(ce){const mt=yield ce.getHeartbeatsHeader();mt&&X.append("x-firebase-client",mt)}const ze={method:"POST",headers:X,body:JSON.stringify({fid:P,authVersion:ue,appId:E.appId,sdkVersion:$})},dt=yield Ce(()=>fetch(U,ze));if(dt.ok){const mt=yield dt.json();return{fid:mt.fid||P,registrationStatus:2,refreshToken:mt.refreshToken,authToken:Ht(mt.authToken)}}throw yield Et("Create Installation",dt)})).apply(this,arguments)}function xi(E){return new Promise(M=>{setTimeout(M,E)})}const Ui=/^[cdef][\w-]{21}$/;function jt(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const P=function Hr(E){return function ii(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return Ui.test(P)?P:""}catch{return""}}function jr(E){return`${E.appName}!${E.appId}`}const Gr=new Map;function bn(E,M){const P=jr(E);eo(P,M),function Yo(E,M){const P=function on(){return!fi&&"BroadcastChannel"in self&&(fi=new BroadcastChannel("[Firebase] FID Change"),fi.onmessage=E=>{eo(E.data.key,E.data.fid)}),fi}();P&&P.postMessage({key:E,fid:M}),function Rn(){0===Gr.size&&fi&&(fi.close(),fi=null)}()}(P,M)}function eo(E,M){const P=Gr.get(E);if(P)for(const U of P)U(M)}let fi=null;const qr="firebase-installations-store";let Ae=null;function Wr(){return Ae||(Ae=(0,Q.X3)("firebase-installations-database",1,{upgrade:(E,M)=>{0===M&&E.createObjectStore(qr)}})),Ae}function He(E,M){return kr.apply(this,arguments)}function kr(){return(kr=(0,L.Z)(function*(E,M){const P=jr(E),X=(yield Wr()).transaction(qr,"readwrite"),ce=X.objectStore(qr),_e=yield ce.get(P);return yield ce.put(M,P),yield X.done,(!_e||_e.fid!==M.fid)&&bn(E,M.fid),M})).apply(this,arguments)}function sr(E){return ar.apply(this,arguments)}function ar(){return(ar=(0,L.Z)(function*(E){const M=jr(E),U=(yield Wr()).transaction(qr,"readwrite");yield U.objectStore(qr).delete(M),yield U.done})).apply(this,arguments)}function to(E,M){return no.apply(this,arguments)}function no(){return(no=(0,L.Z)(function*(E,M){const P=jr(E),X=(yield Wr()).transaction(qr,"readwrite"),ce=X.objectStore(qr),_e=yield ce.get(P),ze=M(_e);return void 0===ze?yield ce.delete(P):yield ce.put(ze,P),yield X.done,ze&&(!_e||_e.fid!==ze.fid)&&bn(E,ze.fid),ze})).apply(this,arguments)}function Cn(E){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,L.Z)(function*(E){let M;const P=yield to(E.appConfig,U=>{const X=xn(U),ce=_t(E,X);return M=ce.registrationPromise,ce.installationEntry});return""===P.fid?{installationEntry:yield M}:{installationEntry:P,registrationPromise:M}})).apply(this,arguments)}function xn(E){return nt(E||{fid:jt(),registrationStatus:0})}function _t(E,M){if(0===M.registrationStatus){if(!navigator.onLine)return{installationEntry:M,registrationPromise:Promise.reject(Se.create("app-offline"))};const P={fid:M.fid,registrationStatus:1,registrationTime:Date.now()},U=function lt(E,M){return Qt.apply(this,arguments)}(E,P);return{installationEntry:P,registrationPromise:U}}return 1===M.registrationStatus?{installationEntry:M,registrationPromise:ro(E)}:{installationEntry:M}}function Qt(){return(Qt=(0,L.Z)(function*(E,M){try{const P=yield Ye(E,M);return He(E.appConfig,P)}catch(P){throw Ze(P)&&409===P.customData.serverCode?yield sr(E.appConfig):yield He(E.appConfig,{fid:M.fid,registrationStatus:0}),P}})).apply(this,arguments)}function ro(E){return cr.apply(this,arguments)}function cr(){return(cr=(0,L.Z)(function*(E){let M=yield pi(E.appConfig);for(;1===M.registrationStatus;)yield xi(100),M=yield pi(E.appConfig);if(0===M.registrationStatus){const{installationEntry:P,registrationPromise:U}=yield Cn(E);return U||P}return M})).apply(this,arguments)}function pi(E){return to(E,M=>{if(!M)throw Se.create("installation-not-found");return nt(M)})}function nt(E){return function _n(E){return 1===E.registrationStatus&&E.registrationTime+1e4<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function sn(E,M){return io.apply(this,arguments)}function io(){return(io=(0,L.Z)(function*({appConfig:E,heartbeatServiceProvider:M},P){const U=Kt(E,P),X=Me(E,P),ce=M.getImmediate({optional:!0});if(ce){const mt=yield ce.getHeartbeatsHeader();mt&&X.append("x-firebase-client",mt)}const ze={method:"POST",headers:X,body:JSON.stringify({installation:{sdkVersion:$,appId:E.appId}})},dt=yield Ce(()=>fetch(U,ze));if(dt.ok)return Ht(yield dt.json());throw yield Et("Generate Auth Token",dt)})).apply(this,arguments)}function Kt(E,{fid:M}){return`${ot(E)}/${M}/authTokens:generate`}function wn(E){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,L.Z)(function*(E,M=!1){let P;const U=yield to(E.appConfig,ce=>{if(!Gt(ce))throw Se.create("not-registered");const _e=ce.authToken;if(!M&&q(_e))return ce;if(1===_e.requestStatus)return P=tt(E,M),ce;{if(!navigator.onLine)throw Se.create("app-offline");const ze=K(ce);return P=It(E,ze),ze}});return P?yield P:U.authToken})).apply(this,arguments)}function tt(E,M){return ve.apply(this,arguments)}function ve(){return(ve=(0,L.Z)(function*(E,M){let P=yield et(E.appConfig);for(;1===P.authToken.requestStatus;)yield xi(100),P=yield et(E.appConfig);const U=P.authToken;return 0===U.requestStatus?wn(E,M):U})).apply(this,arguments)}function et(E){return to(E,M=>{if(!Gt(M))throw Se.create("not-registered");return function me(E){return 1===E.requestStatus&&E.requestTime+1e4<Date.now()}(M.authToken)?Object.assign(Object.assign({},M),{authToken:{requestStatus:0}}):M})}function It(E,M){return xt.apply(this,arguments)}function xt(){return(xt=(0,L.Z)(function*(E,M){try{const P=yield sn(E,M),U=Object.assign(Object.assign({},M),{authToken:P});return yield He(E.appConfig,U),P}catch(P){if(!Ze(P)||401!==P.customData.serverCode&&404!==P.customData.serverCode){const U=Object.assign(Object.assign({},M),{authToken:{requestStatus:0}});yield He(E.appConfig,U)}else yield sr(E.appConfig);throw P}})).apply(this,arguments)}function Gt(E){return void 0!==E&&2===E.registrationStatus}function q(E){return 2===E.requestStatus&&!function G(E){const M=Date.now();return M<E.creationTime||E.creationTime+E.expiresIn<M+36e5}(E)}function K(E){const M={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:M})}function Ge(){return(Ge=(0,L.Z)(function*(E){const M=E,{installationEntry:P,registrationPromise:U}=yield Cn(M);return U?U.catch(console.error):wn(M).catch(console.error),P.fid})).apply(this,arguments)}function $t(){return($t=(0,L.Z)(function*(E,M=!1){const P=E;return yield ln(P),(yield wn(P,M)).token})).apply(this,arguments)}function ln(E){return an.apply(this,arguments)}function an(){return(an=(0,L.Z)(function*(E){const{registrationPromise:M}=yield Cn(E);M&&(yield M)})).apply(this,arguments)}function Do(E){return Se.create("missing-app-config-values",{valueName:E})}const oa="installations",sa=E=>{const M=E.getProvider("app").getImmediate(),P=function Dn(E){if(!E||!E.options)throw Do("App Configuration");if(!E.name)throw Do("App Name");const M=["projectId","apiKey","appId"];for(const P of M)if(!E.options[P])throw Do(P);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(M);return{app:M,appConfig:P,heartbeatServiceProvider:(0,oe._getProvider)(M,"heartbeat"),_delete:()=>Promise.resolve()}},Jo=E=>{const M=E.getProvider("app").getImmediate(),P=(0,oe._getProvider)(M,oa).getImmediate();return{getId:()=>function te(E){return Ge.apply(this,arguments)}(P),getToken:X=>function ht(E){return $t.apply(this,arguments)}(P,X)}};(function Ds(){(0,oe._registerComponent)(new Y.wA(oa,sa,"PUBLIC")),(0,oe._registerComponent)(new Y.wA("installations-internal",Jo,"PRIVATE"))})(),(0,oe.registerVersion)(J,V),(0,oe.registerVersion)(J,V,"esm2017");const Fr="@firebase/remote-config",On=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ld{constructor(M,P,U,X){this.client=M,this.storage=P,this.storageCache=U,this.logger=X}isCachedDataFresh(M,P){if(!P)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-P,X=U<=M;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${M}. Is cache hit: ${X}.`),X}fetch(M){var P=this;return(0,L.Z)(function*(){const[U,X]=yield Promise.all([P.storage.getLastSuccessfulFetchTimestampMillis(),P.storage.getLastSuccessfulFetchResponse()]);if(X&&P.isCachedDataFresh(M.cacheMaxAgeMillis,U))return X;M.eTag=X&&X.eTag;const ce=yield P.client.fetch(M),_e=[P.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ce.status&&_e.push(P.storage.setLastSuccessfulFetchResponse(ce)),yield Promise.all(_e),ce})()}}function Xo(E=navigator){return E.languages&&E.languages[0]||E.language}class _v{constructor(M,P,U,X,ce,_e){this.firebaseInstallations=M,this.sdkVersion=P,this.namespace=U,this.projectId=X,this.apiKey=ce,this.appId=_e}fetch(M){var P=this;return(0,L.Z)(function*(){const[U,X]=yield Promise.all([P.firebaseInstallations.getId(),P.firebaseInstallations.getToken()]),_e=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${P.projectId}/namespaces/${P.namespace}:fetch?key=${P.apiKey}`,ze={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":M.eTag||"*"},dt={sdk_version:P.sdkVersion,app_instance_id:U,app_instance_id_token:X,app_id:P.appId,language_code:Xo()},mt={method:"POST",headers:ze,body:JSON.stringify(dt)},kt=fetch(_e,mt),vt=new Promise((Ft,_r)=>{M.signal.addEventListener(()=>{const Ns=new Error("The operation was aborted.");Ns.name="AbortError",_r(Ns)})});let gr;try{yield Promise.race([kt,vt]),gr=yield kt}catch(Ft){let _r="fetch-client-network";throw"AbortError"===Ft?.name&&(_r="fetch-timeout"),On.create(_r,{originalErrorMessage:Ft?.message})}let mr=gr.status;const Gi=gr.headers.get("ETag")||void 0;let Yr,Qr;if(200===gr.status){let Ft;try{Ft=yield gr.json()}catch(_r){throw On.create("fetch-client-parse",{originalErrorMessage:_r?.message})}Yr=Ft.entries,Qr=Ft.state}if("INSTANCE_STATE_UNSPECIFIED"===Qr?mr=500:"NO_CHANGE"===Qr?mr=304:("NO_TEMPLATE"===Qr||"EMPTY_CONFIG"===Qr)&&(Yr={}),304!==mr&&200!==mr)throw On.create("fetch-status",{httpStatus:mr});return{status:mr,eTag:Gi,config:Yr}})()}}class ic{constructor(M,P){this.client=M,this.storage=P}fetch(M){var P=this;return(0,L.Z)(function*(){const U=(yield P.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return P.attemptFetch(M,U)})()}attemptFetch(M,{throttleEndTimeMillis:P,backoffCount:U}){var X=this;return(0,L.Z)(function*(){yield function Vi(E,M){return new Promise((P,U)=>{const X=Math.max(M-Date.now(),0),ce=setTimeout(P,X);E.addEventListener(()=>{clearTimeout(ce),U(On.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}(M.signal,P);try{const ce=yield X.client.fetch(M);return yield X.storage.deleteThrottleMetadata(),ce}catch(ce){if(!function Am(E){if(!(E instanceof ne.ZR&&E.customData))return!1;const M=Number(E.customData.httpStatus);return 429===M||500===M||503===M||504===M}(ce))throw ce;const _e={throttleEndTimeMillis:Date.now()+(0,ne.$s)(U),backoffCount:U+1};return yield X.storage.setThrottleMetadata(_e),X.attemptFetch(M,_e)}})()}}class oc{constructor(M,P,U,X,ce){this.app=M,this._client=P,this._storageCache=U,this._storage=X,this._logger=ce,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function sc(E,M){const P=E.target.error||void 0;return On.create(M,{originalErrorMessage:P&&P?.message})}const ua="app_namespace_store";class _u{constructor(M,P,U,X=function Bd(){return new Promise((E,M)=>{try{const P=indexedDB.open("firebase_remote_config",1);P.onerror=U=>{M(sc(U,"storage-open"))},P.onsuccess=U=>{E(U.target.result)},P.onupgradeneeded=U=>{0===U.oldVersion&&U.target.result.createObjectStore(ua,{keyPath:"compositeKey"})}}catch(P){M(On.create("storage-open",{originalErrorMessage:P?.message}))}})}()){this.appId=M,this.appName=P,this.namespace=U,this.openDbPromise=X}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(M){return this.set("last_fetch_status",M)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(M){return this.set("last_successful_fetch_timestamp_millis",M)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(M){return this.set("last_successful_fetch_response",M)}getActiveConfig(){return this.get("active_config")}setActiveConfig(M){return this.set("active_config",M)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(M){return this.set("active_config_etag",M)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(M){return this.set("throttle_metadata",M)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(M){var P=this;return(0,L.Z)(function*(){const U=yield P.openDbPromise;return new Promise((X,ce)=>{const ze=U.transaction([ua],"readonly").objectStore(ua),dt=P.createCompositeKey(M);try{const mt=ze.get(dt);mt.onerror=kt=>{ce(sc(kt,"storage-get"))},mt.onsuccess=kt=>{const vt=kt.target.result;X(vt?vt.value:void 0)}}catch(mt){ce(On.create("storage-get",{originalErrorMessage:mt?.message}))}})})()}set(M,P){var U=this;return(0,L.Z)(function*(){const X=yield U.openDbPromise;return new Promise((ce,_e)=>{const dt=X.transaction([ua],"readwrite").objectStore(ua),mt=U.createCompositeKey(M);try{const kt=dt.put({compositeKey:mt,value:P});kt.onerror=vt=>{_e(sc(vt,"storage-set"))},kt.onsuccess=()=>{ce()}}catch(kt){_e(On.create("storage-set",{originalErrorMessage:kt?.message}))}})})()}delete(M){var P=this;return(0,L.Z)(function*(){const U=yield P.openDbPromise;return new Promise((X,ce)=>{const ze=U.transaction([ua],"readwrite").objectStore(ua),dt=P.createCompositeKey(M);try{const mt=ze.delete(dt);mt.onerror=kt=>{ce(sc(kt,"storage-delete"))},mt.onsuccess=()=>{X()}}catch(mt){ce(On.create("storage-delete",{originalErrorMessage:mt?.message}))}})})()}createCompositeKey(M){return[this.appId,this.appName,this.namespace,M].join()}}class Zd{constructor(M){this.storage=M}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var M=this;return(0,L.Z)(function*(){const P=M.storage.getLastFetchStatus(),U=M.storage.getLastSuccessfulFetchTimestampMillis(),X=M.storage.getActiveConfig(),ce=yield P;ce&&(M.lastFetchStatus=ce);const _e=yield U;_e&&(M.lastSuccessfulFetchTimestampMillis=_e);const ze=yield X;ze&&(M.activeConfig=ze)})()}setLastFetchStatus(M){return this.lastFetchStatus=M,this.storage.setLastFetchStatus(M)}setLastSuccessfulFetchTimestampMillis(M){return this.lastSuccessfulFetchTimestampMillis=M,this.storage.setLastSuccessfulFetchTimestampMillis(M)}setActiveConfig(M){return this.activeConfig=M,this.storage.setActiveConfig(M)}}function Gd(){return $d.apply(this,arguments)}function $d(){return($d=(0,L.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}!function Hd(){(0,oe._registerComponent)(new Y.wA("remote-config",function E(M,{instanceIdentifier:P}){const U=M.getProvider("app").getImmediate(),X=M.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw On.create("registration-window");if(!(0,ne.hl)())throw On.create("indexed-db-unavailable");const{projectId:ce,apiKey:_e,appId:ze}=U.options;if(!ce)throw On.create("registration-project-id");if(!_e)throw On.create("registration-api-key");if(!ze)throw On.create("registration-app-id");const dt=new _u(ze,U.name,P=P||"firebase"),mt=new Zd(dt),kt=new se.Yd(Fr);kt.logLevel=se.in.ERROR;const vt=new _v(X,oe.SDK_VERSION,P,ce,_e,ze),gr=new ic(vt,dt),mr=new Ld(gr,dt,mt,kt),Gi=new oc(U,mr,mt,dt,kt);return function en(E){const M=(0,ne.m9)(E);M._initializePromise||(M._initializePromise=M._storageCache.loadFromStorage().then(()=>{M._isInitializationComplete=!0}))}(Gi),Gi},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(Fr,"0.4.0"),(0,oe.registerVersion)(Fr,"0.4.0","esm2017")}();const oo="/firebase-messaging-sw.js",hl="/firebase-cloud-messaging-push-scope",da="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ha="google.c.a.c_id",yu="google.c.a.c_l",fl="google.c.a.ts",ac="google.c.a.e";var Bi=(()=>{return(E=Bi||(Bi={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",Bi;var E})();function Eo(E){const M=new Uint8Array(E);return btoa(String.fromCharCode(...M)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Zn(E){const P=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(P),X=new Uint8Array(U.length);for(let ce=0;ce<U.length;++ce)X[ce]=U.charCodeAt(ce);return X}const cc="fcm_token_details_db",lc="fcm_token_object_Store";function Wd(E){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,L.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ce=>ce.name).includes(cc))return null;let M=null;return(yield(0,Q.X3)(cc,5,{upgrade:(U=(0,L.Z)(function*(X,ce,_e,ze){var dt;if(ce<2||!X.objectStoreNames.contains(lc))return;const mt=ze.objectStore(lc),kt=yield mt.index("fcmSenderId").get(E);if(yield mt.clear(),kt)if(2===ce){const vt=kt;if(!vt.auth||!vt.p256dh||!vt.endpoint)return;M={token:vt.fcmToken,createTime:null!==(dt=vt.createTime)&&void 0!==dt?dt:Date.now(),subscriptionOptions:{auth:vt.auth,p256dh:vt.p256dh,endpoint:vt.endpoint,swScope:vt.swScope,vapidKey:"string"==typeof vt.vapidKey?vt.vapidKey:Eo(vt.vapidKey)}}}else if(3===ce){const vt=kt;M={token:vt.fcmToken,createTime:vt.createTime,subscriptionOptions:{auth:Eo(vt.auth),p256dh:Eo(vt.p256dh),endpoint:vt.endpoint,swScope:vt.swScope,vapidKey:Eo(vt.vapidKey)}}}else if(4===ce){const vt=kt;M={token:vt.fcmToken,createTime:vt.createTime,subscriptionOptions:{auth:Eo(vt.auth),p256dh:Eo(vt.p256dh),endpoint:vt.endpoint,swScope:vt.swScope,vapidKey:Eo(vt.vapidKey)}}}}),function(ce,_e,ze,dt){return U.apply(this,arguments)})})).close(),yield(0,Q.Lj)(cc),yield(0,Q.Lj)("fcm_vapid_details_db"),yield(0,Q.Lj)("undefined"),Hn(M)?M:null;var U}),Xf.apply(this,arguments)}function Hn(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:M}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof M.auth&&M.auth.length>0&&"string"==typeof M.p256dh&&M.p256dh.length>0&&"string"==typeof M.endpoint&&M.endpoint.length>0&&"string"==typeof M.swScope&&M.swScope.length>0&&"string"==typeof M.vapidKey&&M.vapidKey.length>0}const vi="firebase-messaging-store";let jn=null;function zd(){return jn||(jn=(0,Q.X3)("firebase-messaging-database",1,{upgrade:(E,M)=>{0===M&&E.createObjectStore(vi)}})),jn}function uc(E){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,L.Z)(function*(E){const M=zr(E),U=yield(yield zd()).transaction(vi).objectStore(vi).get(M);if(U)return U;{const X=yield Wd(E.appConfig.senderId);if(X)return yield cn(E,X),X}})).apply(this,arguments)}function cn(E,M){return pl.apply(this,arguments)}function pl(){return(pl=(0,L.Z)(function*(E,M){const P=zr(E),X=(yield zd()).transaction(vi,"readwrite");return yield X.objectStore(vi).put(M,P),yield X.done,M})).apply(this,arguments)}function ai(E){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,L.Z)(function*(E){const M=zr(E),U=(yield zd()).transaction(vi,"readwrite");yield U.objectStore(vi).delete(M),yield U.done})).apply(this,arguments)}function zr({appConfig:E}){return E.appId}const zn=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ct(E,M){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,L.Z)(function*(E,M){const P=yield hc(E),U=we(M),X={method:"POST",headers:P,body:JSON.stringify(U)};let ce;try{ce=yield(yield fetch(es(E.appConfig),X)).json()}catch(_e){throw zn.create("token-subscribe-failed",{errorInfo:_e?.toString()})}if(ce.error)throw zn.create("token-subscribe-failed",{errorInfo:ce.error.message});if(!ce.token)throw zn.create("token-subscribe-no-token");return ce.token})).apply(this,arguments)}function gl(E,M){return wu.apply(this,arguments)}function wu(){return(wu=(0,L.Z)(function*(E,M){const P=yield hc(E),U=we(M.subscriptionOptions),X={method:"PATCH",headers:P,body:JSON.stringify(U)};let ce;try{ce=yield(yield fetch(`${es(E.appConfig)}/${M.token}`,X)).json()}catch(_e){throw zn.create("token-update-failed",{errorInfo:_e?.toString()})}if(ce.error)throw zn.create("token-update-failed",{errorInfo:ce.error.message});if(!ce.token)throw zn.create("token-update-no-token");return ce.token})).apply(this,arguments)}function dc(E,M){return ml.apply(this,arguments)}function ml(){return(ml=(0,L.Z)(function*(E,M){const U={method:"DELETE",headers:yield hc(E)};try{const ce=yield(yield fetch(`${es(E.appConfig)}/${M}`,U)).json();if(ce.error)throw zn.create("token-unsubscribe-failed",{errorInfo:ce.error.message})}catch(X){throw zn.create("token-unsubscribe-failed",{errorInfo:X?.toString()})}})).apply(this,arguments)}function es({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function hc(E){return ci.apply(this,arguments)}function ci(){return(ci=(0,L.Z)(function*({appConfig:E,installations:M}){const P=yield M.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${P}`})})).apply(this,arguments)}function we({p256dh:E,auth:M,endpoint:P,vapidKey:U}){const X={web:{endpoint:P,auth:M,p256dh:E}};return U!==da&&(X.web.applicationPubKey=U),X}const Bt=6048e5;function Du(E){return Es.apply(this,arguments)}function Es(){return(Es=(0,L.Z)(function*(E){const M=yield yl(E.swRegistration,E.vapidKey),P={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:M.endpoint,auth:Eo(M.getKey("auth")),p256dh:Eo(M.getKey("p256dh"))},U=yield uc(E.firebaseDependencies);if(U){if(tp(U.subscriptionOptions,P))return Date.now()>=U.createTime+Bt?_l(E,{token:U.token,createTime:Date.now(),subscriptionOptions:P}):U.token;try{yield dc(E.firebaseDependencies,U.token)}catch(X){console.warn(X)}return pc(E.firebaseDependencies,P)}return pc(E.firebaseDependencies,P)})).apply(this,arguments)}function Kn(E){return fc.apply(this,arguments)}function fc(){return(fc=(0,L.Z)(function*(E){const M=yield uc(E.firebaseDependencies);M&&(yield dc(E.firebaseDependencies,M.token),yield ai(E.firebaseDependencies));const P=yield E.swRegistration.pushManager.getSubscription();return!P||P.unsubscribe()})).apply(this,arguments)}function _l(E,M){return li.apply(this,arguments)}function li(){return(li=(0,L.Z)(function*(E,M){try{const P=yield gl(E.firebaseDependencies,M),U=Object.assign(Object.assign({},M),{token:P,createTime:Date.now()});return yield cn(E.firebaseDependencies,U),P}catch(P){throw yield Kn(E),P}})).apply(this,arguments)}function pc(E,M){return fa.apply(this,arguments)}function fa(){return(fa=(0,L.Z)(function*(E,M){const U={token:yield Ct(E,M),createTime:Date.now(),subscriptionOptions:M};return yield cn(E,U),U.token})).apply(this,arguments)}function yl(E,M){return gc.apply(this,arguments)}function gc(){return(gc=(0,L.Z)(function*(E,M){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Zn(M)})})).apply(this,arguments)}function tp(E,M){return M.vapidKey===E.vapidKey&&M.endpoint===E.endpoint&&M.auth===E.auth&&M.p256dh===E.p256dh}function Is(E){const M={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function Yn(E,M){if(!M.notification)return;E.notification={};const P=M.notification.title;P&&(E.notification.title=P);const U=M.notification.body;U&&(E.notification.body=U);const X=M.notification.image;X&&(E.notification.image=X);const ce=M.notification.icon;ce&&(E.notification.icon=ce)}(M,E),function Oi(E,M){!M.data||(E.data=M.data)}(M,E),function pa(E,M){var P,U,X,ce,_e;if(!(M.fcmOptions||null!==(P=M.notification)&&void 0!==P&&P.click_action))return;E.fcmOptions={};const ze=null!==(X=null===(U=M.fcmOptions)||void 0===U?void 0:U.link)&&void 0!==X?X:null===(ce=M.notification)||void 0===ce?void 0:ce.click_action;ze&&(E.fcmOptions.link=ze);const dt=null===(_e=M.fcmOptions)||void 0===_e?void 0:_e.analytics_label;dt&&(E.fcmOptions.analyticsLabel=dt)}(M,E),M}function Ss(E){return"object"==typeof E&&!!E&&ha in E}function so(E,M){const P=[];for(let U=0;U<E.length;U++)P.push(E.charAt(U)),U<M.length&&P.push(M.charAt(U));return P.join("")}function vl(E){return zn.create("missing-app-config-values",{valueName:E})}so("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),so("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Yd{constructor(M,P,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const X=function Kd(E){if(!E||!E.options)throw vl("App Configuration Object");if(!E.name)throw vl("App Name");const M=["projectId","apiKey","appId","messagingSenderId"],{options:P}=E;for(const U of M)if(!P[U])throw vl(U);return{appName:E.name,projectId:P.projectId,apiKey:P.apiKey,appId:P.appId,senderId:P.messagingSenderId}}(M);this.firebaseDependencies={app:M,appConfig:X,installations:P,analyticsProvider:U}}_delete(){return Promise.resolve()}}function np(E){return ga.apply(this,arguments)}function ga(){return(ga=(0,L.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(oo,{scope:hl}),E.swRegistration.update().catch(()=>{})}catch(M){throw zn.create("failed-service-worker-registration",{browserErrorMessage:M?.message})}})).apply(this,arguments)}function Tu(E,M){return mc.apply(this,arguments)}function mc(){return(mc=(0,L.Z)(function*(E,M){if(!M&&!E.swRegistration&&(yield np(E)),M||!E.swRegistration){if(!(M instanceof ServiceWorkerRegistration))throw zn.create("invalid-sw-registration");E.swRegistration=M}})).apply(this,arguments)}function ma(E,M){return _c.apply(this,arguments)}function _c(){return(_c=(0,L.Z)(function*(E,M){M?E.vapidKey=M:E.vapidKey||(E.vapidKey=da)})).apply(this,arguments)}function bl(){return(bl=(0,L.Z)(function*(E,M){if(!navigator)throw zn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw zn.create("permission-blocked");return yield ma(E,M?.vapidKey),yield Tu(E,M?.serviceWorkerRegistration),Du(E)})).apply(this,arguments)}function Eu(E,M,P){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,L.Z)(function*(E,M,P){const U=Su(M);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:P[ha],message_name:P[yu],message_time:P[fl],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Su(E){switch(E){case Bi.NOTIFICATION_CLICKED:return"notification_open";case Bi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Io(){return(Io=(0,L.Z)(function*(E,M){const P=M.data;if(!P.isFirebaseMessaging)return;E.onMessageHandler&&P.messageType===Bi.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(Is(P)):E.onMessageHandler.next(Is(P)));const U=P.data;Ss(U)&&"1"===U[ac]&&(yield Eu(E,P.messageType,U))})).apply(this,arguments)}const Ms="@firebase/messaging",ur=E=>{const M=new Yd(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",P=>function Qd(E,M){return Io.apply(this,arguments)}(M,P)),M},ao=E=>{const M=E.getProvider("messaging").getImmediate();return{getToken:U=>function yc(E,M){return bl.apply(this,arguments)}(M,U)}};function vc(){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,L.Z)(function*(){try{yield(0,ne.eu)()}catch{return!1}return typeof window<"u"&&(0,ne.hl)()&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Tn(){(0,oe._registerComponent)(new Y.wA("messaging",ur,"PUBLIC")),(0,oe._registerComponent)(new Y.wA("messaging-internal",ao,"PRIVATE")),(0,oe.registerVersion)(Ms,"0.12.0"),(0,oe.registerVersion)(Ms,"0.12.0","esm2017")}();const Mo="analytics",Au="firebase_id",Pu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Jd="https://www.googletagmanager.com/gtag/js",Pn=new se.Yd("@firebase/analytics");function Dl(E){return Promise.all(E.map(M=>M.catch(P=>P)))}function va(E,M){const P=document.createElement("script");P.src=`${Jd}?l=${E}&id=${M}`,P.async=!0,document.head.appendChild(P)}function yv(E,M,P,U,X,ce){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,L.Z)(function*(E,M,P,U,X,ce){const _e=U[X];try{if(_e)yield M[_e];else{const dt=(yield Dl(P)).find(mt=>mt.measurementId===X);dt&&(yield M[dt.appId])}}catch(ze){Pn.error(ze)}E("config",X,ce)})).apply(this,arguments)}function ts(E,M,P,U,X){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,L.Z)(function*(E,M,P,U,X){try{let ce=[];if(X&&X.send_to){let _e=X.send_to;Array.isArray(_e)||(_e=[_e]);const ze=yield Dl(P);for(const dt of _e){const mt=ze.find(vt=>vt.measurementId===dt),kt=mt&&M[mt.appId];if(!kt){ce=[];break}ce.push(kt)}}0===ce.length&&(ce=Object.values(M)),yield Promise.all(ce),E("event",U,X||{})}catch(ce){Pn.error(ce)}})).apply(this,arguments)}function eh(E){const M=window.document.getElementsByTagName("script");for(const P of Object.values(M))if(P.src&&P.src.includes(Jd)&&P.src.includes(E))return P;return null}const dr=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),wc=new class rh{constructor(M={},P=1e3){this.throttleMetadata=M,this.intervalMillis=P}getThrottleMetadata(M){return this.throttleMetadata[M]}setThrottleMetadata(M,P){this.throttleMetadata[M]=P}deleteThrottleMetadata(M){delete this.throttleMetadata[M]}};function ih(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function km(E){return oh.apply(this,arguments)}function oh(){return(oh=(0,L.Z)(function*(E){var M;const{appId:P,apiKey:U}=E,X={method:"GET",headers:ih(U)},ce=Pu.replace("{app-id}",P),_e=yield fetch(ce,X);if(200!==_e.status&&304!==_e.status){let ze="";try{const dt=yield _e.json();null!==(M=dt.error)&&void 0!==M&&M.message&&(ze=dt.error.message)}catch{}throw dr.create("config-fetch-failed",{httpStatus:_e.status,responseMessage:ze})}return _e.json()})).apply(this,arguments)}function ip(E){return co.apply(this,arguments)}function co(){return(co=(0,L.Z)(function*(E,M=wc,P){const{appId:U,apiKey:X,measurementId:ce}=E.options;if(!U)throw dr.create("no-app-id");if(!X){if(ce)return{measurementId:ce,appId:U};throw dr.create("no-api-key")}const _e=M.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ze=new El;return setTimeout((0,L.Z)(function*(){ze.abort()}),void 0!==P?P:6e4),op({appId:U,apiKey:X,measurementId:ce},_e,ze,M)})).apply(this,arguments)}function op(E,M,P){return xo.apply(this,arguments)}function xo(){return(xo=(0,L.Z)(function*(E,{throttleEndTimeMillis:M,backoffCount:P},U,X=wc){var ce;const{appId:_e,measurementId:ze}=E;try{yield Oo(U,M)}catch(dt){if(ze)return Pn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ze} provided in the "measurementId" field in the local Firebase config. [${dt?.message}]`),{appId:_e,measurementId:ze};throw dt}try{const dt=yield km(E);return X.deleteThrottleMetadata(_e),dt}catch(dt){const mt=dt;if(!wa(mt)){if(X.deleteThrottleMetadata(_e),ze)return Pn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ze} provided in the "measurementId" field in the local Firebase config. [${mt?.message}]`),{appId:_e,measurementId:ze};throw dt}const kt=503===Number(null===(ce=mt?.customData)||void 0===ce?void 0:ce.httpStatus)?(0,ne.$s)(P,X.intervalMillis,30):(0,ne.$s)(P,X.intervalMillis),vt={throttleEndTimeMillis:Date.now()+kt,backoffCount:P+1};return X.setThrottleMetadata(_e,vt),Pn.debug(`Calling attemptFetch again in ${kt} millis`),op(E,vt,U,X)}})).apply(this,arguments)}function Oo(E,M){return new Promise((P,U)=>{const X=Math.max(M-Date.now(),0),ce=setTimeout(P,X);E.addEventListener(()=>{clearTimeout(ce),U(dr.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}function wa(E){if(!(E instanceof ne.ZR&&E.customData))return!1;const M=Number(E.customData.httpStatus);return 429===M||500===M||503===M||504===M}class El{constructor(){this.listeners=[]}addEventListener(M){this.listeners.push(M)}abort(){this.listeners.forEach(M=>M())}}let Os,ch;function Dc(){return(Dc=(0,L.Z)(function*(E,M,P,U,X){if(X&&X.global)E("event",P,U);else{const ce=yield M;E("event",P,Object.assign(Object.assign({},U),{send_to:ce}))}})).apply(this,arguments)}function Ao(E){ch=E}function lh(E){Os=E}function Lr(){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,L.Z)(function*(){if(!(0,ne.hl)())return Pn.warn(dr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(E){return Pn.warn(dr.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function lo(){return(lo=(0,L.Z)(function*(E,M,P,U,X,ce,_e){var ze;const dt=ip(E);dt.then(mr=>{P[mr.measurementId]=mr.appId,E.options.measurementId&&mr.measurementId!==E.options.measurementId&&Pn.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${mr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(mr=>Pn.error(mr)),M.push(dt);const mt=Lr().then(mr=>{if(mr)return U.getId()}),[kt,vt]=yield Promise.all([dt,mt]);eh(ce)||va(ce,kt.measurementId),ch&&(X("consent","default",ch),Ao(void 0)),X("js",new Date);const gr=null!==(ze=_e?.config)&&void 0!==ze?ze:{};return gr.origin="firebase",gr.update=!0,null!=vt&&(gr[Au]=vt),X("config",kt.measurementId,gr),Os&&(X("set",Os),lh(void 0)),kt.measurementId})).apply(this,arguments)}class Ml{constructor(M){this.app=M}_delete(){return delete Jt[this.app.options.appId],Promise.resolve()}}let Jt={},Da=[];const is={};let Ta,As,Mc="dataLayer",Nu=!1;function Rm(E,M,P){!function ku(){const E=[];if((0,ne.ru)()&&E.push("This is a browser extension environment."),(0,ne.zI)()||E.push("Cookies are not available."),E.length>0){const M=E.map((U,X)=>`(${X+1}) ${U}`).join(" "),P=dr.create("invalid-analytics-context",{errorInfo:M});Pn.warn(P.message)}}();const U=E.options.appId;if(!U)throw dr.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw dr.create("no-api-key");Pn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Jt[U])throw dr.create("already-exists",{id:U});if(!Nu){!function Xd(E){let M=[];Array.isArray(window[E])?M=window[E]:window[E]=M}(Mc);const{wrappedGtag:ce,gtagCore:_e}=function ba(E,M,P,U,X){let ce=function(..._e){window[U].push(arguments)};return window[X]&&"function"==typeof window[X]&&(ce=window[X]),window[X]=function ns(E,M,P,U){function ce(){return(ce=(0,L.Z)(function*(_e,ze,dt){try{"event"===_e?yield ts(E,M,P,ze,dt):"config"===_e?yield yv(E,M,P,U,ze,dt):"consent"===_e?E("consent","update",dt):E("set",ze)}catch(mt){Pn.error(mt)}})).apply(this,arguments)}return function X(_e,ze,dt){return ce.apply(this,arguments)}}(ce,E,M,P),{gtagCore:ce,wrappedGtag:window[X]}}(Jt,Da,is,Mc,"gtag");As=ce,Ta=_e,Nu=!0}return Jt[U]=function ap(E,M,P,U,X,ce,_e){return lo.apply(this,arguments)}(E,Da,is,M,Ta,Mc,P),new Ml(E)}function vv(){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,L.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}const Nn="@firebase/analytics";!function Nt(){(0,oe._registerComponent)(new Y.wA(Mo,(M,{options:P})=>Rm(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),P),"PUBLIC")),(0,oe._registerComponent)(new Y.wA("analytics-internal",function E(M){try{const P=M.getProvider(Mo).getImmediate();return{logEvent:(U,X,ce)=>function tn(E,M,P,U){E=(0,ne.m9)(E),function sh(E,M,P,U,X){return Dc.apply(this,arguments)}(As,Jt[E.app.options.appId],M,P,U).catch(X=>Pn.error(X))}(P,U,X,ce)}}catch(P){throw dr.create("interop-component-reg-failed",{reason:P})}},"PRIVATE")),(0,oe.registerVersion)(Nn,"0.9.0"),(0,oe.registerVersion)(Nn,"0.9.0","esm2017")}();var ss=F(341),Oc=F(353),Po=F(2994),ji=F(7770),Qn=F(2899);const xl=new o.GfV("7.5.0"),Fu="__angularfire_symbol__analyticsIsSupportedValue",fh="__angularfire_symbol__analyticsIsSupported",fr="__angularfire_symbol__remoteConfigIsSupportedValue",Ea="__angularfire_symbol__remoteConfigIsSupported",Sr="__angularfire_symbol__messagingIsSupportedValue",Ia="__angularfire_symbol__messagingIsSupported";function lp(E,M,P){if(M){if(1===M.length)return M[0];const ce=M.filter(_e=>_e.app===P);if(1===ce.length)return ce[0]}return P.container.getProvider(E).getImmediate({optional:!0})}globalThis[fh]||(globalThis[fh]=vv().then(E=>globalThis[Fu]=E).catch(()=>globalThis[Fu]=!1)),globalThis[Ia]||(globalThis[Ia]=vc().then(E=>globalThis[Sr]=E).catch(()=>globalThis[Sr]=!1)),globalThis[Ea]||(globalThis[Ea]=Gd().then(E=>globalThis[fr]=E).catch(()=>globalThis[fr]=!1));const Al=(E,M)=>{const P=M?[M]:(0,ee.C6)(),U=[];return P.forEach(X=>{X.container.getProvider(E).instances.forEach(_e=>{U.includes(_e)||U.push(_e)})}),U};function Kr(){}class Lu{constructor(M,P=ss.N){this.zone=M,this.delegate=P}now(){return this.delegate.now()}schedule(M,P,U){const X=this.zone;return this.delegate.schedule(function(_e){X.runGuarded(()=>{M.apply(this,[_e])})},P,U)}}class up{constructor(M){this.zone=M,this.task=null}call(M,P){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Kr,{},Kr,Kr)),P.pipe((0,Po.b)({next:U,complete:U,error:U})).subscribe(M).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let as=(()=>{class E{constructor(P){this.ngZone=P,this.outsideAngular=P.runOutsideAngular(()=>new Lu(Zone.current)),this.insideAngular=P.run(()=>new Lu(Zone.current,Oc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(P){return new(P||E)(o.LFG(o.R0b))},E.\u0275prov=o.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Ci(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function fn(E){return E.pipe((0,ji.QV)(Ci().outsideAngular))}function ph(E){return Ci(),function gh(E){return function(P){return(P=P.lift(new up(E.ngZone))).pipe((0,Qn.R)(E.outsideAngular),(0,ji.QV)(E.insideAngular))}}(Ci())(E)}},2090:(st,ye,F)=>{F.d(ye,{$s:()=>et,BH:()=>hn,DV:()=>qr,Dv:()=>ro,G6:()=>Et,GJ:()=>ws,L:()=>Q,LL:()=>Gr,Pz:()=>Ui,Sg:()=>jt,UG:()=>De,UI:()=>Wr,US:()=>Y,Wj:()=>nt,Wl:()=>eo,Yr:()=>Ht,ZB:()=>H,ZR:()=>jr,aH:()=>ii,b$:()=>fe,cI:()=>Mn,dS:()=>sn,eu:()=>wt,g5:()=>L,gK:()=>cr,gQ:()=>Cn,h$:()=>se,hl:()=>Sn,hu:()=>ee,jU:()=>Ne,lb:()=>_n,m9:()=>Gt,ne:()=>Wn,p$:()=>V,pd:()=>no,r3:()=>$r,ru:()=>he,tV:()=>J,uI:()=>Ie,ug:()=>io,vZ:()=>He,w1:()=>Ze,w9:()=>Rn,xO:()=>ar,xb:()=>Ae,z$:()=>ue,zI:()=>Me,zd:()=>to});const ee=function(q,G){if(!q)throw L(G)},L=function(q){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+q)},oe=function(q){const G=[];let K=0;for(let me=0;me<q.length;me++){let te=q.charCodeAt(me);te<128?G[K++]=te:te<2048?(G[K++]=te>>6|192,G[K++]=63&te|128):55296==(64512&te)&&me+1<q.length&&56320==(64512&q.charCodeAt(me+1))?(te=65536+((1023&te)<<10)+(1023&q.charCodeAt(++me)),G[K++]=te>>18|240,G[K++]=te>>12&63|128,G[K++]=te>>6&63|128,G[K++]=63&te|128):(G[K++]=te>>12|224,G[K++]=te>>6&63|128,G[K++]=63&te|128)}return G},Y={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,G){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,me=[];for(let te=0;te<q.length;te+=3){const Ge=q[te],ht=te+1<q.length,$t=ht?q[te+1]:0,ln=te+2<q.length,an=ln?q[te+2]:0;let Vt=(15&$t)<<2|an>>6,Tr=63&an;ln||(Tr=64,ht||(Vt=64)),me.push(K[Ge>>2],K[(3&Ge)<<4|$t>>4],K[Vt],K[Tr])}return me.join("")},encodeString(q,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(q):this.encodeByteArray(oe(q),G)},decodeString(q,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(q):function(q){const G=[];let K=0,me=0;for(;K<q.length;){const te=q[K++];if(te<128)G[me++]=String.fromCharCode(te);else if(te>191&&te<224){const Ge=q[K++];G[me++]=String.fromCharCode((31&te)<<6|63&Ge)}else if(te>239&&te<365){const ln=((7&te)<<18|(63&q[K++])<<12|(63&q[K++])<<6|63&q[K++])-65536;G[me++]=String.fromCharCode(55296+(ln>>10)),G[me++]=String.fromCharCode(56320+(1023&ln))}else{const Ge=q[K++],ht=q[K++];G[me++]=String.fromCharCode((15&te)<<12|(63&Ge)<<6|63&ht)}}return G.join("")}(this.decodeStringToByteArray(q,G))},decodeStringToByteArray(q,G){this.init_();const K=G?this.charToByteMapWebSafe_:this.charToByteMap_,me=[];for(let te=0;te<q.length;){const Ge=K[q.charAt(te++)],$t=te<q.length?K[q.charAt(te)]:0;++te;const an=te<q.length?K[q.charAt(te)]:64;++te;const Be=te<q.length?K[q.charAt(te)]:64;if(++te,null==Ge||null==$t||null==an||null==Be)throw Error();me.push(Ge<<2|$t>>4),64!==an&&(me.push($t<<4&240|an>>2),64!==Be&&me.push(an<<6&192|Be))}return me},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}},se=function(q){const G=oe(q);return Y.encodeByteArray(G,!0)},Q=function(q){return se(q).replace(/\./g,"")},J=function(q){try{return Y.decodeString(q,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function V(q){return H(void 0,q)}function H(q,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return G}for(const K in G)!G.hasOwnProperty(K)||!$(K)||(q[K]=H(q[K],G[K]));return q}function $(q){return"__proto__"!==q}function ue(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ie(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ue())}function De(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ne(){return"object"==typeof self&&self.self===self}function he(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function fe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ze(){const q=ue();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function Ht(){return!1}function Et(){return!De()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Sn(){try{return"object"==typeof indexedDB}catch{return!1}}function wt(){return new Promise((q,G)=>{try{let K=!0;const me="validate-browser-context-for-indexeddb-analytics-module",te=self.indexedDB.open(me);te.onsuccess=()=>{te.result.close(),K||self.indexedDB.deleteDatabase(me),q(!0)},te.onupgradeneeded=()=>{K=!1},te.onerror=()=>{var Ge;G((null===(Ge=te.error)||void 0===Ge?void 0:Ge.message)||"")}}catch(K){G(K)}})}function Me(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Ye=()=>{try{return function Ce(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const q=process.env.__FIREBASE_DEFAULTS__;return q?JSON.parse(q):void 0})()||(()=>{if(typeof document>"u")return;let q;try{q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const G=q&&J(q[1]);return G&&JSON.parse(G)})()}catch(q){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${q}`)}},ii=()=>{var q;return null===(q=Ye())||void 0===q?void 0:q.config},Ui=q=>{var G;return null===(G=Ye())||void 0===G?void 0:G[`_${q}`]};class hn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,K)=>{this.resolve=G,this.reject=K})}wrapCallback(G){return(K,me)=>{K?this.reject(K):this.resolve(me),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(K):G(K,me))}}}function jt(q,G){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const me=G||"demo-project",te=q.iat||0,Ge=q.sub||q.user_id;if(!Ge)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ht=Object.assign({iss:`https://securetoken.google.com/${me}`,aud:me,iat:te,exp:te+3600,auth_time:te,sub:Ge,user_id:Ge,firebase:{sign_in_provider:"custom",identities:{}}},q);return[Q(JSON.stringify({alg:"none",type:"JWT"})),Q(JSON.stringify(ht)),""].join(".")}class jr extends Error{constructor(G,K,me){super(K),this.code=G,this.customData=me,this.name="FirebaseError",Object.setPrototypeOf(this,jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gr.prototype.create)}}class Gr{constructor(G,K,me){this.service=G,this.serviceName=K,this.errors=me}create(G,...K){const me=K[0]||{},te=`${this.service}/${G}`,Ge=this.errors[G],ht=Ge?function bn(q,G){return q.replace(Xi,(K,me)=>{const te=G[me];return null!=te?String(te):`<${me}?>`})}(Ge,me):"Error";return new jr(te,`${this.serviceName}: ${ht} (${te}).`,me)}}const Xi=/\{\$([^}]+)}/g;function Mn(q){return JSON.parse(q)}function eo(q){return JSON.stringify(q)}const Yo=function(q){let G={},K={},me={},te="";try{const Ge=q.split(".");G=Mn(J(Ge[0])||""),K=Mn(J(Ge[1])||""),te=Ge[2],me=K.d||{},delete K.d}catch{}return{header:G,claims:K,data:me,signature:te}},Rn=function(q){const K=Yo(q).claims;return!!K&&"object"==typeof K&&K.hasOwnProperty("iat")},ws=function(q){const G=Yo(q).claims;return"object"==typeof G&&!0===G.admin};function $r(q,G){return Object.prototype.hasOwnProperty.call(q,G)}function qr(q,G){if(Object.prototype.hasOwnProperty.call(q,G))return q[G]}function Ae(q){for(const G in q)if(Object.prototype.hasOwnProperty.call(q,G))return!1;return!0}function Wr(q,G,K){const me={};for(const te in q)Object.prototype.hasOwnProperty.call(q,te)&&(me[te]=G.call(K,q[te],te,q));return me}function He(q,G){if(q===G)return!0;const K=Object.keys(q),me=Object.keys(G);for(const te of K){if(!me.includes(te))return!1;const Ge=q[te],ht=G[te];if(kr(Ge)&&kr(ht)){if(!He(Ge,ht))return!1}else if(Ge!==ht)return!1}for(const te of me)if(!K.includes(te))return!1;return!0}function kr(q){return null!==q&&"object"==typeof q}function ar(q){const G=[];for(const[K,me]of Object.entries(q))Array.isArray(me)?me.forEach(te=>{G.push(encodeURIComponent(K)+"="+encodeURIComponent(te))}):G.push(encodeURIComponent(K)+"="+encodeURIComponent(me));return G.length?"&"+G.join("&"):""}function to(q){const G={};return q.replace(/^\?/,"").split("&").forEach(me=>{if(me){const[te,Ge]=me.split("=");G[decodeURIComponent(te)]=decodeURIComponent(Ge)}}),G}function no(q){const G=q.indexOf("?");if(!G)return"";const K=q.indexOf("#",G);return q.substring(G,K>0?K:void 0)}class Cn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let G=1;G<this.blockSize;++G)this.pad_[G]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(G,K){K||(K=0);const me=this.W_;if("string"==typeof G)for(let Be=0;Be<16;Be++)me[Be]=G.charCodeAt(K)<<24|G.charCodeAt(K+1)<<16|G.charCodeAt(K+2)<<8|G.charCodeAt(K+3),K+=4;else for(let Be=0;Be<16;Be++)me[Be]=G[K]<<24|G[K+1]<<16|G[K+2]<<8|G[K+3],K+=4;for(let Be=16;Be<80;Be++){const Vt=me[Be-3]^me[Be-8]^me[Be-14]^me[Be-16];me[Be]=4294967295&(Vt<<1|Vt>>>31)}let an,ke,te=this.chain_[0],Ge=this.chain_[1],ht=this.chain_[2],$t=this.chain_[3],ln=this.chain_[4];for(let Be=0;Be<80;Be++){Be<40?Be<20?(an=$t^Ge&(ht^$t),ke=1518500249):(an=Ge^ht^$t,ke=1859775393):Be<60?(an=Ge&ht|$t&(Ge|ht),ke=2400959708):(an=Ge^ht^$t,ke=3395469782);const Vt=(te<<5|te>>>27)+an+ln+ke+me[Be]&4294967295;ln=$t,$t=ht,ht=4294967295&(Ge<<30|Ge>>>2),Ge=te,te=Vt}this.chain_[0]=this.chain_[0]+te&4294967295,this.chain_[1]=this.chain_[1]+Ge&4294967295,this.chain_[2]=this.chain_[2]+ht&4294967295,this.chain_[3]=this.chain_[3]+$t&4294967295,this.chain_[4]=this.chain_[4]+ln&4294967295}update(G,K){if(null==G)return;void 0===K&&(K=G.length);const me=K-this.blockSize;let te=0;const Ge=this.buf_;let ht=this.inbuf_;for(;te<K;){if(0===ht)for(;te<=me;)this.compress_(G,te),te+=this.blockSize;if("string"==typeof G){for(;te<K;)if(Ge[ht]=G.charCodeAt(te),++ht,++te,ht===this.blockSize){this.compress_(Ge),ht=0;break}}else for(;te<K;)if(Ge[ht]=G[te],++ht,++te,ht===this.blockSize){this.compress_(Ge),ht=0;break}}this.inbuf_=ht,this.total_+=K}digest(){const G=[];let K=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let te=this.blockSize-1;te>=56;te--)this.buf_[te]=255&K,K/=256;this.compress_(this.buf_);let me=0;for(let te=0;te<5;te++)for(let Ge=24;Ge>=0;Ge-=8)G[me]=this.chain_[te]>>Ge&255,++me;return G}}function Wn(q,G){const K=new xn(q,G);return K.subscribe.bind(K)}class xn{constructor(G,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{G(this)}).catch(me=>{this.error(me)})}next(G){this.forEachObserver(K=>{K.next(G)})}error(G){this.forEachObserver(K=>{K.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,K,me){let te;if(void 0===G&&void 0===K&&void 0===me)throw new Error("Missing Observer.");te=function lt(q,G){if("object"!=typeof q||null===q)return!1;for(const K of G)if(K in q&&"function"==typeof q[K])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:K,complete:me},void 0===te.next&&(te.next=Qt),void 0===te.error&&(te.error=Qt),void 0===te.complete&&(te.complete=Qt);const Ge=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?te.error(this.finalError):te.complete()}catch{}}),this.observers.push(te),Ge}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,G)}sendOne(G,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{K(this.observers[G])}catch(me){typeof console<"u"&&console.error&&console.error(me)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qt(){}const ro=function(q,G,K,me){let te;if(me<G?te="at least "+G:me>K&&(te=0===K?"none":"no more than "+K),te)throw new Error(q+" failed: Was called with "+me+(1===me?" argument.":" arguments.")+" Expects "+te+".")};function cr(q,G){return`${q} failed: ${G} argument `}function nt(q,G,K,me){if((!me||K)&&"function"!=typeof K)throw new Error(cr(q,G)+"must be a valid function.")}function _n(q,G,K,me){if((!me||K)&&("object"!=typeof K||null===K))throw new Error(cr(q,G)+"must be a valid context object.")}const sn=function(q){const G=[];let K=0;for(let me=0;me<q.length;me++){let te=q.charCodeAt(me);if(te>=55296&&te<=56319){const Ge=te-55296;me++,ee(me<q.length,"Surrogate pair missing trail surrogate."),te=65536+(Ge<<10)+(q.charCodeAt(me)-56320)}te<128?G[K++]=te:te<2048?(G[K++]=te>>6|192,G[K++]=63&te|128):te<65536?(G[K++]=te>>12|224,G[K++]=te>>6&63|128,G[K++]=63&te|128):(G[K++]=te>>18|240,G[K++]=te>>12&63|128,G[K++]=te>>6&63|128,G[K++]=63&te|128)}return G},io=function(q){let G=0;for(let K=0;K<q.length;K++){const me=q.charCodeAt(K);me<128?G++:me<2048?G+=2:me>=55296&&me<=56319?(G+=4,K++):G+=3}return G};function et(q,G=1e3,K=2){const me=G*Math.pow(K,q),te=Math.round(.5*me*(Math.random()-.5)*2);return Math.min(144e5,me+te)}function Gt(q){return q&&q._delegate?q._delegate:q}},4229:(st,ye,F)=>{var o=F(4650);let ee=null;function L(){return ee}const se=new o.OlP("DocumentToken");let Q=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function J(){return(0,o.LFG)(H)}()},providedIn:"platform"}),n})();const V=new o.OlP("Location Initialized");let H=(()=>{class n extends Q{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(t){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){$()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){$()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(se))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function ue(){return new H((0,o.LFG)(se))}()},providedIn:"platform"}),n})();function $(){return!!window.history.pushState}function Ie(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function De(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ne(n){return n&&"?"!==n[0]?"?"+n:n}let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(Se)},providedIn:"root"}),n})();const fe=new o.OlP("appBaseHref");let Se=(()=>{class n extends he{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,o.f3M)(se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ie(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ne(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const u=this.prepareExternalUrl(i+Ne(s));this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,s){const u=this.prepareExternalUrl(i+Ne(s));this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Q),o.LFG(fe,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ze=(()=>{class n extends he{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ie(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let u=this.prepareExternalUrl(i+Ne(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,s){let u=this.prepareExternalUrl(i+Ne(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Q),o.LFG(fe,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),ot=(()=>{class n{constructor(t){this._subject=new o.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=De(Sn(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ne(r))}normalize(t){return n.stripTrailingSlash(function Et(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Sn(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ne(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ne(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ne,n.joinWithSlash=Ie,n.stripTrailingSlash=De,n.\u0275fac=function(t){return new(t||n)(o.LFG(he))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function Ht(){return new ot((0,o.LFG)(he))}()},providedIn:"root"}),n})();function Sn(n){return n.replace(/\/index.html$/,"")}var Me=(()=>((Me=Me||{})[Me.Decimal=0]="Decimal",Me[Me.Percent=1]="Percent",Me[Me.Currency=2]="Currency",Me[Me.Scientific=3]="Scientific",Me))(),Ye=(()=>((Ye=Ye||{})[Ye.Decimal=0]="Decimal",Ye[Ye.Group=1]="Group",Ye[Ye.List=2]="List",Ye[Ye.PercentSign=3]="PercentSign",Ye[Ye.PlusSign=4]="PlusSign",Ye[Ye.MinusSign=5]="MinusSign",Ye[Ye.Exponential=6]="Exponential",Ye[Ye.SuperscriptingExponent=7]="SuperscriptingExponent",Ye[Ye.PerMille=8]="PerMille",Ye[Ye.Infinity=9]="Infinity",Ye[Ye.NaN=10]="NaN",Ye[Ye.TimeSeparator=11]="TimeSeparator",Ye[Ye.CurrencyDecimal=12]="CurrencyDecimal",Ye[Ye.CurrencyGroup=13]="CurrencyGroup",Ye))();function Mn(n,e){const t=(0,o.cg1)(n),r=t[o.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===Ye.CurrencyDecimal)return t[o.wAp.NumberSymbols][Ye.Decimal];if(e===Ye.CurrencyGroup)return t[o.wAp.NumberSymbols][Ye.Group]}return r}const ln=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function yn(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function al(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}let Xt=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,o.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,o.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.SBq),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class To{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let mi=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,u)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new To(i.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)r.remove(null===s?void 0:s);else if(null!==s){const h=r.get(s);r.move(h,u),la(h,i)}});for(let i=0,s=r.length;i<s;i++){const h=r.get(i).context;h.index=i,h.count=s,h.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{la(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function la(n,e){n.context.$implicit=e.item}let en=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Yf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ir("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ir("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Yf{constructor(){this.$implicit=null,this.ngIf=null}}function Ir(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(e)}'.`)}let Xo=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:s,ngTemplateOutletInjector:u}=this;this._viewRef=r.createEmbeddedView(i,s,u?{injector:u}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[o.TTD]}),n})();function Vi(n,e){return new o.vHH(2100,!1)}class Am{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class ic{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const Jf=new ic,Ud=new Am;let oc=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,o.QGY)(t))return Jf;if((0,o.F4k)(t))return Ud;throw Vi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.sBO,16))},n.\u0275pipe=o.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),hl=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!function ha(n){return!(null==n||""===n||n!=n)}(t))return null;i=i||this._locale;try{return function St(n,e,t){return function Dn(n,e,t,r,i,s,u=!1){let h="",g=!1;if(isFinite(n)){let v=function Ds(n){let r,i,s,u,h,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(h=e.length))r=[0],i=1;else{for(h--;"0"===e.charAt(h);)h--;for(i-=s,r=[],u=0;s<=h;s++,u++)r[u]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);u&&(v=function Jo(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(v));let D=e.minInt,I=e.minFrac,O=e.maxFrac;if(s){const Oe=s.match(ln);if(null===Oe)throw new Error(`${s} is not a valid digit info`);const Le=Oe[1],Pe=Oe[3],Ve=Oe[5];null!=Le&&(D=yn(Le)),null!=Pe&&(I=yn(Pe)),null!=Ve?O=yn(Ve):null!=Pe&&I>O&&(O=I)}!function Fr(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const s=Math.min(Math.max(e,i),t);let u=s+n.integerLen,h=r[u];if(u>0){r.splice(Math.max(n.integerLen,u));for(let I=u;I<r.length;I++)r[I]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,u=s+1),r[0]=0;for(let I=1;I<u;I++)r[I]=0}if(h>=5)if(u-1<0){for(let I=0;I>u;I--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[u-1]++;for(;i<Math.max(0,s);i++)r.push(0);let g=0!==s;const v=e+n.integerLen,D=r.reduceRight(function(I,O,k,Z){return Z[k]=(O+=I)<10?O:O-10,g&&(0===Z[k]&&k>=v?Z.pop():g=!1),O>=10?1:0},0);D&&(r.unshift(D),n.integerLen++)}(v,I,O);let k=v.digits,Z=v.integerLen;const z=v.exponent;let ie=[];for(g=k.every(Oe=>!Oe);Z<D;Z++)k.unshift(0);for(;Z<0;Z++)k.unshift(0);Z>0?ie=k.splice(Z,k.length):(ie=k,k=[0]);const be=[];for(k.length>=e.lgSize&&be.unshift(k.splice(-e.lgSize,k.length).join(""));k.length>e.gSize;)be.unshift(k.splice(-e.gSize,k.length).join(""));k.length&&be.unshift(k.join("")),h=be.join(Mn(t,r)),ie.length&&(h+=Mn(t,i)+ie.join("")),z&&(h+=Mn(t,Ye.Exponential)+"+"+z)}else h=Mn(t,Ye.Infinity);return h=n<0&&!g?e.negPre+h+e.negSuf:e.posPre+h+e.posSuf,h}(n,function sa(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],s=r[1],u=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],h=u[0],g=u[1]||"";t.posPre=h.substring(0,h.indexOf("#"));for(let D=0;D<g.length;D++){const I=g.charAt(D);"0"===I?t.minFrac=t.maxFrac=D+1:"#"===I?t.maxFrac=D+1:t.posSuf+=I}const v=h.split(",");if(t.gSize=v[1]?v[1].length:0,t.lgSize=v[2]||v[1]?(v[2]||v[1]).length:0,s){const D=i.length-t.posPre.length-t.posSuf.length,I=s.indexOf("#");t.negPre=s.substring(0,I).replace(/'/g,""),t.negSuf=s.slice(I+D).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function eo(n,e){return(0,o.cg1)(n)[o.wAp.NumberFormats][e]}(e,Me.Decimal),Mn(e,Ye.MinusSign)),e,Ye.Group,Ye.Decimal,t)}(function yu(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),i,r)}catch(s){throw Vi()}}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.soG,16))},n.\u0275pipe=o.Yjl({name:"number",type:n,pure:!0,standalone:!0}),n})();let An=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const Bi="browser";function lc(n){return"server"===n}let ep=(()=>{class n{}return n.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new Nm((0,o.LFG)(se),window)}),n})();class Nm{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function jn(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const u=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=vi(this.window.history)||vi(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function vi(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class uc{}class Io extends class Qd extends class Y{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ne(n){ee||(ee=n)}(new Io)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Cl(){return Ms=Ms||document.querySelector("base"),Ms?Ms.getAttribute("href"):null}();return null==t?null:function ao(n){ur=ur||document.createElement("a"),ur.setAttribute("href",n);const e=ur.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ms=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return al(document.cookie,e)}}let ur,Ms=null;const Tn=new o.OlP("TRANSITION_ID"),Mu=[{provide:o.ip1,useFactory:function vc(n,e,t){return()=>{t.get(o.CZH).donePromise.then(()=>{const r=L(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[Tn,se,o.zs3],multi:!0}];let bc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const wl=new o.OlP("EventManagerPlugins");let xu=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const u=i[s];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(wl),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class _a{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=L().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let xs=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),So=(()=>{class n extends xs{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const u=this._doc.createElement("style");u.textContent=s,i.push(r.appendChild(u))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Ou),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ou))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(se))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function Ou(n){L().remove(n)}const Mo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Au=/%COMP%/g;function va(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?va(n,i,t):(i=i.replace(Au,n),t.push(i))}return t}function Xd(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Cc=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new ts(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case o.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new eh(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case o.ifc.ShadowDom:return new th(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=va(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(xu),o.LFG(So),o.LFG(o.AFp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class ts{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Mo[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(ba(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(ba(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=Mo[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Mo[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(o.JOm.DashCase|o.JOm.Important)?e.style.setProperty(t,r,i&o.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&o.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Xd(r)):this.eventManager.addEventListener(e,t,Xd(r))}}function ba(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class eh extends ts{constructor(e,t,r,i){super(e),this.component=r;const s=va(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function Pn(n){return"_ngcontent-%COMP%".replace(Au,n)}(i+"-"+r.id),this.hostAttr=function Dl(n){return"_nghost-%COMP%".replace(Au,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class th extends ts{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=va(i.id,i.styles,[]);for(let u=0;u<s.length;u++){const h=document.createElement("style");h.textContent=s[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let dr=(()=>{class n extends _a{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(se))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const nh=["alt","control","meta","shift"],Ca={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rh={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let wc=(()=>{class n extends _a{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),u=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(t,s.domEventName,u))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let u="",h=r.indexOf("code");if(h>-1&&(r.splice(h,1),u="code."),nh.forEach(v=>{const D=r.indexOf(v);D>-1&&(r.splice(D,1),u+=v+".")}),u+=s,0!=r.length||0===s.length)return null;const g={};return g.domEventName=i,g.fullKey=u,g}static matchEventFullKeyCode(t,r){let i=Ca[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),nh.forEach(u=>{u!==i&&(0,rh[u])(t)&&(s+=u+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(se))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const El=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:Bi},{provide:o.g9A,useValue:function op(){Io.makeCurrent()},multi:!0},{provide:se,useFactory:function Oo(){return(0,o.RDi)(document),document},deps:[]}]),Os=new o.OlP(""),sh=[{provide:o.rWj,useClass:class rp{addToWindow(e){o.dqk.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},o.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(r=>{const i=o.dqk.getAllAngularTestabilities();let s=i.length,u=!1;const h=function(g){u=u||g,s--,0==s&&r(u)};i.forEach(function(g){g.whenStable(h)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?L().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:o.lri,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]}],Dc=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function xo(){return new o.qLn},deps:[]},{provide:wl,useClass:dr,multi:!0,deps:[se,o.R0b,o.Lbi]},{provide:wl,useClass:wc,multi:!0,deps:[se]},{provide:Cc,useClass:Cc,deps:[xu,So,o.AFp]},{provide:o.FYo,useExisting:Cc},{provide:xs,useExisting:So},{provide:So,useClass:So,deps:[se]},{provide:xu,useClass:xu,deps:[wl,o.R0b]},{provide:uc,useClass:bc,deps:[]},[]];let Il=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:o.AFp,useValue:t.appId},{provide:Tn,useExisting:o.AFp},Mu]}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Os,12))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[...Dc,...sh],imports:[An,o.hGG]}),n})(),rs=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(se))},n.\u0275prov=o.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Ic(){return new rs((0,o.LFG)(se))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Ps=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):o.LFG(hh),r},providedIn:"root"}),n})(),hh=(()=>{class n extends Ps{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case o.q3G.NONE:return r;case o.q3G.HTML:return(0,o.qzn)(r,"HTML")?(0,o.z3N)(r):(0,o.EiD)(this._doc,String(r)).toString();case o.q3G.STYLE:return(0,o.qzn)(r,"Style")?(0,o.z3N)(r):r;case o.q3G.SCRIPT:if((0,o.qzn)(r,"Script"))return(0,o.z3N)(r);throw new Error("unsafe value used in a script context");case o.q3G.URL:return(0,o.qzn)(r,"URL")?(0,o.z3N)(r):(0,o.mCW)(String(r));case o.q3G.RESOURCE_URL:if((0,o.qzn)(r,"ResourceURL"))return(0,o.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,o.JVY)(t)}bypassSecurityTrustStyle(t){return(0,o.L6k)(t)}bypassSecurityTrustScript(t){return(0,o.eBb)(t)}bypassSecurityTrustUrl(t){return(0,o.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,o.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(se))},n.\u0275prov=o.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Cv(n){return new hh(n.get(se))}(o.LFG(o.zs3)),r},providedIn:"root"}),n})();var tn=F(5254),Qe=F(1086),Nn=F(8929),os=F(5279);class Nt extends Nn.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new os.N;return this._value}next(e){super.next(this._value=e)}}const Oc=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var Po=F(2866),ji=F(6688),Qn=F(3489);class xl extends Qn.L{notifyNext(e,t,r,i,s){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class Fu extends Qn.L{constructor(e,t,r){super(),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var fh=F(9249),fr=F(6498);function Ea(n,e,t,r,i=new Fu(n,t,r)){if(!i.closed)return e instanceof fr.y?e.subscribe(i):(0,fh.s)(e)(i)}var Sr=F(3009);const Ia={};function bi(...n){let e,t;return(0,Po.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,ji.k)(n[0])&&(n=n[0]),(0,Sr.n)(n,t).lift(new wv(e))}class wv{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new cp(e,this.resultSelector))}}class cp extends xl{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Ia),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++)this.add(Ea(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r){const i=this.values,u=this.toRespond?i[r]===Ia?--this.toRespond:this.toRespond:0;i[r]=t,0===u&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}var Ol=F(9146);function Al(...n){return function lp(){return(0,Ol.J)(1)}()((0,Qe.of)(...n))}var Kr=F(8896);function Lu(n){return new fr.y(e=>{let t;try{t=n()}catch(i){return void e.error(i)}return(t?(0,tn.D)(t):(0,Kr.c)()).subscribe(e)})}var up=F(4843),as=F(1737),Ci=F(1762),Je=F(4850),En=F(1177);function fn(n,e){return"function"==typeof e?t=>t.pipe(fn((r,i)=>(0,tn.D)(n(r,i)).pipe((0,Je.U)((s,u)=>e(r,s,i,u))))):t=>t.lift(new Ac(n))}class Ac{constructor(e){this.project=e}call(e,t){return t.subscribe(new ph(e,this.project))}}class ph extends En.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(i){return void this.destination.error(i)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const r=new En.IY(this),i=this.destination;i.add(r),this.innerSubscription=(0,En.ft)(e,r),this.innerSubscription!==r&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const Pc=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function pr(n){return e=>0===n?(0,Kr.c)():e.lift(new E(n))}class E{constructor(e){if(this.total=e,this.total<0)throw new Pc}call(e,t){return t.subscribe(new M(e,this.total))}}class M extends Qn.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}function P(...n){const e=n[n.length-1];return(0,Po.K)(e)?(n.pop(),t=>Al(n,t,e)):t=>Al(n,t)}function U(n,e){return function(r){return r.lift(new X(n,e))}}class X{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new ce(e,this.predicate,this.thisArg))}}class ce extends Qn.L{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}var _e=F(1709);function ze(n=null){return e=>e.lift(new dt(n))}class dt{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new mt(e,this.defaultValue))}}class mt extends Qn.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function kt(n=mr){return e=>e.lift(new vt(n))}class vt{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new gr(e,this.errorFactory))}}class gr extends Qn.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function mr(){return new Oc}var Gi=F(5379);function Yr(n,e){const t=arguments.length>=2;return r=>r.pipe(n?U((i,s)=>n(i,s,r)):Gi.y,pr(1),t?ze(e):kt(()=>new Oc))}function Qr(n,e){return(0,_e.zg)(n,e,1)}var Ft=F(2994);function _r(n){return function(t){const r=new Ns(n),i=t.lift(r);return r.caught=i}}class Ns{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Dv(e,this.selector,this.caught))}}class Dv extends En.Ds{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(s){return void super.error(s)}this._unsubscribeAndRecycle();const r=new En.IY(this);this.add(r);const i=(0,En.ft)(t,r);i!==r&&this.add(i)}}}function Nc(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(i){return i.lift(new Sa(n,e,t))}}class Sa{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new kc(e,this.accumulator,this.seed,this.hasSeed))}}class kc extends Qn.L{constructor(e,t,r,i){super(e),this.accumulator=t,this._seed=r,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(i){this.destination.error(i)}this.seed=r,this.destination.next(r)}}function Uu(n){return function(t){return 0===n?(0,Kr.c)():t.lift(new PC(n))}}class PC{constructor(e){if(this.total=e,this.total<0)throw new Pc}call(e,t){return t.subscribe(new mh(e,this.total))}}class mh extends Qn.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,i=this.count++;t.length<r?t.push(e):t[i%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,i=this.ring;for(let s=0;s<r;s++){const u=t++%r;e.next(i[u])}}e.complete()}}function dp(n,e){const t=arguments.length>=2;return r=>r.pipe(n?U((i,s)=>n(i,s,r)):Gi.y,Uu(1),t?ze(e):kt(()=>new Oc))}class Ev{constructor(e,t){this.predicate=e,this.inclusive=t}call(e,t){return t.subscribe(new Iv(e,this.predicate,this.inclusive))}}class Iv extends Qn.L{constructor(e,t,r){super(e),this.predicate=t,this.inclusive=r,this.index=0}_next(e){const t=this.destination;let r;try{r=this.predicate(e,this.index++)}catch(i){return void t.error(i)}this.nextOrComplete(e,r)}nextOrComplete(e,t){const r=this.destination;Boolean(t)?r.next(e):(this.inclusive&&r.next(e),r.complete())}}class _h{constructor(e){this.value=e}call(e,t){return t.subscribe(new Fm(e,this.value))}}class Fm extends Qn.L{constructor(e,t){super(e),this.value=t}_next(e){this.destination.next(this.value)}}var yh=F(2654);function Vu(n){return e=>e.lift(new NC(n))}class NC{constructor(e){this.callback=e}call(e,t){return t.subscribe(new vh(e,this.callback))}}class vh extends Qn.L{constructor(e,t){super(e),this.add(new yh.w(t))}}var Sv=F(4327);const Ot="primary",Ma=Symbol("RouteTitle");class Bu{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Pl(n){return new Bu(n)}function Lm(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const u=r[s],h=n[s];if(u.startsWith(":"))i[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function cs(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!Um(n[i],e[i]))return!1;return!0}function Um(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function Vm(n){return Array.prototype.concat.apply([],n)}function Mv(n){return n.length>0?n[n.length-1]:null}function Mr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ks(n){return(0,o.CqO)(n)?n:(0,o.QGY)(n)?(0,tn.D)(Promise.resolve(n)):(0,Qe.of)(n)}const bh={exact:function Hm(n,e,t){if(!Fc(n.segments,e.segments)||!Dh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Hm(n.children[r],e.children[r],t))return!1;return!0},subset:gp},pp={exact:function Zm(n,e){return cs(n,e)},subset:function Ch(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Um(n[t],e[t]))},ignored:()=>!0};function No(n,e,t){return bh[t.paths](n.root,e.root,t.matrixParams)&&pp[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function gp(n,e,t){return wh(n,e,e.segments,t)}function wh(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Fc(i,t)||e.hasChildren()||!Dh(i,t,r))}if(n.segments.length===t.length){if(!Fc(n.segments,t)||!Dh(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!gp(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Fc(n.segments,i)&&Dh(n.segments,i,r)&&n.children[Ot])&&wh(n.children[Ot],e,s,r)}}function Dh(n,e,t){return e.every((r,i)=>pp[t](n[i].parameters,r.parameters))}class Rc{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pl(this.queryParams)),this._queryParamMap}toString(){return mp.serialize(this)}}class Lt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Mr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xr(this)}}class Nl{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Pl(this.parameters)),this._parameterMap}toString(){return jm(this)}}function Fc(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Th=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return new Eh},providedIn:"root"}),n})();class Eh{parse(e){const t=new Gu(e);return new Rc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Rs(e.root,!0)}`,r=function Av(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Sh(t)}=${Sh(i)}`).join("&"):`${Sh(t)}=${Sh(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Ov(n){return encodeURI(n)}(e.fragment)}`:""}`}}const mp=new Eh;function xr(n){return n.segments.map(e=>jm(e)).join("/")}function Rs(n,e){if(!n.hasChildren())return xr(n);if(e){const t=n.children[Ot]?Rs(n.children[Ot],!1):"",r=[];return Mr(n.children,(i,s)=>{s!==Ot&&r.push(`${s}:${Rs(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Jr(n,e){let t=[];return Mr(n.children,(r,i)=>{i===Ot&&(t=t.concat(e(r,i)))}),Mr(n.children,(r,i)=>{i!==Ot&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Ot?[Rs(n.children[Ot],!1)]:[`${i}:${Rs(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ot]?`${xr(n)}/${t[0]}`:`${xr(n)}/(${t.join("//")})`}}function Ih(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sh(n){return Ih(n).replace(/%3B/gi,";")}function Mh(n){return Ih(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xh(n){return decodeURIComponent(n)}function Hu(n){return xh(n.replace(/\+/g,"%20"))}function jm(n){return`${Mh(n.path)}${function Oh(n){return Object.keys(n).map(e=>`;${Mh(e)}=${Mh(n[e])}`).join("")}(n.parameters)}`}const Gm=/^[^\/()?;=#]+/;function kl(n){const e=n.match(Gm);return e?e[0]:""}const ju=/^[^=?&#]+/,_p=/^[^&#]+/;class Gu{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Lt([],{}):new Lt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ot]=new Lt(e,t)),r}parseSegment(){const e=kl(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new o.vHH(4009,!1);return this.capture(e),new Nl(xh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=kl(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=kl(this.remaining);i&&(r=i,this.capture(r))}e[xh(t)]=xh(r)}parseQueryParam(e){const t=function Pv(n){const e=n.match(ju);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const u=function $m(n){const e=n.match(_p);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=Hu(t),s=Hu(r);if(e.hasOwnProperty(i)){let u=e[i];Array.isArray(u)||(u=[u],e[i]=u),u.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=kl(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new o.vHH(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Ot);const u=this.parseChildren();t[s]=1===Object.keys(u).length?u[Ot]:new Lt([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new o.vHH(4011,!1)}}function yp(n){return n.segments.length>0?new Lt([],{[Ot]:n}):n}function Ah(n){const e={};for(const r of Object.keys(n.children)){const s=Ah(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function vp(n){if(1===n.numberOfChildren&&n.children[Ot]){const e=n.children[Ot];return new Lt(n.segments.concat(e.segments),e.children)}return n}(new Lt(n.segments,e))}function Fs(n){return n instanceof Rc}function qm(n,e,t,r,i){if(0===t.length)return Rl(e.root,e.root,e.root,r,i);const s=function zm(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Wm(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,u)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return Mr(s.outlets,(g,v)=>{h[v]="string"==typeof g?g.split("/"):g}),[...i,{outlets:h}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===u?(s.split("/").forEach((h,g)=>{0==g&&"."===h||(0==g&&""===h?t=!0:".."===h?e++:""!=h&&i.push(h))}),i):[...i,s]},[]);return new Wm(t,e,r)}(t);return s.toRoot()?Rl(e.root,e.root,new Lt([],{}),r,i):function u(g){const v=function Km(n,e,t,r){if(n.isAbsolute)return new xa(e.root,!0,0);if(-1===r)return new xa(t,t===e.root,0);return function Fl(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new o.vHH(4005,!1);i=r.segments.length}return new xa(r,!1,i-s)}(t,r+(Wu(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,g),D=v.processChildren?Ku(v.segmentGroup,v.index,s.commands):zu(v.segmentGroup,v.index,s.commands);return Rl(e.root,v.segmentGroup,D,r,i)}(n.snapshot?._lastPathIndex)}function Wu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Us(n){return"object"==typeof n&&null!=n&&n.outlets}function Rl(n,e,t,r,i){let u,s={};r&&Mr(r,(g,v)=>{s[v]=Array.isArray(g)?g.map(D=>`${D}`):`${g}`}),u=n===e?t:Ph(n,e,t);const h=yp(Ah(u));return new Rc(h,s,i)}function Ph(n,e,t){const r={};return Mr(n.children,(i,s)=>{r[s]=i===e?t:Ph(i,e,t)}),new Lt(n.segments,r)}class Wm{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Wu(r[0]))throw new o.vHH(4003,!1);const i=r.find(Us);if(i&&i!==Mv(r))throw new o.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xa{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function zu(n,e,t){if(n||(n=new Lt([],{})),0===n.segments.length&&n.hasChildren())return Ku(n,e,t);const r=function kv(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const u=n.segments[i],h=t[r];if(Us(h))break;const g=`${h}`,v=r<t.length-1?t[r+1]:null;if(i>0&&void 0===g)break;if(g&&v&&"object"==typeof v&&void 0===v.outlets){if(!Cp(g,v,u))return s;r+=2}else{if(!Cp(g,{},u))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Lt(n.segments.slice(0,r.pathIndex),{});return s.children[Ot]=new Lt(n.segments.slice(r.pathIndex),n.children),Ku(s,0,i)}return r.match&&0===i.length?new Lt(n.segments,{}):r.match&&!n.hasChildren()?Nh(n,e,t):r.match?Ku(n,0,i):Nh(n,e,t)}function Ku(n,e,t){if(0===t.length)return new Lt(n.segments,{});{const r=function Ym(n){return Us(n[0])?n[0].outlets:{[Ot]:n}}(t),i={};return Mr(r,(s,u)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[u]=zu(n.children[u],e,s))}),Mr(n.children,(s,u)=>{void 0===r[u]&&(i[u]=s)}),new Lt(n.segments,i)}}function Nh(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Us(s)){const g=bp(s.outlets);return new Lt(r,g)}if(0===i&&Wu(t[0])){r.push(new Nl(n.segments[e].path,ls(t[0]))),i++;continue}const u=Us(s)?s.outlets[Ot]:`${s}`,h=i<t.length-1?t[i+1]:null;u&&h&&Wu(h)?(r.push(new Nl(u,ls(h))),i+=2):(r.push(new Nl(u,{})),i++)}return new Lt(r,{})}function bp(n){const e={};return Mr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Nh(new Lt([],{}),0,t))}),e}function ls(n){const e={};return Mr(n,(t,r)=>e[r]=`${t}`),e}function Cp(n,e,t){return n==t.path&&cs(e,t.parameters)}class us{constructor(e,t){this.id=e,this.url=t}}class Yu extends us{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vs extends us{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Lc extends us{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Qm extends us{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Qu extends us{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jm extends us{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xm extends us{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class wp extends us{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dp extends us{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kh{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Rh{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class e_{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tp{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Uc{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ep{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vc{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ip{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Sp(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Sp(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Mp(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Mp(e,this._root).map(t=>t.value)}}function Sp(n,e){if(n===e.value)return e;for(const t of e.children){const r=Sp(n,t);if(r)return r}return null}function Mp(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Mp(n,t);if(r.length)return r.unshift(e),r}return[]}class ko{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ds(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Bc extends Ip{constructor(e,t){super(e),this.snapshot=t,xp(this,e)}toString(){return this.snapshot.toString()}}function Ju(n,e){const t=function Zc(n,e){const u=new Oa([],{},{},"",{},Ot,e,null,n.root,-1,{});return new Xu("",new ko(u,[]))}(n,e),r=new Nt([new Nl("",{})]),i=new Nt({}),s=new Nt({}),u=new Nt({}),h=new Nt(""),g=new uo(r,i,u,h,s,Ot,e,t.root);return g.snapshot=t.root,new Bc(new ko(g,[]),t)}class uo{constructor(e,t,r,i,s,u,h,g){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=u,this.component=h,this.title=this.data?.pipe((0,Je.U)(v=>v[Ma]))??(0,Qe.of)(void 0),this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Je.U)(e=>Pl(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Je.U)(e=>Pl(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function t_(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function ho(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Oa{constructor(e,t,r,i,s,u,h,g,v,D,I,O){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=u,this.component=h,this.title=this.data?.[Ma],this.routeConfig=g,this._urlSegment=v,this._lastPathIndex=D,this._correctedLastPathIndex=O??D,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Xu extends Ip{constructor(e,t){super(t),this.url=e,xp(this,t)}toString(){return ed(this._root)}}function xp(n,e){e.value._routerState=n,e.children.forEach(t=>xp(n,t))}function ed(n){const e=n.children.length>0?` { ${n.children.map(ed).join(", ")} } `:"";return`${n.value}${e}`}function Aa(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,cs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),cs(e.params,t.params)||n.params.next(t.params),function fp(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!cs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),cs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function td(n,e){const t=cs(n.params,e.params)&&function xv(n,e){return Fc(n,e)&&n.every((t,r)=>cs(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||td(n.parent,e.parent))}function Ll(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Bs(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ll(n,r,i);return Ll(n,r)})}(n,e,t);return new ko(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const u=s.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(h=>Ll(n,h)),u}}const r=function Pa(n){return new uo(new Nt(n.url),new Nt(n.params),new Nt(n.queryParams),new Nt(n.fragment),new Nt(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Ll(n,s));return new ko(r,i)}}const Ap="ngNavigationCancelingError";function n_(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Fs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=r_(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function r_(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Ap]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Pp(n){return wi(n)&&Fs(n.url)}function wi(n){return n&&n[Ap]}class Ro{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new fo,this.attachRef=null}}let fo=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Ro,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Fh=!1;let po=(()=>{class n{constructor(t,r,i,s,u){this.parentContexts=t,this.location=r,this.changeDetector=s,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.name=i||Ot,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.vHH(4012,Fh);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.vHH(4012,Fh);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.vHH(4012,Fh);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new o.vHH(4013,Fh);this._activatedRoute=t;const i=this.location,u=t._futureSnapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,g=new nd(t,h,i.injector);if(r&&function i_(n){return!!n.resolveComponentFactory}(r)){const v=r.resolveComponentFactory(u);this.activated=i.createComponent(v,i.length,g)}else this.activated=i.createComponent(u,{index:i.length,injector:g,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(fo),o.Y36(o.s_b),o.$8M("name"),o.Y36(o.sBO),o.Y36(o.lqb))},n.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class nd{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===uo?this.route:e===fo?this.childContexts:this.parent.get(e,t)}}let Lh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[o.jDz],decls:1,vars:0,template:function(t,r){1&t&&o._UZ(0,"router-outlet")},dependencies:[po],encapsulation:2}),n})();function o_(n,e){return n.providers&&!n._injector&&(n._injector=(0,o.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function C(n){const e=n.children&&n.children.map(C),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ot&&(t.component=Lh),t}function S(n){return n.outlet||Ot}function A(n,e){const t=n.filter(r=>S(r)===e);return t.push(...n.filter(r=>S(r)!==e)),t}function j(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Re{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Aa(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=ds(t);e.children.forEach(s=>{const u=s.value.outlet;this.deactivateRoutes(s,i[u],r),delete i[u]}),Mr(i,(s,u)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=ds(e);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],i);if(r&&r.outlet){const u=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=ds(e);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=ds(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Ep(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Tp(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(Aa(i),i===s)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),Aa(h.route.value),this.activateChildRoutes(e,null,u.children)}else{const h=j(i.snapshot),g=h?.get(o._Vd)??null;u.attachRef=null,u.route=i,u.resolver=g,u.injector=h,u.outlet&&u.outlet.activateWith(i,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}}class Te{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Xe{constructor(e,t){this.component=e,this.route=t}}function ut(n,e,t){const r=n._root;return go(r,e?e._root:null,t,[r.value])}function Ln(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,o.Z0I)(n)?e.get(n):n:r}function go(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=ds(e);return n.children.forEach(u=>{(function Uh(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,u=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(u&&s.routeConfig===u.routeConfig){const g=function Rp(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Fc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Fc(n.url,e.url)||!cs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!td(n,e)||!cs(n.queryParams,e.queryParams);default:return!td(n,e)}}(u,s,s.routeConfig.runGuardsAndResolvers);g?i.canActivateChecks.push(new Te(r)):(s.data=u.data,s._resolvedData=u._resolvedData),go(n,e,s.component?h?h.children:null:t,r,i),g&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new Xe(h.outlet.component,u))}else u&&Ul(e,h,i),i.canActivateChecks.push(new Te(r)),go(n,null,s.component?h?h.children:null:t,r,i)})(u,s[u.value.outlet],t,r.concat([u.value]),i),delete s[u.value.outlet]}),Mr(s,(u,h)=>Ul(u,t.getContext(h),i)),i}function Ul(n,e,t){const r=ds(n),i=n.value;Mr(r,(s,u)=>{Ul(s,i.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Xe(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Hc(n){return"function"==typeof n}function a_(n){return n instanceof Oc||"EmptyError"===n?.name}const c_=Symbol("INITIAL_VALUE");function Bh(){return fn(n=>bi(n.map(e=>e.pipe(pr(1),P(c_)))).pipe((0,Je.U)(e=>{for(const t of e)if(!0!==t){if(t===c_)return c_;if(!1===t||t instanceof Rc)return t}return!0}),U(e=>e!==c_),pr(1)))}function Uv(n){return(0,up.z)((0,Ft.b)(e=>{if(Fs(e))throw n_(0,e)}),(0,Je.U)(e=>!0===e))}const l_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Vv(n,e,t,r,i){const s=Bp(n,e,t);return s.matched?function hS(n,e,t,r){const i=e.canMatch;if(!i||0===i.length)return(0,Qe.of)(!0);const s=i.map(u=>{const h=Ln(u,n);return ks(function Fv(n){return n&&Hc(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))});return(0,Qe.of)(s).pipe(Bh(),Uv())}(r=o_(e,r),e,t).pipe((0,Je.U)(u=>!0===u?s:{...l_})):(0,Qe.of)(s)}function Bp(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...l_}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Lm)(t,n,e);if(!i)return{...l_};const s={};Mr(i.posParams,(h,g)=>{s[g]=h.path});const u=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:u,positionalParamSegments:i.posParams??{}}}function Bv(n,e,t,r,i="corrected"){if(t.length>0&&function BC(n,e,t){return t.some(r=>Na(n,e,r)&&S(r)!==Ot)}(n,t,r)){const u=new Lt(e,function Zv(n,e,t,r){const i={};i[Ot]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&S(s)!==Ot){const u=new Lt([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,i[S(s)]=u}return i}(n,e,r,new Lt(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function ZC(n,e,t){return t.some(r=>Na(n,e,r))}(n,t,r)){const u=new Lt(n.segments,function fS(n,e,t,r,i,s){const u={};for(const h of r)if(Na(n,t,h)&&!i[S(h)]){const g=new Lt([],{});g._sourceSegment=n,g._segmentIndexShift="legacy"===s?n.segments.length:e.length,u[S(h)]=g}return{...i,...u}}(n,e,t,r,n.children,i));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const s=new Lt(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Na(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function HC(n,e,t,r){return!!(S(n)===r||r!==Ot&&Na(e,t,n))&&("**"===n.path||Bp(e,n,t).matched)}function u_(n,e,t){return 0===e.length&&!n.children[t]}const rd=!1;class d_{constructor(e){this.segmentGroup=e||null}}class h_{constructor(e){this.urlTree=e}}function Bl(n){return(0,as._)(new d_(n))}function Zl(n){return(0,as._)(new h_(n))}class gS{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=Bv(this.urlTree.root,[],[],this.config).segmentGroup,t=new Lt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Ot).pipe((0,Je.U)(s=>this.createUrlTree(Ah(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(_r(s=>{if(s instanceof h_)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof d_?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Ot).pipe((0,Je.U)(i=>this.createUrlTree(Ah(i),e.queryParams,e.fragment))).pipe(_r(i=>{throw i instanceof d_?this.noMatchError(i):i}))}noMatchError(e){return new o.vHH(4002,rd)}createUrlTree(e,t,r){const i=yp(e);return new Rc(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Je.U)(s=>new Lt([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return(0,tn.D)(i).pipe(Qr(s=>{const u=r.children[s],h=A(t,s);return this.expandSegmentGroup(e,h,u,s).pipe((0,Je.U)(g=>({segment:g,outlet:s})))}),Nc((s,u)=>(s[u.outlet]=u.segment,s),{}),dp())}expandSegment(e,t,r,i,s,u){return(0,tn.D)(r).pipe(Qr(h=>this.expandSegmentAgainstRoute(e,t,r,h,i,s,u).pipe(_r(v=>{if(v instanceof d_)return(0,Qe.of)(null);throw v}))),Yr(h=>!!h),_r((h,g)=>{if(a_(h))return u_(t,i,s)?(0,Qe.of)(new Lt([],{})):Bl(t);throw h}))}expandSegmentAgainstRoute(e,t,r,i,s,u,h){return HC(i,t,s,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,u):Bl(t):Bl(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Zl(s):this.lineralizeSegments(r,s).pipe((0,_e.zg)(u=>{const h=new Lt(u,{});return this.expandSegment(e,h,t,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,u){const{matched:h,consumedSegments:g,remainingSegments:v,positionalParamSegments:D}=Bp(t,i,s);if(!h)return Bl(t);const I=this.applyRedirectCommands(g,i.redirectTo,D);return i.redirectTo.startsWith("/")?Zl(I):this.lineralizeSegments(i,I).pipe((0,_e.zg)(O=>this.expandSegment(e,t,r,O.concat(v),u,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=o_(r,e),r.loadChildren?(r._loadedRoutes?(0,Qe.of)({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,Je.U)(h=>(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,new Lt(i,{})))):(0,Qe.of)(new Lt(i,{}))):Vv(t,r,i,e).pipe(fn(({matched:u,consumedSegments:h,remainingSegments:g})=>u?this.getChildConfig(e=r._injector??e,r,i).pipe((0,_e.zg)(D=>{const I=D.injector??e,O=D.routes,{segmentGroup:k,slicedSegments:Z}=Bv(t,h,g,O),z=new Lt(k.segments,k.children);if(0===Z.length&&z.hasChildren())return this.expandChildren(I,O,z).pipe((0,Je.U)(Le=>new Lt(h,Le)));if(0===O.length&&0===Z.length)return(0,Qe.of)(new Lt(h,{}));const ie=S(r)===s;return this.expandSegment(I,z,O,Z,ie?Ot:s,!0).pipe((0,Je.U)(Oe=>new Lt(h.concat(Oe.segments),Oe.children)))})):Bl(t)))}getChildConfig(e,t,r){return t.children?(0,Qe.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,Qe.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function VC(n,e,t,r){const i=e.canLoad;if(void 0===i||0===i.length)return(0,Qe.of)(!0);const s=i.map(u=>{const h=Ln(u,n);return ks(function Fp(n){return n&&Hc(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))});return(0,Qe.of)(s).pipe(Bh(),Uv())}(e,t,r).pipe((0,_e.zg)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Ft.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function Hv(n){return(0,as._)(r_(rd,3))}())):(0,Qe.of)({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return(0,Qe.of)(r);if(i.numberOfChildren>1||!i.children[Ot])return(0,as._)(new o.vHH(4e3,rd));i=i.children[Ot]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Rc(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Mr(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const h=i.substring(1);r[s]=t[h]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let u={};return Mr(t.children,(h,g)=>{u[g]=this.createSegmentGroup(e,h,r,i)}),new Lt(s,u)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new o.vHH(4001,rd);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class mS{}class vS{constructor(e,t,r,i,s,u,h,g){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=h,this.urlSerializer=g}recognize(){const e=Bv(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ot).pipe((0,Je.U)(t=>{if(null===t)return null;const r=new Oa([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ot,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ko(r,t),s=new Xu(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=t_(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,tn.D)(Object.keys(r.children)).pipe(Qr(i=>{const s=r.children[i],u=A(t,i);return this.processSegmentGroup(e,u,s,i)}),Nc((i,s)=>i&&s?(i.push(...s),i):null),function Tv(n,e=!1){return t=>t.lift(new Ev(n,e))}(i=>null!==i),ze(null),dp(),(0,Je.U)(i=>{if(null===i)return null;const s=qC(i);return function jv(n){n.sort((e,t)=>e.value.outlet===Ot?-1:t.value.outlet===Ot?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return(0,tn.D)(t).pipe(Qr(u=>this.processSegmentAgainstRoute(u._injector??e,u,r,i,s)),Yr(u=>!!u),_r(u=>{if(a_(u))return u_(r,i,s)?(0,Qe.of)([]):(0,Qe.of)(null);throw u}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!HC(t,r,i,s))return(0,Qe.of)(null);let u;if("**"===t.path){const h=i.length>0?Mv(i).parameters:{},g=zC(r)+i.length,v=new Oa(i,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,KC(t),S(t),t.component??t._loadedComponent??null,t,CS(r),g,id(t),g);u=(0,Qe.of)({snapshot:v,consumedSegments:[],remainingSegments:[]})}else u=Vv(r,t,i,e).pipe((0,Je.U)(({matched:h,consumedSegments:g,remainingSegments:v,parameters:D})=>{if(!h)return null;const I=zC(r)+g.length;return{snapshot:new Oa(g,D,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,KC(t),S(t),t.component??t._loadedComponent??null,t,CS(r),I,id(t),I),consumedSegments:g,remainingSegments:v}}));return u.pipe(fn(h=>{if(null===h)return(0,Qe.of)(null);const{snapshot:g,consumedSegments:v,remainingSegments:D}=h;e=t._injector??e;const I=t._loadedInjector??e,O=function bS(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:k,slicedSegments:Z}=Bv(r,v,D,O.filter(ie=>void 0===ie.redirectTo),this.relativeLinkResolution);if(0===Z.length&&k.hasChildren())return this.processChildren(I,O,k).pipe((0,Je.U)(ie=>null===ie?null:[new ko(g,ie)]));if(0===O.length&&0===Z.length)return(0,Qe.of)([new ko(g,[])]);const z=S(t)===s;return this.processSegment(I,O,k,Z,z?Ot:s).pipe((0,Je.U)(ie=>null===ie?null:[new ko(g,ie)]))}))}}function $C(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function qC(n){const e=[],t=new Set;for(const r of n){if(!$C(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=qC(r.children);e.push(new ko(r.value,i))}return e.filter(r=>!t.has(r))}function CS(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function zC(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function KC(n){return n.data||{}}function id(n){return n.resolve||{}}function QC(n){return"string"==typeof n.title||null===n.title}function f_(n){return fn(e=>{const t=n(e);return t?(0,tn.D)(t).pipe((0,Je.U)(()=>e)):(0,Qe.of)(e)})}let Gv=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Ot);return r}getResolvedTitleForRoute(t){return t.data[Ma]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(p_)},providedIn:"root"}),n})(),p_=(()=>{class n extends Gv{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(rs))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ES{}class Hp extends class $v{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const g_=new o.OlP("",{providedIn:"root",factory:()=>({})}),qv=new o.OlP("ROUTES");let m_=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,Qe.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=ks(t.loadComponent()).pipe((0,Ft.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Vu(()=>{this.componentLoaders.delete(t)})),i=new Ci.c(r,()=>new Nn.xQ).pipe((0,Sv.x)());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,Qe.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Je.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(r);let g,v,D=!1;Array.isArray(h)?v=h:(g=h.create(t).injector,v=Vm(g.get(qv,[],o.XFs.Self|o.XFs.Optional)));return{routes:v.map(C),injector:g}}),Vu(()=>{this.childrenLoaders.delete(r)})),u=new Ci.c(s,()=>new Nn.xQ).pipe((0,Sv.x)());return this.childrenLoaders.set(r,u),u}loadModuleFactoryOrRoutes(t){return ks(t()).pipe((0,_e.zg)(r=>r instanceof o.YKP||Array.isArray(r)?(0,Qe.of)(r):(0,tn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.zs3),o.LFG(o.Sil))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class SS{}class MS{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function $c(n){throw n}function xS(n,e,t){return e.parse("/")}const OS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},m2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Wv(){const n=(0,o.f3M)(Th),e=(0,o.f3M)(fo),t=(0,o.f3M)(ot),r=(0,o.f3M)(o.zs3),i=(0,o.f3M)(o.Sil),s=(0,o.f3M)(qv,{optional:!0})??[],u=(0,o.f3M)(g_,{optional:!0})??{},h=(0,o.f3M)(p_),g=(0,o.f3M)(Gv,{optional:!0}),v=(0,o.f3M)(SS,{optional:!0}),D=(0,o.f3M)(ES,{optional:!0}),I=new Gn(null,n,e,t,r,i,Vm(s));return v&&(I.urlHandlingStrategy=v),D&&(I.routeReuseStrategy=D),I.titleStrategy=g??h,function _2(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,I),I}let Gn=(()=>{class n{constructor(t,r,i,s,u,h,g){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=g,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Nn.xQ,this.errorHandler=$c,this.malformedUriErrorHandler=xS,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,Qe.of)(void 0),this.urlHandlingStrategy=new MS,this.routeReuseStrategy=new Hp,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(m_),this.configLoader.onLoadEndListener=O=>this.triggerEvent(new Rh(O)),this.configLoader.onLoadStartListener=O=>this.triggerEvent(new kh(O)),this.ngModule=u.get(o.h0i),this.console=u.get(o.c2e);const I=u.get(o.R0b);this.isNgZoneEnabled=I instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(g),this.currentUrlTree=function Bm(){return new Rc(new Lt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ju(this.currentUrlTree,this.rootComponentType),this.transitions=new Nt({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(U(i=>0!==i.id),(0,Je.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),fn(i=>{let s=!1,u=!1;return(0,Qe.of)(i).pipe((0,Ft.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),fn(h=>{const g=this.browserUrlTree.toString(),v=!this.navigated||h.extractedUrl.toString()!==g||g!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return AS(h.source)&&(this.browserUrlTree=h.extractedUrl),(0,Qe.of)(h).pipe(fn(I=>{const O=this.transitions.getValue();return r.next(new Yu(I.id,this.serializeUrl(I.extractedUrl),I.source,I.restoredState)),O!==this.transitions.getValue()?Kr.E:Promise.resolve(I)}),function GC(n,e,t,r){return fn(i=>function pS(n,e,t,r,i){return new gS(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Je.U)(s=>({...i,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ft.b)(I=>{this.currentNavigation={...this.currentNavigation,finalUrl:I.urlAfterRedirects},i.urlAfterRedirects=I.urlAfterRedirects}),function Zp(n,e,t,r,i,s){return(0,_e.zg)(u=>function yS(n,e,t,r,i,s,u="emptyOnly",h="legacy"){return new vS(n,e,t,r,i,u,h,s).recognize().pipe(fn(g=>null===g?function _S(n){return new fr.y(e=>e.error(n))}(new mS):(0,Qe.of)(g)))}(n,e,t,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,i,s).pipe((0,Je.U)(h=>({...u,targetSnapshot:h}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ft.b)(I=>{if(i.targetSnapshot=I.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!I.extras.skipLocationChange){const k=this.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);this.setBrowserUrl(k,I)}this.browserUrlTree=I.urlAfterRedirects}const O=new Qu(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);r.next(O)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:O,extractedUrl:k,source:Z,restoredState:z,extras:ie}=h,be=new Yu(O,this.serializeUrl(k),Z,z);r.next(be);const Oe=Ju(k,this.rootComponentType).snapshot;return i={...h,targetSnapshot:Oe,urlAfterRedirects:k,extras:{...ie,skipLocationChange:!1,replaceUrl:!1}},(0,Qe.of)(i)}return this.rawUrlTree=h.rawUrl,h.resolve(null),Kr.E}),(0,Ft.b)(h=>{const g=new Jm(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(g)}),(0,Je.U)(h=>i={...h,guards:ut(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function lS(n,e){return(0,_e.zg)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:u}}=t;return 0===u.length&&0===s.length?(0,Qe.of)({...t,guardsResult:!0}):function uS(n,e,t,r){return(0,tn.D)(n).pipe((0,_e.zg)(i=>function UC(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,Qe.of)(!0);const u=s.map(h=>{const g=j(e)??i,v=Ln(h,g);return ks(function Jn(n){return n&&Hc(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,r):g.runInContext(()=>v(n,e,t,r))).pipe(Yr())});return(0,Qe.of)(u).pipe(Bh())}(i.component,i.route,t,e,r)),Yr(i=>!0!==i,!0))}(u,r,i,n).pipe((0,_e.zg)(h=>h&&function Vl(n){return"boolean"==typeof n}(h)?function dS(n,e,t,r){return(0,tn.D)(e).pipe(Qr(i=>Al(function p2(n,e){return null!==n&&e&&e(new e_(n)),(0,Qe.of)(!0)}(i.route.parent,r),function f2(n,e){return null!==n&&e&&e(new Uc(n)),(0,Qe.of)(!0)}(i.route,r),function Lv(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(u=>function qt(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>Lu(()=>{const h=u.guards.map(g=>{const v=j(u.node)??t,D=Ln(g,v);return ks(function Lp(n){return n&&Hc(n.canActivateChild)}(D)?D.canActivateChild(r,n):v.runInContext(()=>D(r,n))).pipe(Yr())});return(0,Qe.of)(h).pipe(Bh())}));return(0,Qe.of)(s).pipe(Bh())}(n,i.path,t),function Vp(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Qe.of)(!0);const i=r.map(s=>Lu(()=>{const u=j(e)??t,h=Ln(s,u);return ks(function Vh(n){return n&&Hc(n.canActivate)}(h)?h.canActivate(e,n):u.runInContext(()=>h(e,n))).pipe(Yr())}));return(0,Qe.of)(i).pipe(Bh())}(n,i.route,t))),Yr(i=>!0!==i,!0))}(r,s,n,e):(0,Qe.of)(h)),(0,Je.U)(h=>({...t,guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,Ft.b)(h=>{if(i.guardsResult=h.guardsResult,Fs(h.guardsResult))throw n_(0,h.guardsResult);const g=new Xm(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(g)}),U(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),f_(h=>{if(h.guards.canActivateChecks.length)return(0,Qe.of)(h).pipe((0,Ft.b)(g=>{const v=new wp(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}),fn(g=>{let v=!1;return(0,Qe.of)(g).pipe(function wS(n,e){return(0,_e.zg)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return(0,Qe.of)(t);let s=0;return(0,tn.D)(i).pipe(Qr(u=>function g2(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!QC(i)&&(s[Ma]=i.title),function YC(n,e,t,r){const i=function DS(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return(0,Qe.of)({});const s={};return(0,tn.D)(i).pipe((0,_e.zg)(u=>function TS(n,e,t,r){const i=j(e)??r,s=Ln(n,i);return ks(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[u],e,t,r).pipe(Yr(),(0,Ft.b)(h=>{s[u]=h}))),Uu(1),function hp(n){return e=>e.lift(new _h(n))}(s),_r(u=>a_(u)?Kr.E:(0,as._)(u)))}(s,n,e,r).pipe((0,Je.U)(u=>(n._resolvedData=u,n.data=t_(n,t).resolve,i&&QC(i)&&(n.data[Ma]=i.title),null)))}(u.route,r,n,e)),(0,Ft.b)(()=>s++),Uu(1),(0,_e.zg)(u=>s===i.length?(0,Qe.of)(t):Kr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ft.b)({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(g),this.cancelNavigationTransition(g,"",2))}}))}),(0,Ft.b)(g=>{const v=new Dp(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}))}),f_(h=>{const g=v=>{const D=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&D.push(this.configLoader.loadComponent(v.routeConfig).pipe((0,Ft.b)(I=>{v.component=I}),(0,Je.U)(()=>{})));for(const I of v.children)D.push(...g(I));return D};return bi(g(h.targetSnapshot.root)).pipe(ze(),pr(1))}),f_(()=>this.afterPreactivation()),(0,Je.U)(h=>{const g=function Op(n,e,t){const r=Ll(n,e._root,t?t._root:void 0);return new Bc(r,e)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return i={...h,targetRouterState:g}}),(0,Ft.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,e,t)=>(0,Je.U)(r=>(new Re(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,Ft.b)({next(){s=!0},complete(){s=!0}}),Vu(()=>{s||u||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),_r(h=>{if(u=!0,wi(h)){Pp(h)||(this.navigated=!0,this.restoreHistory(i,!0));const g=new Lc(i.id,this.serializeUrl(i.extractedUrl),h.message,h.cancellationCode);if(r.next(g),Pp(h)){const v=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),D={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||AS(i.source)};this.scheduleNavigation(v,"imperative",null,D,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const g=new Qm(i.id,this.serializeUrl(i.extractedUrl),h,i.targetSnapshot??void 0);r.next(g);try{i.resolve(this.errorHandler(h))}catch(v){i.reject(v)}}return Kr.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(s){const h={...s};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(i.state=h)}const u=this.parseUrl(t.url);this.scheduleNavigation(u,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(C),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:u,queryParamsHandling:h,preserveFragment:g}=r,v=i||this.routerState.root,D=g?this.currentUrlTree.fragment:u;let I=null;switch(h){case"merge":I={...this.currentUrlTree.queryParams,...s};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=s||null}return null!==I&&(I=this.removeEmptyProps(I)),qm(v,this.currentUrlTree,t,I,D??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Fs(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function ew(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new o.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...OS}:!1===r?{...m2}:r,Fs(t))return No(this.currentUrlTree,t,i);const s=this.parseUrl(t);return No(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Vs(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,u){if(this.disposed)return Promise.resolve(!1);let h,g,v;u?(h=u.resolve,g=u.reject,v=u.promise):v=new Promise((O,k)=>{h=O,g=k});const D=++this.navigationId;let I;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),I=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):I=0,this.setTransition({id:D,targetPageId:I,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:h,reject:g,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(O=>Promise.reject(O))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const s=new Lc(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:function(){return Wv()},providedIn:"root"}),n})();function AS(n){return"imperative"!==n}let ka=(()=>{class n{constructor(t,r,i,s,u){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=u,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Nn.xQ,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,o.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,o.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,o.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Gn),o.Y36(uo),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&o.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[o.TTD]}),n})(),Ra=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Nn.xQ,this.subscription=t.events.subscribe(s=>{s instanceof Vs&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,o.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,o.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,o.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,s,u){return!!(0!==t||r||i||s||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Gn),o.Y36(uo),o.Y36(he))},n.\u0275dir=o.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&o.NdJ("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&o.uIk("target",r.target)("href",r.href,o.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[o.TTD]}),n})();class nw{}let rw=(()=>{class n{constructor(t,r,i,s,u){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(U(t=>t instanceof Vs),Qr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=(0,o.MMx)(s.providers,t,`Route: ${s.path}`));const u=s._injector??t,h=s._loadedInjector??u;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(u,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(h,s.children??s._loadedRoutes))}return(0,tn.D)(i).pipe((0,Ol.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,Qe.of)(null);const s=i.pipe((0,_e.zg)(u=>null===u?(0,Qe.of)(void 0):(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(r.loadComponent&&!r._loadedComponent){const u=this.loader.loadComponent(r);return(0,tn.D)([s,u]).pipe((0,Ol.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Gn),o.LFG(o.Sil),o.LFG(o.lqb),o.LFG(nw),o.LFG(m_))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zv=new o.OlP("");let iw=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Yu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Vs&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Vc&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Vc(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function Hh(n,e){return{\u0275kind:n,\u0275providers:e}}function Yv(n){return[{provide:qv,multi:!0,useValue:n}]}function Mt(){const n=(0,o.f3M)(o.zs3);return e=>{const t=n.get(o.z2F);if(e!==t.components[0])return;const r=n.get(Gn),i=n.get(Qv);1===n.get(y_)&&r.initialNavigation(),n.get(Jv,null,o.XFs.Optional)?.setUpPreloading(),n.get(zv,null,o.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const Qv=new o.OlP("",{factory:()=>new Nn.xQ}),y_=new o.OlP("",{providedIn:"root",factory:()=>1});const Jv=new o.OlP("");function RS(n){return Hh(0,[{provide:Jv,useExisting:rw},{provide:nw,useExisting:n}])}const LS=new o.OlP("ROUTER_FORROOT_GUARD"),sw=[ot,{provide:Th,useClass:Eh},{provide:Gn,useFactory:Wv},fo,{provide:uo,useFactory:function Kv(n){return n.routerState.root},deps:[Gn]},m_];function aw(){return new o.PXZ("Router",Gn)}let La=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[sw,[],Yv(t),{provide:LS,useFactory:VS,deps:[[Gn,new o.FiY,new o.tp0]]},{provide:g_,useValue:r||{}},r?.useHash?{provide:he,useClass:Ze}:{provide:he,useClass:Se},{provide:zv,useFactory:()=>{const n=(0,o.f3M)(Gn),e=(0,o.f3M)(ep),t=(0,o.f3M)(g_);return t.scrollOffset&&e.setOffset(t.scrollOffset),new iw(n,e,t)}},r?.preloadingStrategy?RS(r.preloadingStrategy).\u0275providers:[],{provide:o.PXZ,multi:!0,useFactory:aw},r?.initialNavigation?w2(r):[],[{provide:BS,useFactory:Mt},{provide:o.tb,multi:!0,useExisting:BS}]]}}static forChild(t){return{ngModule:n,providers:[Yv(t)]}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(LS,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Lh]}),n})();function VS(n){return"guarded"}function w2(n){return["disabled"===n.initialNavigation?Hh(3,[{provide:o.ip1,multi:!0,useFactory:()=>{const e=(0,o.f3M)(Gn);return()=>{e.setUpLocationChangeListener()}}},{provide:y_,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Hh(2,[{provide:y_,useValue:0},{provide:o.ip1,multi:!0,deps:[o.zs3],useFactory:e=>{const t=e.get(V,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(s=>{const u=e.get(Gn),h=e.get(Qv);(function i(s){e.get(Gn).events.pipe(U(h=>h instanceof Vs||h instanceof Lc||h instanceof Qm),(0,Je.U)(h=>h instanceof Vs||h instanceof Lc&&(0===h.code||1===h.code)&&null),U(h=>null!==h),pr(1)).subscribe(()=>{s()})})(()=>{s(!0),r=!0}),u.afterPreactivation=()=>(s(!0),r||h.closed?(0,Qe.of)(void 0):h),u.initialNavigation()}))}}]).\u0275providers:[]]}const BS=new o.OlP("");let t0=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-about-us"]],decls:24,vars:0,consts:[["id","about",1,"about"],[1,"container"],[1,"section-title"],[1,"row","content"],[1,"col-lg-6"],[1,"ri-check-double-line"],[1,"col-lg-6","pt-4","pt-lg-0"]],template:function(t,r){1&t&&(o.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2"),o._uU(4,"About Us"),o.qZA(),o.TgZ(5,"p"),o._uU(6," Magnam dolores commodi suscipit. Necessitatibus eius consequatur ex aliquid fuga eum quidem. Sit sint consectetur velit. Quisquam quos quisquam cupiditate. Et nemo qui impedit suscipit alias ea. Quia fugiat sit in iste officiis commodi quidem hic quas. "),o.qZA()(),o.TgZ(7,"div",3)(8,"div",4)(9,"p"),o._uU(10," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. "),o.qZA(),o.TgZ(11,"ul")(12,"li"),o._UZ(13,"i",5),o._uU(14," Ullamco laboris nisi ut aliquip ex ea commodo consequat "),o.qZA(),o.TgZ(15,"li"),o._UZ(16,"i",5),o._uU(17," Duis aute irure dolor in reprehenderit in voluptate velit "),o.qZA(),o.TgZ(18,"li"),o._UZ(19,"i",5),o._uU(20," Ullamco laboris nisi ut aliquip ex ea commodo consequat "),o.qZA()()(),o.TgZ(21,"div",6)(22,"p"),o._uU(23," Ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. "),o.qZA()()()()())}}),n})();function E2(n,e){1&n&&(o.ynx(0),o.TgZ(1,"div",46)(2,"div",47)(3,"div",48),o._UZ(4,"div",49),o.TgZ(5,"div",50)(6,"div",51)(7,"h4",52),o._uU(8," Jeffrey Brown "),o.qZA(),o.TgZ(9,"h5",53),o._uU(10," creative leader "),o.qZA(),o.TgZ(11,"p",54),o._uU(12," Sample text. Click to select the text box. Click again or double click to start editing the text. "),o.qZA(),o.TgZ(13,"div",55)(14,"a",56),o._UZ(15,"span",57),o.qZA(),o.TgZ(16,"a",56),o._UZ(17,"span",58),o.qZA(),o.TgZ(18,"a",56),o._UZ(19,"span",59),o.qZA()()()()()()(),o.BQk())}let ZS=(()=>{class n{constructor(){this.members=[1,2,3,4]}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-homepage"]],decls:158,vars:1,consts:[["id","hero",1,"d-flex","flex-column","justify-content-center"],[1,"container"],[1,"row","justify-content-center"],[1,"col-xl-8"],["src","assets/img/logo.png","alt","","width","150","height","150",1,"d-block","mx-auto","mb-4"],["routerLink","/Registration",1,"get-started-btn","scrollto"],["id","main"],["id","about",1,"about"],[1,"section-title"],[1,"row","content"],[1,"col-lg-6"],[1,"ri-check-double-line"],[1,"col-lg-6","pt-4","pt-lg-0"],["href","#",1,"btn-learn-more"],["id","cta",1,"cta"],[1,"row"],[1,"col-lg-9","text-center","text-lg-start"],[1,"col-lg-3","cta-btn-container","text-center"],["href","#",1,"cta-btn","align-middle"],["id","services",1,"services"],[1,"col-lg-4","col-md-6","d-flex","align-items-stretch"],[1,"icon-box"],[1,"icon"],[1,"bx","bxl-dribbble"],["href",""],[1,"col-lg-4","col-md-6","d-flex","align-items-stretch","mt-4","mt-md-0"],[1,"bx","bx-file"],[1,"col-lg-4","col-md-6","d-flex","align-items-stretch","mt-4","mt-lg-0"],[1,"bx","bx-tachometer"],[1,"col-lg-4","col-md-6","d-flex","align-items-stretch","mt-4"],[1,"bx","bx-world"],[1,"bx","bx-slideshow"],[1,"bx","bx-arch"],["id","counts",1,"counts"],[1,"text-center","title"],[1,"row","counters","position-relative"],[1,"col-lg-3","col-6","text-center"],["data-purecounter-start","0","data-purecounter-end","232","data-purecounter-duration","0",1,"purecounter"],["data-purecounter-start","0","data-purecounter-end","521","data-purecounter-duration","0",1,"purecounter"],["data-purecounter-start","0","data-purecounter-end","1463","data-purecounter-duration","0",1,"purecounter"],["data-purecounter-start","0","data-purecounter-end","15","data-purecounter-duration","0",1,"purecounter"],["id","committee",1,"u-clearfix","u-section-2"],[1,"u-text","u-text-1"],[1,"u-expanded-width","u-palette-3-base","u-shape","u-shape-rectangle","u-shape-1"],[4,"ngFor","ngForOf"],["id","pricing",1,"pricing"],[1,"col-lg-6","u-list","u-repeater","u-list-1"],[1,"u-container-style","u-list-item","u-repeater-item","u-white","u-list-item-1"],[1,"u-container-layout","u-similar-container","u-valign-top","u-container-layout-1"],["alt","",1,"u-image","u-image-circle","u-image-1"],[1,"u-align-center-xs","u-container-style","u-expanded-width-xs","u-group","u-group-1"],[1,"u-container-layout","u-container-layout-2"],[1,"u-custom-font","u-font-oswald","u-text","u-text-2"],[1,"u-custom-font","u-text","u-text-default","u-text-font","u-text-palette-2-base","u-text-3"],[1,"u-text","u-text-grey-50","u-text-4"],[1,"u-social-icons","u-spacing-10","u-text-grey-50","u-social-icons-1"],["target","_blank","href","",1,"u-social-url"],[1,"u-icon","u-icon-circle","u-social-facebook","u-social-type-logo","u-icon-1"],[1,"u-icon","u-icon-circle","u-social-twitter","u-social-type-logo","u-icon-2"],[1,"u-icon","u-icon-circle","u-social-instagram","u-social-type-logo","u-icon-3"]],template:function(t,r){1&t&&(o.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),o._UZ(4,"img",4),o.TgZ(5,"h1"),o._uU(6,"\u0917\u094c\u0921\u093c \u0938\u092e\u093e\u091c | Gaud Samaj"),o.qZA(),o.TgZ(7,"h2"),o._uU(8,"\u0938\u093e\u0926\u0930 \u0928\u092e\u0928\u0964 \u0906\u092a \u0938\u092d\u0940 \u0915\u093e "),o.TgZ(9,"b"),o._uU(10,"\u0917\u094c\u0921\u093c \u0938\u092e\u093e\u091c"),o.qZA(),o._uU(11," \u092e\u0947\u0902 \u0938\u094d\u0935\u093e\u0917\u0924 \u0939\u0948\u0964"),o.qZA(),o.TgZ(12,"a",5),o._uU(13,"Join Community"),o.qZA()()()()(),o.TgZ(14,"main",6)(15,"section",7)(16,"div",1)(17,"div",8)(18,"h2"),o._uU(19,"About Us"),o.qZA(),o.TgZ(20,"p"),o._uU(21," Magnam dolores commodi suscipit. Necessitatibus eius consequatur ex aliquid fuga eum quidem. Sit sint consectetur velit. Quisquam quos quisquam cupiditate. Et nemo qui impedit suscipit alias ea. Quia fugiat sit in iste officiis commodi quidem hic quas. "),o.qZA()(),o.TgZ(22,"div",9)(23,"div",10)(24,"p"),o._uU(25," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. "),o.qZA(),o.TgZ(26,"ul")(27,"li"),o._UZ(28,"i",11),o._uU(29," Ullamco laboris nisi ut aliquip ex ea commodo consequat "),o.qZA(),o.TgZ(30,"li"),o._UZ(31,"i",11),o._uU(32," Duis aute irure dolor in reprehenderit in voluptate velit "),o.qZA(),o.TgZ(33,"li"),o._UZ(34,"i",11),o._uU(35," Ullamco laboris nisi ut aliquip ex ea commodo consequat "),o.qZA()()(),o.TgZ(36,"div",12)(37,"p"),o._uU(38," Ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. "),o.qZA(),o.TgZ(39,"a",13),o._uU(40,"Read More"),o.qZA()()()()(),o.TgZ(41,"section",14)(42,"div",1)(43,"div",15)(44,"div",16)(45,"h3"),o._uU(46,"Call To Action"),o.qZA(),o.TgZ(47,"p"),o._uU(48," Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. "),o.qZA()(),o.TgZ(49,"div",17)(50,"a",18),o._uU(51,"Upcoming Events"),o.qZA()()()()(),o.TgZ(52,"section",19)(53,"div",1)(54,"div",8)(55,"h2"),o._uU(56,"Services"),o.qZA(),o.TgZ(57,"p"),o._uU(58," Magnam dolores commodi suscipit. Necessitatibus eius consequatur ex aliquid fuga eum quidem. Sit sint consectetur velit. Quisquam quos quisquam cupiditate. Et nemo qui impedit suscipit alias ea. Quia fugiat sit in iste officiis commodi quidem hic quas. "),o.qZA()(),o.TgZ(59,"div",15)(60,"div",20)(61,"div",21)(62,"div",22),o._UZ(63,"i",23),o.qZA(),o.TgZ(64,"h4")(65,"a",24),o._uU(66,"Matrimony"),o.qZA()(),o.TgZ(67,"p"),o._uU(68," GGS has always recognised the need to focus its attention on young people in the community. Ever since its inception, GHS has put on many activities for young people. This includes the weekly youth club, Balkunj Bhajan group, annual youth festival, Bollywood dance classes, classical dance classes and more. "),o.qZA()()(),o.TgZ(69,"div",25)(70,"div",21)(71,"div",22),o._UZ(72,"i",26),o.qZA(),o.TgZ(73,"h4")(74,"a",24),o._uU(75,"Farming and Agriculture"),o.qZA()(),o.TgZ(76,"p"),o._uU(77," Every Monday and Friday we have a very active Luncheon Club for senior members of our community. We currently have 180 members enlisted on the Club although the actual number attending is around 60-70. "),o.qZA()()(),o.TgZ(78,"div",27)(79,"div",21)(80,"div",22),o._UZ(81,"i",28),o.qZA(),o.TgZ(82,"h4")(83,"a",24),o._uU(84,"Health & Wellbeing"),o.qZA()(),o.TgZ(85,"p"),o._uU(86," Bhajan-BhojanThe Bhajan Bhojan programme is for the whole family but, in particular, it helps children to gain confidence and take part in singing bhajans. So, please do come and join in with your family and friends each month. "),o.qZA()()(),o.TgZ(87,"div",29)(88,"div",21)(89,"div",22),o._UZ(90,"i",30),o.qZA(),o.TgZ(91,"h4")(92,"a",24),o._uU(93,"Job Alert"),o.qZA()(),o.TgZ(94,"p"),o._uU(95," GGS is fortunate to have many opportunities to showcase our culture at the Centre as well as externally in the community. These include annual events such as the Preston Mela and the various Health Melas, as well as numerous cultural events that occur throughout the year. "),o.qZA()()(),o.TgZ(96,"div",29)(97,"div",21)(98,"div",22),o._UZ(99,"i",31),o.qZA(),o.TgZ(100,"h4")(101,"a",24),o._uU(102,"Community Support"),o.qZA()(),o.TgZ(103,"p"),o._uU(104," GHS has remained committed to ensure women and young girls play an important role in the running of the Centre. Ever since the opening, our ladies have been the backbone. They have worked side by side with management ensuring that whatever task was on hand got done. "),o.qZA()()(),o.TgZ(105,"div",29)(106,"div",21)(107,"div",22),o._UZ(108,"i",32),o.qZA(),o.TgZ(109,"h4")(110,"a",24),o._uU(111,"Health & Wellbeing"),o.qZA()(),o.TgZ(112,"p"),o._uU(113," The National Forum for Health & Well Being (formerly the Lancashire Gujarat Health Users\u2019 Forum) was founded at the GHS Centre and the Society remains a strong partner. It will continue to support NFHW in promoting health and building partnershipa between the local communities and mainstream health providers. "),o.qZA()()()()()(),o.TgZ(114,"section",33)(115,"div",1)(116,"div",34)(117,"h3"),o._uU(118,"What we have achieved so far"),o.qZA(),o.TgZ(119,"p"),o._uU(120," Iusto et labore modi qui sapiente xpedita tempora et aut non ipsum consequatur illo. "),o.qZA()(),o.TgZ(121,"div",35)(122,"div",36)(123,"span",37),o._uU(124,"232"),o.qZA(),o.TgZ(125,"p"),o._uU(126,"Total Members"),o.qZA()(),o.TgZ(127,"div",36)(128,"span",38),o._uU(129,"521"),o.qZA(),o.TgZ(130,"p"),o._uU(131,"Events"),o.qZA()(),o.TgZ(132,"div",36)(133,"span",39),o._uU(134,"1463"),o.qZA(),o.TgZ(135,"p"),o._uU(136,"Hours Of Support"),o.qZA()(),o.TgZ(137,"div",36)(138,"span",40),o._uU(139,"15"),o.qZA(),o.TgZ(140,"p"),o._uU(141,"Active Community Members"),o.qZA()()()()(),o.TgZ(142,"section",41)(143,"div",1)(144,"div",8)(145,"h2",42),o._uU(146,"Committee Members"),o.qZA()(),o._UZ(147,"div",43),o.TgZ(148,"div",15),o.YNc(149,E2,20,0,"ng-container",44),o.qZA()()(),o.TgZ(150,"section",45)(151,"div",1)(152,"div",8)(153,"h2"),o._uU(154,"OUR CAMPAIGNS"),o.qZA(),o.TgZ(155,"p"),o._uU(156," Magnam dolores commodi suscipit. Necessitatibus eius consequatur ex aliquid fuga eum quidem. Sit sint consectetur velit. Quisquam quos quisquam cupiditate. Et nemo qui impedit suscipit alias ea. Quia fugiat sit in iste officiis commodi quidem hic quas. "),o.qZA()(),o._UZ(157,"div",15),o.qZA()()()),2&t&&(o.xp6(149),o.Q6J("ngForOf",r.members))},dependencies:[mi,Ra],styles:[".u-section-2[_ngcontent-%COMP%]   .u-image-1[_ngcontent-%COMP%]{min-width:229px;height:229px;background-image:url(person1.075203a50d120763.jpg);background-position:50% 50%;margin:0 auto 0 0}.u-image-circle.u-image[_ngcontent-%COMP%]{border-radius:50%!important}.u-image[_ngcontent-%COMP%], .u-background-effect-image[_ngcontent-%COMP%], .u-video-poster[_ngcontent-%COMP%]{object-fit:cover;display:block;vertical-align:middle;background-size:cover;background-position:50% 50%;background-repeat:no-repeat}.u-repeater-item[_ngcontent-%COMP%]{display:flex;position:relative}.u-section-2[_ngcontent-%COMP%]   .u-container-layout-1[_ngcontent-%COMP%]{padding:30px 0}.u-valign-top[_ngcontent-%COMP%]{justify-content:flex-start}.u-valign-middle[_ngcontent-%COMP%], .u-valign-top[_ngcontent-%COMP%], .u-valign-bottom[_ngcontent-%COMP%]{display:flex;flex-direction:row}*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}user[_ngcontent-%COMP%]   agent[_ngcontent-%COMP%]   stylesheet[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:block}.u-tabs[_ngcontent-%COMP%]:not([class*=u-align-]), .u-repeater-item[_ngcontent-%COMP%]:not([class*=u-align-]), .u-container-style[_ngcontent-%COMP%]:not([class*=u-align-]){text-align:left}.u-white[_ngcontent-%COMP%], .u-body.u-white[_ngcontent-%COMP%], .u-container-style.u-white[_ngcontent-%COMP%]:before, .u-table-alt-white[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){color:#111;background-color:#fff}.u-align-center[_ngcontent-%COMP%]{text-align:center}.u-body[_ngcontent-%COMP%]{color:#111;background-color:#fff}.u-body[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif}.u-body[_ngcontent-%COMP%]{font-size:1rem;line-height:1.6}.u-section-2[_ngcontent-%COMP%]   .u-container-layout-2[_ngcontent-%COMP%]{padding:0 0 20px 25px}.u-container-layout[_ngcontent-%COMP%]{position:relative;flex:1;max-width:100%}.u-section-2[_ngcontent-%COMP%]   .u-group-1[_ngcontent-%COMP%]{width:257px;min-height:246px;height:auto;margin:auto}.u-section-2[_ngcontent-%COMP%]   .u-text-2[_ngcontent-%COMP%]{font-size:1.875rem;margin:0}.u-font-oswald.u-custom-font[_ngcontent-%COMP%]{font-family:Oswald,sans-serif!important}.u-group[_ngcontent-%COMP%]   .u-container-layout[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative}.u-section-2[_ngcontent-%COMP%]   .u-text-3[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;margin:20px 0 0}.u-section-2[_ngcontent-%COMP%]   .u-text-4[_ngcontent-%COMP%]{font-size:.875rem;font-style:italic;margin:20px 0 0}.u-text-palette-2-base[_ngcontent-%COMP%], a.u-button-style.u-text-palette-2-base[_ngcontent-%COMP%], a.u-button-style.u-text-palette-2-base[class*=u-border-][_ngcontent-%COMP%]{color:#db545a!important}.u-text[_ngcontent-%COMP%]{word-wrap:break-word}"]}),n})();var jh=F(7830);function jp(n,e){return new fr.y(t=>{const r=n.length;if(0===r)return void t.complete();const i=new Array(r);let s=0,u=0;for(let h=0;h<r;h++){const g=(0,tn.D)(n[h]);let v=!1;t.add(g.subscribe({next:D=>{v||(v=!0,u++),i[h]=D},error:D=>t.error(D),complete:()=>{s++,(s===r||!v)&&(u===r&&t.next(e?e.reduce((D,I,O)=>(D[I]=i[O],D),{}):i),t.complete())}}))}})}let Gp=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n}),n})(),od=(()=>{class n extends Gp{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const Fo=new o.OlP("NgValueAccessor"),jS={provide:Fo,useExisting:(0,o.Gpc)(()=>b_),multi:!0};let b_=(()=>{class n extends od{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&o.NdJ("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[o._Bn([jS]),o.qOj]}),n})();const GS={provide:Fo,useExisting:(0,o.Gpc)(()=>Ua),multi:!0},qS=new o.OlP("CompositionEventMode");let Ua=(()=>{class n extends Gp{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function $S(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(qS,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&o.NdJ("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[o._Bn([GS]),o.qOj]}),n})();function qc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function n0(n){return null!=n&&"number"==typeof n.length}const ui=new o.OlP("NgValidators"),sd=new o.OlP("NgAsyncValidators"),r0=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Or{static min(e){return function zS(n){return e=>{if(qc(e.value)||qc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function ad(n){return e=>{if(qc(e.value)||qc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function o0(n){return qc(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function s0(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function $p(n){return qc(n.value)||r0.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function hs(n){return e=>qc(e.value)||!n0(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function a0(n){return e=>n0(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function cw(n){if(!n)return Gh;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(qc(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return KS(e)}static composeAsync(e){return qp(e)}}function Gh(n){return null}function Va(n){return null!=n}function C_(n){return(0,o.QGY)(n)?(0,tn.D)(n):n}function c0(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function w_(n,e){return e.map(t=>t(n))}function l0(n){return n.map(e=>function I2(n){return!n.validate}(e)?e:t=>e.validate(t))}function KS(n){if(!n)return null;const e=n.filter(Va);return 0==e.length?null:function(t){return c0(w_(t,e))}}function $h(n){return null!=n?KS(l0(n)):null}function qp(n){if(!n)return null;const e=n.filter(Va);return 0==e.length?null:function(t){return function HS(...n){if(1===n.length){const e=n[0];if((0,ji.k)(e))return jp(e,null);if((0,jh.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return jp(t.map(r=>e[r]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return jp(n=1===n.length&&(0,ji.k)(n[0])?n[0]:n,null).pipe((0,Je.U)(t=>e(...t)))}return jp(n,null)}(w_(t,e).map(C_)).pipe((0,Je.U)(c0))}}function Wp(n){return null!=n?qp(l0(n)):null}function D_(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function T_(n){return n._rawValidators}function YS(n){return n._rawAsyncValidators}function u0(n){return n?Array.isArray(n)?n:[n]:[]}function E_(n,e){return Array.isArray(n)?n.includes(e):n===e}function lw(n,e){const t=u0(e);return u0(n).forEach(i=>{E_(t,i)||t.push(i)}),t}function uw(n,e){return u0(e).filter(t=>!E_(n,t))}class d0{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=$h(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Wp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class mo extends d0{get formDirective(){return null}get path(){return null}}class Hl extends d0{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class QS{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let jl=(()=>{class n extends QS{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Hl,2))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&o.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[o.qOj]}),n})(),Zs=(()=>{class n extends QS{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(mo,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&o.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[o.qOj]}),n})();const fs="VALID",zp="INVALID",qh="PENDING",Kp="DISABLED";function I_(n){return(Wc(n)?n.validators:n)||null}function gw(n){return Array.isArray(n)?$h(n):n||null}function _0(n,e){return(Wc(e)?e.asyncValidators:n)||null}function Yp(n){return Array.isArray(n)?Wp(n):n||null}function Wc(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function S_(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new o.vHH(1e3,"");if(!r[t])throw new o.vHH(1001,"")}function ld(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new o.vHH(1002,"")})}class Wh{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=gw(this._rawValidators),this._composedAsyncValidatorFn=Yp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===fs}get invalid(){return this.status===zp}get pending(){return this.status==qh}get disabled(){return this.status===Kp}get enabled(){return this.status!==Kp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=gw(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Yp(e)}addValidators(e){this.setValidators(lw(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(lw(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(uw(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(uw(e,this._rawAsyncValidators))}hasValidator(e){return E_(this._rawValidators,e)}hasAsyncValidator(e){return E_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=qh,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Kp,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=fs,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fs||this.status===qh)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Kp:fs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=qh,this._hasOwnPendingAsyncValidator=!0;const t=C_(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?Kp:this.errors?zp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qh)?qh:this._anyControlsHaveStatus(zp)?zp:fs}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Wc(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Gl extends Wh{constructor(e,t,r){super(I_(t),_0(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){ld(this,0,e),Object.keys(e).forEach(r=>{S_(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class M_ extends Gl{}function Qp(n,e){return[...e.path,n]}function ud(n,e){O_(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function _w(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&vw(n,e)})}(n,e),function Lo(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function yw(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&vw(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function rM(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function x_(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),A_(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function y0(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function O_(n,e){const t=T_(n);null!==e.validator?n.setValidators(D_(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=YS(n);null!==e.asyncValidator?n.setAsyncValidators(D_(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();y0(e._rawValidators,i),y0(e._rawAsyncValidators,i)}function A_(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=T_(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(u=>u!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=YS(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(u=>u!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return y0(e._rawValidators,r),y0(e._rawAsyncValidators,r),t}function vw(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function v0(n,e){O_(n,e)}function b0(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function bw(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function N_(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Ua?t=s:function aM(n){return Object.getPrototypeOf(n.constructor)===od}(s)?r=s:i=s}),i||r||t||null}const uM={provide:mo,useExisting:(0,o.Gpc)(()=>dd)},Jp=(()=>Promise.resolve())();let dd=(()=>{class n extends mo{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.vpe,this.form=new Gl({},$h(t),Wp(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Jp.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),ud(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Jp.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Jp.then(()=>{const r=this._findContainer(t.path),i=new Gl({});v0(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Jp.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Jp.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,bw(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(ui,10),o.Y36(sd,10))},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&o.NdJ("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([uM]),o.qOj]}),n})();function C0(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Cw(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const _o=class extends Wh{constructor(e=null,t,r){super(I_(t),_0(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Wc(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Cw(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){C0(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){C0(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Cw(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},pM={provide:Hl,useExisting:(0,o.Gpc)(()=>$l)},Tw=(()=>Promise.resolve())();let $l=(()=>{class n extends Hl{constructor(t,r,i,s,u){super(),this._changeDetectorRef=u,this.control=new _o,this._registered=!1,this.update=new o.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=N_(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),b0(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ud(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Tw.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,o.D6c)(r);Tw.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Qp(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(mo,9),o.Y36(ui,10),o.Y36(sd,10),o.Y36(Fo,10),o.Y36(o.sBO,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([pM]),o.qOj,o.TTD]}),n})(),Hs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const w0={provide:Fo,useExisting:(0,o.Gpc)(()=>F_),multi:!0};let D0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),Ew=(()=>{class n{constructor(){this._accessors=[]}add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t)return void this._accessors.splice(r,1)}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return!!t[0].control&&t[0]._parent===r._control._parent&&t[1].name===r.name}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:D0}),n})(),F_=(()=>{class n extends od{constructor(t,r,i,s){super(t,r),this._registry=i,this._injector=s,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(Hl),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(Ew),o.Y36(o.zs3))},n.\u0275dir=o.lG2({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,r){1&t&&o.NdJ("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[o._Bn([w0]),o.qOj]}),n})();const js=new o.OlP("NgModelWithFormControlWarning"),eg={provide:mo,useExisting:(0,o.Gpc)(()=>ql)};let ql=(()=>{class n extends mo{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(A_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return ud(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){x_(t.control||null,t,!1),function cM(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,bw(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(x_(r||null,t),(n=>n instanceof _o)(i)&&(ud(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);v0(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function iM(n,e){return A_(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){O_(this.form,this),this._oldForm&&A_(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(ui,10),o.Y36(sd,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&o.NdJ("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([eg]),o.qOj,o.TTD]}),n})();const _M={provide:Hl,useExisting:(0,o.Gpc)(()=>Kh)};let Kh=(()=>{class n extends Hl{constructor(t,r,i,s,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new o.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=N_(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),b0(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Qp(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(o.Y36(mo,13),o.Y36(ui,10),o.Y36(sd,10),o.Y36(Fo,10),o.Y36(js,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o._Bn([_M]),o.qOj,o.TTD]}),n})();const yM={provide:Fo,useExisting:(0,o.Gpc)(()=>Yh),multi:!0};function vM(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Yh=(()=>{class n extends od{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=vM(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function bM(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&o.NdJ("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[o._Bn([yM]),o.qOj]}),n})(),tg=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(vM(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(Yh,9))},n.\u0275dir=o.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Sw={provide:Fo,useExisting:(0,o.Gpc)(()=>I0),multi:!0};function B_(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let I0=(()=>{class n extends od{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(s=>this._getOptionId(s));r=(s,u)=>{s._setSelected(i.indexOf(u.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const u=s;for(let h=0;h<u.length;h++){const v=this._getOptionValue(u[h].value);i.push(v)}}else{const u=r.options;for(let h=0;h<u.length;h++){const g=u[h];if(g.selected){const v=this._getOptionValue(g.value);i.push(v)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function CM(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&o.NdJ("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[o._Bn([Sw]),o.qOj]}),n})(),ng=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(B_(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(B_(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(I0,9))},n.\u0275dir=o.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),gd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[D0]}),n})(),Wl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[gd]}),n})(),zl=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:js,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[gd]}),n})();class md extends Wh{constructor(e,t,r){super(I_(t),_0(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){ld(this,0,e),e.forEach((r,i)=>{S_(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function M0(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Qh=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let s={};return M0(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Gl(i,s)}record(t,r=null){const i=this._reduceControls(t);return new M_(i,r)}control(t,r,i){let s={};return this.useNonNullable?(M0(r)?s=r:(s.validators=r,s.asyncValidators=i),new _o(t,{...s,nonNullable:!0})):new _o(t,r,i)}array(t,r,i){const s=t.map(u=>this._createControl(u));return new md(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof _o||t instanceof Wh?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:zl}),n})();const Xn_API_URL="https://d30xb7ya76q4sg.cloudfront.net",Xn_firebase={apiKey:"AIzaSyD7xrK89ABSCzQGxXe4fwax7Acz7oZbC8s",authDomain:"ggsp-dea12.firebaseapp.com",databaseURL:"xxxxxxxxxxxxxxxxxxxxxxxx",projectId:"ggsp-dea12",storageBucket:"ggsp-dea12.appspot.com",messagingSenderId:"579636551646",appId:"1:579636551646:web:2414fec4430ea1ba49c74f",measurementId:"G-EYWHZNTZKG"};class x0{}class O0{}class Ba{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),u=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(u):this.headers.set(s,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ba?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ba;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ba?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let u=this.headers.get(t);if(!u)return;u=u.filter(h=>-1===s.indexOf(h)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class xM{encodeKey(e){return j_(e)}encodeValue(e){return j_(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const OM=/%(\d[a-f0-9])/gi,Pw={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function j_(n){return encodeURIComponent(n).replace(OM,(e,t)=>Pw[t]??e)}function Jh(n){return`${n}`}class Kl{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new xM,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Aw(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[u,h]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],g=t.get(u)||[];g.push(h),t.set(u,g)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(Jh):[Jh(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Kl({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Jh(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Jh(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class G_{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Nw(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function hg(n){return typeof Blob<"u"&&n instanceof Blob}function fg(n){return typeof FormData<"u"&&n instanceof FormData}class Xh{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function P0(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Ba),this.context||(this.context=new G_),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+u}}else this.params=new Kl,this.urlWithParams=t}serializeBody(){return null===this.body?null:Nw(this.body)||hg(this.body)||fg(this.body)||function kw(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Kl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||fg(this.body)?null:hg(this.body)?this.body.type||null:Nw(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Kl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let g=e.headers||this.headers,v=e.params||this.params;const D=e.context??this.context;return void 0!==e.setHeaders&&(g=Object.keys(e.setHeaders).reduce((I,O)=>I.set(O,e.setHeaders[O]),g)),e.setParams&&(v=Object.keys(e.setParams).reduce((I,O)=>I.set(O,e.setParams[O]),v)),new Xh(t,r,s,{params:v,headers:g,context:D,reportProgress:h,responseType:i,withCredentials:u})}}var yr=(()=>((yr=yr||{})[yr.Sent=0]="Sent",yr[yr.UploadProgress=1]="UploadProgress",yr[yr.ResponseHeader=2]="ResponseHeader",yr[yr.DownloadProgress=3]="DownloadProgress",yr[yr.Response=4]="Response",yr[yr.User=5]="User",yr))();class $_{constructor(e,t=200,r="OK"){this.headers=e.headers||new Ba,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class q_ extends $_{constructor(e={}){super(e),this.type=yr.ResponseHeader}clone(e={}){return new q_({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class ef extends $_{constructor(e={}){super(e),this.type=yr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new ef({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class N0 extends $_{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function k0(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let _d=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Xh)s=t;else{let g,v;g=i.headers instanceof Ba?i.headers:new Ba(i.headers),i.params&&(v=i.params instanceof Kl?i.params:new Kl({fromObject:i.params})),s=new Xh(t,r,void 0!==i.body?i.body:null,{headers:g,context:i.context,params:v,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const u=(0,Qe.of)(s).pipe(Qr(g=>this.handler.handle(g)));if(t instanceof Xh||"events"===i.observe)return u;const h=u.pipe(U(g=>g instanceof ef));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe((0,Je.U)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return h.pipe((0,Je.U)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return h.pipe((0,Je.U)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return h.pipe((0,Je.U)(g=>g.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Kl).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,k0(i,r))}post(t,r,i={}){return this.request("POST",t,k0(i,r))}put(t,r,i={}){return this.request("PUT",t,k0(i,r))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(x0))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class R0{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const pg=new o.OlP("HTTP_INTERCEPTORS");let Rw=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Lw=/^\)\]\}',?\n/;let L0=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new fr.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((k,Z)=>i.setRequestHeader(k,Z.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const k=t.detectContentTypeHeader();null!==k&&i.setRequestHeader("Content-Type",k)}if(t.responseType){const k=t.responseType.toLowerCase();i.responseType="json"!==k?k:"text"}const s=t.serializeBody();let u=null;const h=()=>{if(null!==u)return u;const k=i.statusText||"OK",Z=new Ba(i.getAllResponseHeaders()),z=function Uw(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return u=new q_({headers:Z,status:i.status,statusText:k,url:z}),u},g=()=>{let{headers:k,status:Z,statusText:z,url:ie}=h(),be=null;204!==Z&&(be=typeof i.response>"u"?i.responseText:i.response),0===Z&&(Z=be?200:0);let Oe=Z>=200&&Z<300;if("json"===t.responseType&&"string"==typeof be){const Le=be;be=be.replace(Lw,"");try{be=""!==be?JSON.parse(be):null}catch(Pe){be=Le,Oe&&(Oe=!1,be={error:Pe,text:be})}}Oe?(r.next(new ef({body:be,headers:k,status:Z,statusText:z,url:ie||void 0})),r.complete()):r.error(new N0({error:be,headers:k,status:Z,statusText:z,url:ie||void 0}))},v=k=>{const{url:Z}=h(),z=new N0({error:k,status:i.status||0,statusText:i.statusText||"Unknown Error",url:Z||void 0});r.error(z)};let D=!1;const I=k=>{D||(r.next(h()),D=!0);let Z={type:yr.DownloadProgress,loaded:k.loaded};k.lengthComputable&&(Z.total=k.total),"text"===t.responseType&&!!i.responseText&&(Z.partialText=i.responseText),r.next(Z)},O=k=>{let Z={type:yr.UploadProgress,loaded:k.loaded};k.lengthComputable&&(Z.total=k.total),r.next(Z)};return i.addEventListener("load",g),i.addEventListener("error",v),i.addEventListener("timeout",v),i.addEventListener("abort",v),t.reportProgress&&(i.addEventListener("progress",I),null!==s&&i.upload&&i.upload.addEventListener("progress",O)),i.send(s),r.next({type:yr.Sent}),()=>{i.removeEventListener("error",v),i.removeEventListener("abort",v),i.removeEventListener("load",g),i.removeEventListener("timeout",v),t.reportProgress&&(i.removeEventListener("progress",I),null!==s&&i.upload&&i.upload.removeEventListener("progress",O)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(uc))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const W_=new o.OlP("XSRF_COOKIE_NAME"),Vw=new o.OlP("XSRF_HEADER_NAME");class Bw{}let LM=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=al(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(se),o.LFG(o.Lbi),o.LFG(W_))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),z_=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Bw),o.LFG(Vw))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),UM=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(pg,[]);this.chain=r.reduceRight((i,s)=>new R0(i,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(O0),o.LFG(o.zs3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),BM=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:z_,useClass:Rw}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:W_,useValue:t.cookieName}:[],t.headerName?{provide:Vw,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[z_,{provide:pg,useExisting:z_,multi:!0},{provide:Bw,useClass:LM},{provide:W_,useValue:"XSRF-TOKEN"},{provide:Vw,useValue:"X-XSRF-TOKEN"}]}),n})(),Zw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[_d,{provide:x0,useClass:UM},L0,{provide:O0,useExisting:L0}],imports:[BM.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})(),Za=(()=>{class n{constructor(){this.toasts=[]}_show(t,r={}){this.toasts.push({textOrTpl:t,...r})}remove(t){this.toasts=this.toasts.filter(r=>r!==t)}clear(){this.toasts.splice(0,this.toasts.length)}success(t){this._show(t,{classname:"bg-success text-light",delay:5e3})}error(t){this._show(t,{classname:"bg-danger text-light",delay:5e3})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Uo=(()=>{class n{constructor(t,r,i){if(this.router=t,this.http=r,this.toastService=i,this.userSubject=new Nt(null),sessionStorage.getItem("user")){let s=JSON.parse(sessionStorage.getItem("user"));this.userSubject=new Nt({id:s.user._id,firstName:s.user.firstName,lastName:s.user.lastName,role:s.user.role,token:s.token,email:s.user.email,profilePic:s.user.profilePic,active:s.user.active})}}get userValue(){return this.userSubject.value}login(t,r){return this.http.post(`${Xn_API_URL}/login`,{email:t,password:r}).pipe((0,Je.U)(i=>(sessionStorage.setItem("user",JSON.stringify(i)),this.userSubject.next({id:i.user._id,firstName:i.user.firstName,lastName:i.user.lastName,role:i.user.role,token:i.token,email:i.user.email,profilePic:i.user.profilePic,active:i.user.active}),i)))}verifyUser(t){return this.http.post(`${Xn_API_URL}/verify`,{id:t})}logout(){sessionStorage.removeItem("user"),this.userSubject.next(null),this.toastService.success("Logout Successfully"),this.router.navigate(["/Login"])}register(t){return this.http.post(`${Xn_API_URL}/register`,t)}getAll(){return this.http.get(`${Xn_API_URL}/users`)}getAllActiveMembers(){return this.http.get(`${Xn_API_URL}/users/active`)}getById(t){return this.http.get(`${Xn_API_URL}/users/${t}`)}update(t,r){return this.http.put(`${Xn_API_URL}/users/${t}`,r).pipe((0,Je.U)(i=>{if(t==this.userValue.id){const s={...this.userValue,...r};sessionStorage.setItem("user",JSON.stringify(s)),this.userSubject.next(s)}return i}))}delete(t){return this.http.delete(`${Xn_API_URL}/users/${t}`).pipe((0,Je.U)(r=>(t==this.userValue.id&&this.logout(),r)))}updateUserDataById(t){return this.http.patch(`${Xn_API_URL}/users`,t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Gn),o.LFG(_d),o.LFG(Za))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tf(n,e){1&n&&(o.ynx(0),o.TgZ(1,"div",26)(2,"h1",27),o._uU(3,"Verified Successfully"),o.qZA(),o._UZ(4,"hr",28),o.TgZ(5,"p",29),o._uU(6,"Registration process is now completed. Please login with verified Email and Password."),o.qZA(),o._UZ(7,"br"),o.qZA(),o.BQk())}function HM(n,e){1&n&&(o.ynx(0),o.TgZ(1,"div",30)(2,"p",31),o._uU(3,"Sign in with"),o.qZA(),o.TgZ(4,"button",32),o._UZ(5,"i",33),o.qZA(),o.TgZ(6,"button",32),o._UZ(7,"i",34),o.qZA(),o.TgZ(8,"button",32),o._UZ(9,"i",35),o.qZA()(),o.TgZ(10,"div",36)(11,"p",37),o._uU(12,"Or"),o.qZA()(),o.BQk())}function jM(n,e){1&n&&(o.TgZ(0,"div"),o._uU(1,"Email is required"),o.qZA())}function Hw(n,e){if(1&n&&(o.TgZ(0,"div",38),o.YNc(1,jM,2,0,"div",8),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("ngIf",t.form.controls.username.errors.required)}}function GM(n,e){1&n&&(o.TgZ(0,"div"),o._uU(1,"Password is required"),o.qZA())}function jw(n,e){if(1&n&&(o.TgZ(0,"div",38),o.YNc(1,GM,2,0,"div",8),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("ngIf",t.form.controls.password.errors.required)}}function k2(n,e){1&n&&o._UZ(0,"span",39)}let K_=(()=>{class n{constructor(t,r,i,s,u){this.formBuilder=t,this.route=r,this.router=i,this.userService=s,this.toastService=u,this.loading=!1,this.submitted=!1,this.verifySuccessfully=!1,this.form=this.formBuilder.group({username:["",Or.required],password:["",Or.required]}),this.userService.userValue&&this.router.navigateByUrl("/Dashboard/Home")}ngOnInit(){this.verifyToken()}verifyToken(){let t=window.location.href;if(t.includes("token")){let r=t.split("token=")[1];this.userService.verifyUser(r).pipe(Yr()).subscribe(i=>{this.verifySuccessfully=!0,this.toastService.success("Verify Successfully")},i=>{this.toastService.error(i)})}}onSubmit(){this.submitted=!0,this.form.markAllAsTouched(),this.toastService.clear(),!this.form.invalid&&(this.loading=!0,this.userService.login(this.form.controls.username.value,this.form.controls.password.value).pipe(Yr()).subscribe(t=>{this.toastService.success("Login Successfully."),this.router.navigateByUrl("/Dashboard/Home")},t=>{this.toastService.error(t),this.loading=!1}))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Qh),o.Y36(uo),o.Y36(Gn),o.Y36(Uo),o.Y36(Za))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-login"]],decls:40,vars:6,consts:[["id","main"],[1,"mt-5"],[1,"container-fluid","h-custom"],["id","body",1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col-md-9","col-lg-6","col-xl-5"],["src","assets/img/login.webp","alt","Sample image",1,"img-fluid"],[1,"col-md-8","col-lg-6","col-xl-4","offset-xl-1","p-5","p-md-0"],[3,"formGroup","ngSubmit"],[4,"ngIf"],[1,"form-group"],["for","form3Example3",1,"form-label"],[1,"requireColor"],["type","email","id","form3Example3","formControlName","username","placeholder","Enter a valid email address",1,"form-control","form-control-lg"],["class","invalid-feedback",4,"ngIf"],["for","form3Example4",1,"form-label"],["type","password","id","form3Example4","formControlName","password","placeholder","Enter password",1,"form-control","form-control-lg"],[1,"d-flex","justify-content-between","align-items-center"],[1,"form-check","mb-0"],["type","checkbox","value","","id","form2Example3",1,"form-check-input","me-2"],["for","form2Example3",1,"form-check-label"],["href","#!",1,"text-body"],[1,"text-center","text-lg-start","mt-4","pt-2"],["type","submit",1,"btn","btn-primary","btn-lg",2,"padding-left","2.5rem","padding-right","2.5rem"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"small","fw-bold","mt-2","pt-1","mb-0"],["routerLink","/Registration",1,"link-danger"],[1,"jumbotron"],[1,"display-6"],[1,"my-4"],[1,"lead"],[1,"d-flex","flex-row","align-items-center","justify-content-center","justify-content-lg-start"],[1,"lead","fw-normal","mb-0","me-3"],["type","button",1,"btn","btn-primary","btn-floating","mx-1"],[1,"fab","fa-facebook-f"],[1,"fab","fa-twitter"],[1,"fab","fa-linkedin-in"],[1,"divider","d-flex","align-items-center","my-4"],[1,"text-center","fw-bold","mx-3","mb-0"],[1,"invalid-feedback"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(t,r){1&t&&(o.TgZ(0,"main",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4),o._UZ(5,"img",5),o.qZA(),o.TgZ(6,"div",6)(7,"form",7),o.NdJ("ngSubmit",function(){return r.onSubmit()}),o.YNc(8,tf,8,0,"ng-container",8),o.YNc(9,HM,13,0,"ng-container",8),o.TgZ(10,"div",9)(11,"label",10),o._uU(12,"Email address "),o.TgZ(13,"span",11),o._uU(14,"*"),o.qZA()(),o._UZ(15,"input",12),o.YNc(16,Hw,2,1,"div",13),o.qZA(),o._UZ(17,"br"),o.TgZ(18,"div",9)(19,"label",14),o._uU(20,"Password "),o.TgZ(21,"span",11),o._uU(22,"*"),o.qZA()(),o._UZ(23,"input",15),o.YNc(24,jw,2,1,"div",13),o.qZA(),o.TgZ(25,"div",16)(26,"div",17),o._UZ(27,"input",18),o.TgZ(28,"label",19),o._uU(29," Remember me "),o.qZA()(),o.TgZ(30,"a",20),o._uU(31,"Forgot password?"),o.qZA()(),o.TgZ(32,"div",21)(33,"button",22),o.YNc(34,k2,1,0,"span",23),o._uU(35," Login"),o.qZA(),o.TgZ(36,"p",24),o._uU(37,"Don't have an account? "),o.TgZ(38,"a",25),o._uU(39,"Register"),o.qZA()()()()()()()()()),2&t&&(o.xp6(7),o.Q6J("formGroup",r.form),o.xp6(1),o.Q6J("ngIf",r.verifySuccessfully),o.xp6(1),o.Q6J("ngIf",!r.verifySuccessfully),o.xp6(7),o.Q6J("ngIf",r.form.controls.username.touched&&r.form.controls.username.errors),o.xp6(8),o.Q6J("ngIf",r.form.controls.password.touched&&r.form.controls.password.errors),o.xp6(10),o.Q6J("ngIf",r.loading))},dependencies:[en,Ra,Hs,Ua,jl,Zs,ql,Kh],styles:['.divider[_ngcontent-%COMP%]:after, .divider[_ngcontent-%COMP%]:before{content:"";flex:1;height:1px;background:#eee}.h-custom[_ngcontent-%COMP%]{height:calc(100% - 73px)}@media (max-width: 450px){.h-custom[_ngcontent-%COMP%]{height:100%}}.logo[_ngcontent-%COMP%]{text-align-last:center;position:relative;padding-top:2%}main[_ngcontent-%COMP%]{background-color:#f0f8ff}#body[_ngcontent-%COMP%]{background:#fff;margin:0 6%;padding:40px 0;border-radius:10px}section[_ngcontent-%COMP%]{background-color:#f0f8ff!important}section[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:90%}']}),n})(),U0=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-page-not-found"]],decls:6,vars:0,consts:[["id","main",1,"d-flex","justify-content-center","align-items-center"],[1,"mr-3","pr-3","align-top","border-right","inline-block","align-content-center"],[1,"inline-block","align-middle"],["id","desc",1,"font-weight-normal","lead"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0)(1,"h1",1),o._uU(2,"404"),o.qZA(),o.TgZ(3,"div",2)(4,"h2",3),o._uU(5,"The page you requested was not found."),o.qZA()()())},styles:["#main[_ngcontent-%COMP%]{height:100vh}"]}),n})();function Ha(n,e){if(1&n&&(o.ynx(0),o.TgZ(1,"div",10)(2,"h1",11),o._uU(3,"Registered Successfully"),o.qZA(),o.TgZ(4,"p",12),o._uU(5,"Verification Link has been sent to : "),o.TgZ(6,"b"),o._uU(7),o.qZA()(),o._UZ(8,"hr",13),o.TgZ(9,"p"),o._uU(10,"Please click on the link that has been sent to your email account to verify your email and continue the registration process."),o.qZA()(),o.BQk()),2&n){const t=o.oxw();o.xp6(7),o.Oqu(t.f.email.value)}}function $M(n,e){1&n&&(o.TgZ(0,"div"),o._uU(1,"First Name is required"),o.qZA())}function Gw(n,e){if(1&n&&(o.TgZ(0,"div",55),o.YNc(1,$M,2,0,"div",9),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",t.f.firstName.errors.required)}}function ja(n,e){1&n&&(o.TgZ(0,"div"),o._uU(1,"Last Name is required"),o.qZA())}function $s(n,e){if(1&n&&(o.TgZ(0,"div",55),o.YNc(1,ja,2,0,"div",9),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",t.f.lastName.errors.required)}}function qs(n,e){1&n&&(o.TgZ(0,"div"),o._uU(1,"Email is required"),o.qZA())}function $w(n,e){if(1&n&&(o.TgZ(0,"div",55),o.YNc(1,qs,2,0,"div",9),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",t.f.email.errors.required)}}function qw(n,e){1&n&&(o.TgZ(0,"div"),o._uU(1,"Password is required"),o.qZA())}function qM(n,e){1&n&&(o.TgZ(0,"div"),o._uU(1,"Password must be at least 6 characters"),o.qZA())}function WM(n,e){if(1&n&&(o.TgZ(0,"div",55),o.YNc(1,qw,2,0,"div",9),o.YNc(2,qM,2,0,"div",9),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",t.f.password.errors.required),o.xp6(1),o.Q6J("ngIf",t.f.password.errors.minlength)}}function zM(n,e){1&n&&(o.TgZ(0,"div"),o._uU(1,"Repeat your password is required"),o.qZA())}function KM(n,e){1&n&&(o.TgZ(0,"div"),o._uU(1,"Repeat Password must be Same as Password"),o.qZA())}function V0(n,e){if(1&n&&(o.TgZ(0,"div",55),o.YNc(1,zM,2,0,"div",9),o.YNc(2,KM,2,0,"div",9),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",t.f.repeatPassword.errors&&t.f.repeatPassword.errors.required),o.xp6(1),o.Q6J("ngIf",t.f.repeatPassword.dirty&&t.f.repeatPassword.value&&t.f.password.value!=t.f.repeatPassword.value)}}function gg(n,e){1&n&&o._UZ(0,"span",56)}function YM(n,e){if(1&n){const t=o.EpF();o.ynx(0),o.TgZ(1,"p",14),o._uU(2,"Sign up"),o.qZA(),o.TgZ(3,"form",15),o.NdJ("ngSubmit",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.onSubmit())}),o.TgZ(4,"div",16)(5,"label",17),o._uU(6,"First Name "),o.TgZ(7,"span",18),o._uU(8,"*"),o.qZA()(),o._UZ(9,"input",19),o.YNc(10,Gw,2,1,"div",20),o.qZA(),o.TgZ(11,"div",16)(12,"label",21),o._uU(13,"Last Name "),o.TgZ(14,"span",18),o._uU(15,"*"),o.qZA()(),o._UZ(16,"input",22),o.YNc(17,$s,2,1,"div",20),o.qZA(),o.TgZ(18,"div",16)(19,"label",23),o._uU(20,"Your Email "),o.TgZ(21,"span",18),o._uU(22,"*"),o.qZA()(),o._UZ(23,"input",24),o.YNc(24,$w,2,1,"div",20),o.qZA(),o.TgZ(25,"div",16)(26,"label",23),o._uU(27,"Your Profession"),o.qZA(),o.TgZ(28,"select",25)(29,"option",26),o._uU(30,"Select Your Profession"),o.qZA(),o.TgZ(31,"option",27),o._uU(32,"Doctor"),o.qZA(),o.TgZ(33,"option",28),o._uU(34,"Accountant"),o.qZA(),o.TgZ(35,"option",29),o._uU(36,"Teacher"),o.qZA(),o.TgZ(37,"option",30),o._uU(38,"Technician"),o.qZA(),o.TgZ(39,"option",31),o._uU(40,"Banker"),o.qZA(),o.TgZ(41,"option",32),o._uU(42,"Lawyer"),o.qZA(),o.TgZ(43,"option",33),o._uU(44,"Engineer"),o.qZA(),o.TgZ(45,"option",34),o._uU(46,"Other"),o.qZA()()(),o.TgZ(47,"div",16)(48,"label",23),o._uU(49,"Your Home Place"),o.qZA(),o.TgZ(50,"select",35)(51,"option",26),o._uU(52,"Select Your Taluka "),o.qZA(),o.TgZ(53,"option",36),o._uU(54,"Bardez"),o.qZA(),o.TgZ(55,"option",37),o._uU(56,"Bicholim"),o.qZA(),o.TgZ(57,"option",38),o._uU(58,"Pernem"),o.qZA(),o.TgZ(59,"option",39),o._uU(60,"Sattari"),o.qZA(),o.TgZ(61,"option",40),o._uU(62,"Tiswadi"),o.qZA(),o.TgZ(63,"option",41),o._uU(64,"Ponda"),o.qZA(),o.TgZ(65,"option",42),o._uU(66,"Canacona"),o.qZA(),o.TgZ(67,"option",43),o._uU(68,"Mormugao"),o.qZA(),o.TgZ(69,"option",44),o._uU(70,"Salcette"),o.qZA(),o.TgZ(71,"option",45),o._uU(72,"Sanguem"),o.qZA(),o.TgZ(73,"option",46),o._uU(74,"Quepem"),o.qZA(),o.TgZ(75,"option",47),o._uU(76,"Dharbandora"),o.qZA()()(),o.TgZ(77,"div",16)(78,"label",48),o._uU(79,"Password "),o.TgZ(80,"span",18),o._uU(81,"*"),o.qZA()(),o._UZ(82,"input",49),o.YNc(83,WM,3,2,"div",20),o.qZA(),o.TgZ(84,"div",16)(85,"label",48),o._uU(86,"Repeat your password "),o.TgZ(87,"span",18),o._uU(88,"*"),o.qZA()(),o._UZ(89,"input",50),o.YNc(90,V0,3,2,"div",20),o.qZA(),o.TgZ(91,"button",51),o.YNc(92,gg,1,0,"span",52),o._uU(93," Register "),o.qZA(),o.TgZ(94,"p",53),o._uU(95," have an account? "),o.TgZ(96,"a",54),o._uU(97,"Login"),o.qZA()()(),o.BQk()}if(2&n){const t=o.oxw();o.xp6(3),o.Q6J("formGroup",t.form),o.xp6(7),o.Q6J("ngIf",t.f.firstName.touched&&t.f.firstName.errors),o.xp6(7),o.Q6J("ngIf",t.f.lastName.touched&&t.f.lastName.errors),o.xp6(7),o.Q6J("ngIf",t.f.email.touched&&t.f.email.errors),o.xp6(59),o.Q6J("ngIf",t.f.password.touched&&t.f.password.errors),o.xp6(7),o.Q6J("ngIf",t.f.repeatPassword.touched),o.xp6(1),o.Q6J("disabled",t.loading),o.xp6(1),o.Q6J("ngIf",t.loading)}}let Ww=(()=>{class n{constructor(t,r,i,s,u){this.formBuilder=t,this.route=r,this.router=i,this.userService=s,this.toastService=u,this.loading=!1,this.submitted=!1,this.registerSuccessfully=!1,this.userService.userValue&&this.router.navigateByUrl("/Dashboard"),this.form=this.formBuilder.group({firstName:["",Or.required],lastName:["",Or.required],profession:[""],homePlace:[""],email:["",Or.required],password:["",[Or.required,Or.minLength(6)]],repeatPassword:["",Or.required]})}ngOnInit(){}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.form.markAllAsTouched(),this.toastService.clear(),!this.form.invalid&&this.form.controls.password.value==this.form.controls.repeatPassword.value&&(this.loading=!0,this.userService.register({firstName:this.form.controls.firstName.value,lastName:this.form.controls.lastName.value,profession:this.form.controls.profession.value,homePlace:this.form.controls.homePlace.value,email:this.form.controls.email.value,password:this.form.controls.password.value}).pipe(Yr()).subscribe(t=>{this.toastService.success("Registration successful"),this.registerSuccessfully=!0},t=>{this.toastService.error(t),this.loading=!1}))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Qh),o.Y36(uo),o.Y36(Gn),o.Y36(Uo),o.Y36(Za))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-register"]],decls:12,vars:2,consts:[[1,"container","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col-lg-12","col-xl-11"],[1,"card","text-black",2,"border-radius","25px"],[1,"card-body","p-md-5"],[1,"row","justify-content-center"],[1,"col-md-10","col-lg-6","col-xl-7","d-flex","align-items-center","order-1","order-lg-1"],["src","assets/img/registration.webp","alt","Sample image",1,"img-fluid"],[1,"col-md-10","col-lg-6","col-xl-5","order-2","order-lg-2"],[4,"ngIf"],[1,"jumbotron"],[1,"display-6"],[1,"lead"],[1,"my-4"],[1,"text-center","h1","fw-bold","mb-5","mx-1","mx-md-4","mt-4"],[1,"mx-1","mx-md-4",3,"formGroup","ngSubmit"],[1,"form-group"],["for","firstName"],[1,"requireColor"],["type","text","Placeholder","Enter Your Name","formControlName","firstName",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","lastName"],["type","text","Placeholder","Enter Your Name","formControlName","lastName",1,"form-control"],["for","username"],["type","text","formControlName","email","Placeholder","Enter Your Email",1,"form-control"],["aria-label","Default select example","formControlName","profession",1,"form-select"],["value","","selected",""],["value","doctor"],["value","accountant"],["value","teacher"],["value","technician"],["value","banker"],["value","lawyer"],["value","engineer"],["value","other"],["aria-label","Default select example","formControlName","homePlace",1,"form-select"],["value","bardez"],["value","bicholim"],["value","pernem"],["value","sattari"],["value","tiswadi"],["value","ponda"],["value","canacona"],["value","mormugao"],["value","salcette"],["value","sanguem"],["value","quepem"],["value","dharbandora"],["for","password"],["type","password","formControlName","password","Placeholder","Enter Your Password",1,"form-control"],["type","password","formControlName","repeatPassword","Placeholder","Enter Your Repeat Password",1,"form-control"],[1,"btn","btn-primary","btn-sm","d-flex","justify-content-right",2,"float","right",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"small","fw-bold","mt-2","pt-1","mb-0"],["routerLink","/Login",1,"link-danger"],[1,"invalid-feedback"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(t,r){1&t&&(o.TgZ(0,"section")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),o._UZ(8,"img",7),o.qZA(),o.TgZ(9,"div",8),o.YNc(10,Ha,11,1,"ng-container",9),o.YNc(11,YM,98,8,"ng-container",9),o.qZA()()()()()()()()),2&t&&(o.xp6(10),o.Q6J("ngIf",r.registerSuccessfully),o.xp6(1),o.Q6J("ngIf",!r.registerSuccessfully))},dependencies:[en,Ra,Hs,tg,ng,Ua,Yh,jl,Zs,ql,Kh],styles:["section[_ngcontent-%COMP%]{background-color:#f0f8ff!important;padding:100px 0 30px!important}section[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:90%}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{margin-top:.5rem}"]}),n})(),zw=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-contact-us"]],decls:50,vars:0,consts:[["id","contact",1,"contact"],[1,"container"],[1,"section-title"],[1,"row","mt-5"],[1,"col-lg-4"],[1,"info"],[1,"address"],[1,"ri-map-pin-line"],[1,"email"],[1,"ri-mail-line"],[1,"phone"],[1,"ri-phone-line"],[1,"col-lg-8","mt-5","mt-lg-0"],["action","forms/contact.php","method","post","role","form",1,"php-email-form"],[1,"row"],[1,"col-md-6","form-group"],["type","text","name","name","id","name","placeholder","Your Name","required","",1,"form-control"],[1,"col-md-6","form-group","mt-3"],["type","email","name","email","id","email","placeholder","Your Email","required","",1,"form-control"],[1,"form-group","mt-3"],["type","text","name","subject","id","subject","placeholder","Subject","required","",1,"form-control"],["name","message","rows","5","placeholder","Message","required","",1,"form-control"],[1,"my-3"],[1,"loading"],[1,"error-message"],[1,"sent-message"],[1,"text-right"],["type","submit"]],template:function(t,r){1&t&&(o.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2"),o._uU(4,"Contact"),o.qZA(),o.TgZ(5,"p"),o._uU(6,"Magnam dolores commodi suscipit. Necessitatibus eius consequatur ex aliquid fuga eum quidem. Sit sint consectetur velit. Quisquam quos quisquam cupiditate. Et nemo qui impedit suscipit alias ea. Quia fugiat sit in iste officiis commodi quidem hic quas."),o.qZA()()(),o._UZ(7,"div"),o.TgZ(8,"div",1)(9,"div",3)(10,"div",4)(11,"div",5)(12,"div",6),o._UZ(13,"i",7),o.TgZ(14,"h4"),o._uU(15,"Location:"),o.qZA(),o.TgZ(16,"p"),o._uU(17,"A108 Adam Street, New York, NY 535022"),o.qZA()(),o.TgZ(18,"div",8),o._UZ(19,"i",9),o.TgZ(20,"h4"),o._uU(21,"Email:"),o.qZA(),o.TgZ(22,"p"),o._uU(23,"info@example.com"),o.qZA()(),o.TgZ(24,"div",10),o._UZ(25,"i",11),o.TgZ(26,"h4"),o._uU(27,"Call:"),o.qZA(),o.TgZ(28,"p"),o._uU(29,"+1 5589 55488 55s"),o.qZA()()()(),o.TgZ(30,"div",12)(31,"form",13)(32,"div",14)(33,"div",15),o._UZ(34,"input",16),o.qZA(),o.TgZ(35,"div",17),o._UZ(36,"input",18),o.qZA()(),o.TgZ(37,"div",19),o._UZ(38,"input",20),o.qZA(),o.TgZ(39,"div",19),o._UZ(40,"textarea",21),o.qZA(),o.TgZ(41,"div",22)(42,"div",23),o._uU(43,"Loading"),o.qZA(),o._UZ(44,"div",24),o.TgZ(45,"div",25),o._uU(46,"Your message has been sent. Thank you!"),o.qZA()(),o.TgZ(47,"div",26)(48,"button",27),o._uU(49,"Get In Touch"),o.qZA()()()()()()())},dependencies:[Hs,Zs,dd]}),n})();const Kw=[{path:"Homepage",component:ZS},{path:"Login",component:K_},{path:"Login/:id",component:K_},{path:"Registration",component:Ww},{path:"Not-found",component:U0},{path:"",redirectTo:"Homepage",pathMatch:"full"},{path:"AboutUs",component:t0},{path:"Contact",component:zw},{path:"**",redirectTo:"/Not-found"}],Yw={useHash:!0,anchorScrolling:"enabled",onSameUrlNavigation:"reload",scrollPositionRestoration:"top"};let mg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[La.forRoot(Kw,Yw),La]}),n})(),Qw=(()=>{class n{constructor(){this.loader=!0}start(){this.loader=!0}stop(){this.loader=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Jw=F(7043);function Ai(n,e,t,r){return(0,Jw.m)(t)&&(r=t,t=void 0),r?Ai(n,e,t).pipe((0,Je.U)(i=>(0,ji.k)(i)?r(...i):r(i))):new fr.y(i=>{_g(n,e,function s(u){i.next(arguments.length>1?Array.prototype.slice.call(arguments):u)},i,t)})}function _g(n,e,t,r,i){let s;if(function eD(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const u=n;n.addEventListener(e,t,i),s=()=>u.removeEventListener(e,t,i)}else if(function Xw(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const u=n;n.on(e,t),s=()=>u.off(e,t)}else if(function B0(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const u=n;n.addListener(e,t),s=()=>u.removeListener(e,t)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let u=0,h=n.length;u<h;u++)_g(n[u],e,t,r,i)}r.add(s)}var nf=F(353),Z0=F(4241);function H0(n=0,e,t){let r=-1;return(0,Z0.k)(e)?r=Number(e)<1?1:Number(e):(0,Po.K)(e)&&(t=e),(0,Po.K)(t)||(t=nf.P),new fr.y(i=>{const s=(0,Z0.k)(n)?n:+n-t.now();return t.schedule(tD,s,{index:0,period:r,subscriber:i})})}function tD(n){const{index:e,period:t,subscriber:r}=n;if(r.next(e),!r.closed){if(-1===t)return r.complete();n.index=e+1,this.schedule(n,t)}}function j0(...n){if(1===n.length){if(!(0,ji.k)(n[0]))return n[0];n=n[0]}return(0,Sr.n)(n,void 0).lift(new JM)}class JM{call(e,t){return t.subscribe(new XM(e))}}class XM extends xl{constructor(e){super(e),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(e){this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(let r=0;r<t&&!this.hasFirst;r++){const s=Ea(this,e[r],void 0,r);this.subscriptions&&this.subscriptions.push(s),this.add(s)}this.observables=null}}notifyNext(e,t,r){if(!this.hasFirst){this.hasFirst=!0;for(let i=0;i<this.subscriptions.length;i++)if(i!==r){let s=this.subscriptions[i];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(t)}}var ex=F(7876);const nD=new fr.y(ex.Z);var Y_=F(5430);function Q_(...n){const e=n[n.length-1];return"function"==typeof e&&n.pop(),(0,Sr.n)(n,void 0).lift(new tx(e))}class tx{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new nx(e,this.resultSelector))}}class nx extends Qn.L{constructor(e,t,r=Object.create(null)){super(e),this.resultSelector=t,this.iterators=[],this.active=0,this.resultSelector="function"==typeof t?t:void 0}_next(e){const t=this.iterators;(0,ji.k)(e)?t.push(new ix(e)):t.push("function"==typeof e[Y_.hZ]?new rx(e[Y_.hZ]()):new ox(this.destination,this,e))}_complete(){const e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(let r=0;r<t;r++){let i=e[r];i.stillUnsubscribed?this.destination.add(i.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const e=this.iterators,t=e.length,r=this.destination;for(let u=0;u<t;u++){let h=e[u];if("function"==typeof h.hasValue&&!h.hasValue())return}let i=!1;const s=[];for(let u=0;u<t;u++){let h=e[u],g=h.next();if(h.hasCompleted()&&(i=!0),g.done)return void r.complete();s.push(g.value)}this.resultSelector?this._tryresultSelector(s):r.next(s),i&&r.complete()}_tryresultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}class rx{constructor(e){this.iterator=e,this.nextResult=e.next()}hasValue(){return!0}next(){const e=this.nextResult;return this.nextResult=this.iterator.next(),e}hasCompleted(){const e=this.nextResult;return Boolean(e&&e.done)}}class ix{constructor(e){this.array=e,this.index=0,this.length=0,this.length=e.length}[Y_.hZ](){return this}next(e){const t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class ox extends En.Ds{constructor(e,t,r){super(e),this.parent=t,this.observable=r,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[Y_.hZ](){return this}next(){const e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(e){this.buffer.push(e),this.parent.checkIterators()}subscribe(){return(0,En.ft)(this.observable,new En.IY(this))}}function Xr(n){return e=>e.lift(new ax(n))}class ax{constructor(e){this.notifier=e}call(e,t){const r=new cx(e),i=(0,En.ft)(this.notifier,new En.IY(r));return i&&!r.seenValue?(r.add(i),t.subscribe(r)):r}}class cx extends En.Ds{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function yg(n,e){return t=>t.lift(new lx(n,e))}class lx{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new rD(e,this.compare,this.keySelector))}}class rD extends Qn.L{constructor(e,t,r){super(e),this.keySelector=r,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:i}=this;t=i?i(e):e}catch(i){return this.destination.error(i)}let r=!1;if(this.hasKey)try{const{compare:i}=this;r=i(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}function vg(...n){return e=>{let t;return"function"==typeof n[n.length-1]&&(t=n.pop()),e.lift(new iD(n,t))}}class iD{constructor(e,t){this.observables=e,this.project=t}call(e,t){return t.subscribe(new oD(e,this.observables,this.project))}}class oD extends xl{constructor(e,t,r){super(e),this.observables=t,this.project=r,this.toRespond=[];const i=t.length;this.values=new Array(i);for(let s=0;s<i;s++)this.toRespond.push(s);for(let s=0;s<i;s++)this.add(Ea(this,t[s],void 0,s))}notifyNext(e,t,r){this.values[r]=t;const i=this.toRespond;if(i.length>0){const s=i.indexOf(r);-1!==s&&i.splice(s,1)}}notifyComplete(){}_next(e){if(0===this.toRespond.length){const t=[e,...this.values];this.project?this._tryProject(t):this.destination.next(t)}}_tryProject(e){let t;try{t=this.project.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}var G0=F(9312);class cD{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new J_(e,this.delay,this.scheduler))}}class J_ extends Qn.L{constructor(e,t,r){super(e),this.delay=t,this.scheduler=r,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,r=t.queue,i=e.scheduler,s=e.destination;for(;r.length>0&&r[0].time-i.now()<=0;)r.shift().notification.observe(s);if(r.length>0){const u=Math.max(0,r[0].time-i.now());this.schedule(e,u)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(J_.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,r=new $0(t.now()+this.delay,e);this.queue.push(r),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(G0.P.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(G0.P.createComplete()),this.unsubscribe()}}class $0{constructor(e,t){this.time=e,this.notification=t}}var dx={left:"right",right:"left",bottom:"top",top:"bottom"};function zc(n){return n.replace(/left|right|bottom|top/g,function(e){return dx[e]})}function Kc(n){return n.split("-")[0]}var q0={start:"end",end:"start"};function hx(n){return n.replace(/start|end/g,function(e){return q0[e]})}var yo="top",gs="bottom",Ga="right",at="left",W0="auto",bg=[yo,gs,Ga,at],rf="start",$a="end",Cg="viewport",Yl="popper",px=bg.reduce(function(n,e){return n.concat([e+"-"+rf,e+"-"+$a])},[]),z0=[].concat(bg,[W0]).reduce(function(n,e){return n.concat([e,e+"-"+rf,e+"-"+$a])},[]),wg=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function ms(n){if(null==n)return window;if("[object Window]"!==n.toString()){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function vd(n){return n instanceof ms(n).Element||n instanceof Element}function _s(n){return n instanceof ms(n).HTMLElement||n instanceof HTMLElement}function sf(n){return!(typeof ShadowRoot>"u")&&(n instanceof ms(n).ShadowRoot||n instanceof ShadowRoot)}function Yc(n){return((vd(n)?n.ownerDocument:n.document)||window.document).documentElement}var Ql=Math.max,Dg=Math.min,af=Math.round;function bd(){var n=navigator.userAgentData;return null!=n&&n.brands?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function cf(){return!/^((?!chrome|android).)*safari/i.test(bd())}function lf(n,e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var r=n.getBoundingClientRect(),i=1,s=1;e&&_s(n)&&(i=n.offsetWidth>0&&af(r.width)/n.offsetWidth||1,s=n.offsetHeight>0&&af(r.height)/n.offsetHeight||1);var h=(vd(n)?ms(n):window).visualViewport,g=!cf()&&t,v=(r.left+(g&&h?h.offsetLeft:0))/i,D=(r.top+(g&&h?h.offsetTop:0))/s,I=r.width/i,O=r.height/s;return{width:I,height:O,top:D,right:v+I,bottom:D+O,left:v,x:v,y:D}}function K0(n){var e=ms(n);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Y0(n){return lf(Yc(n)).left+K0(n).scrollLeft}function qa(n){return ms(n).getComputedStyle(n)}function Wa(n){return n?(n.nodeName||"").toLowerCase():null}function Tg(n){return"html"===Wa(n)?n:n.assignedSlot||n.parentNode||(sf(n)?n.host:null)||Yc(n)}function Q0(n){var e=qa(n);return/auto|scroll|overlay|hidden/.test(e.overflow+e.overflowY+e.overflowX)}function _D(n){return["html","body","#document"].indexOf(Wa(n))>=0?n.ownerDocument.body:_s(n)&&Q0(n)?n:_D(Tg(n))}function X_(n,e){var t;void 0===e&&(e=[]);var r=_D(n),i=r===(null==(t=n.ownerDocument)?void 0:t.body),s=ms(r),u=i?[s].concat(s.visualViewport||[],Q0(r)?r:[]):r,h=e.concat(u);return i?h:h.concat(X_(Tg(u)))}function F2(n){return["table","td","th"].indexOf(Wa(n))>=0}function vx(n){return _s(n)&&"fixed"!==qa(n).position?n.offsetParent:null}function uf(n){for(var e=ms(n),t=vx(n);t&&F2(t)&&"static"===qa(t).position;)t=vx(t);return t&&("html"===Wa(t)||"body"===Wa(t)&&"static"===qa(t).position)?e:t||function L2(n){var e=/firefox/i.test(bd());if(/Trident/i.test(bd())&&_s(n)&&"fixed"===qa(n).position)return null;var i=Tg(n);for(sf(i)&&(i=i.host);_s(i)&&["html","body"].indexOf(Wa(i))<0;){var s=qa(i);if("none"!==s.transform||"none"!==s.perspective||"paint"===s.contain||-1!==["transform","perspective"].indexOf(s.willChange)||e&&"filter"===s.willChange||e&&s.filter&&"none"!==s.filter)return i;i=i.parentNode}return null}(n)||e}function Eg(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&sf(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function J0(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function X0(n,e,t){return e===Cg?J0(function gD(n,e){var t=ms(n),r=Yc(n),i=t.visualViewport,s=r.clientWidth,u=r.clientHeight,h=0,g=0;if(i){s=i.width,u=i.height;var v=cf();(v||!v&&"fixed"===e)&&(h=i.offsetLeft,g=i.offsetTop)}return{width:s,height:u,x:h+Y0(n),y:g}}(n,t)):vd(e)?function bx(n,e){var t=lf(n,!1,"fixed"===e);return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}(e,t):J0(function mD(n){var e,t=Yc(n),r=K0(n),i=null==(e=n.ownerDocument)?void 0:e.body,s=Ql(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),u=Ql(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),h=-r.scrollLeft+Y0(n),g=-r.scrollTop;return"rtl"===qa(i||t).direction&&(h+=Ql(t.clientWidth,i?i.clientWidth:0)-s),{width:s,height:u,x:h,y:g}}(Yc(n)))}function df(n){return n.split("-")[1]}function eb(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function yD(n){var g,e=n.reference,t=n.element,r=n.placement,i=r?Kc(r):null,s=r?df(r):null,u=e.x+e.width/2-t.width/2,h=e.y+e.height/2-t.height/2;switch(i){case yo:g={x:u,y:e.y-t.height};break;case gs:g={x:u,y:e.y+e.height};break;case Ga:g={x:e.x+e.width,y:h};break;case at:g={x:e.x-t.width,y:h};break;default:g={x:e.x,y:e.y}}var v=i?eb(i):null;if(null!=v){var D="y"===v?"height":"width";switch(s){case rf:g[v]=g[v]-(e[D]/2-t[D]/2);break;case $a:g[v]=g[v]+(e[D]/2-t[D]/2)}}return g}function tb(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function bD(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}function nb(n,e){void 0===e&&(e={});var r=e.placement,i=void 0===r?n.placement:r,s=e.strategy,u=void 0===s?n.strategy:s,h=e.boundary,g=void 0===h?"clippingParents":h,v=e.rootBoundary,D=void 0===v?Cg:v,I=e.elementContext,O=void 0===I?Yl:I,k=e.altBoundary,Z=void 0!==k&&k,z=e.padding,ie=void 0===z?0:z,be=tb("number"!=typeof ie?ie:bD(ie,bg)),Le=n.rects.popper,Pe=n.elements[Z?O===Yl?"reference":Yl:O],Ve=function Cx(n,e,t,r){var i="clippingParents"===e?function Ig(n){var e=X_(Tg(n)),r=["absolute","fixed"].indexOf(qa(n).position)>=0&&_s(n)?uf(n):n;return vd(r)?e.filter(function(i){return vd(i)&&Eg(i,r)&&"body"!==Wa(i)}):[]}(n):[].concat(e),s=[].concat(i,[t]),h=s.reduce(function(g,v){var D=X0(n,v,r);return g.top=Ql(D.top,g.top),g.right=Dg(D.right,g.right),g.bottom=Dg(D.bottom,g.bottom),g.left=Ql(D.left,g.left),g},X0(n,s[0],r));return h.width=h.right-h.left,h.height=h.bottom-h.top,h.x=h.left,h.y=h.top,h}(vd(Pe)?Pe:Pe.contextElement||Yc(n.elements.popper),g,D,u),$e=lf(n.elements.reference),Dt=yD({reference:$e,element:Le,strategy:"absolute",placement:i}),Zt=J0(Object.assign({},Le,Dt)),Nr=O===Yl?Zt:$e,Mi={top:Ve.top-Nr.top+be.top,bottom:Nr.bottom-Ve.bottom+be.bottom,left:Ve.left-Nr.left+be.left,right:Nr.right-Ve.right+be.right},ri=n.modifiersData.offset;if(O===Yl&&ri){var ol=ri[i];Object.keys(Mi).forEach(function(Ko){var Im=[Ga,gs].indexOf(Ko)>=0?1:-1,Sm=[yo,gs].indexOf(Ko)>=0?"y":"x";Mi[Ko]+=ol[Sm]*Im})}return Mi}const Dx={name:"flip",enabled:!0,phase:"main",fn:function CD(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,s=void 0===i||i,u=t.altAxis,h=void 0===u||u,g=t.fallbackPlacements,v=t.padding,D=t.boundary,I=t.rootBoundary,O=t.altBoundary,k=t.flipVariations,Z=void 0===k||k,z=t.allowedAutoPlacements,ie=e.options.placement,be=Kc(ie),Le=g||(be!==ie&&Z?function wx(n){if(Kc(n)===W0)return[];var e=zc(n);return[hx(n),e,hx(e)]}(ie):[zc(ie)]),Pe=[ie].concat(Le).reduce(function(mv,Kf){return mv.concat(Kc(Kf)===W0?function Sg(n,e){void 0===e&&(e={});var i=e.boundary,s=e.rootBoundary,u=e.padding,h=e.flipVariations,g=e.allowedAutoPlacements,v=void 0===g?z0:g,D=df(e.placement),I=D?h?px:px.filter(function(Z){return df(Z)===D}):bg,O=I.filter(function(Z){return v.indexOf(Z)>=0});0===O.length&&(O=I);var k=O.reduce(function(Z,z){return Z[z]=nb(n,{placement:z,boundary:i,rootBoundary:s,padding:u})[Kc(z)],Z},{});return Object.keys(k).sort(function(Z,z){return k[Z]-k[z]})}(e,{placement:Kf,boundary:D,rootBoundary:I,padding:v,flipVariations:Z,allowedAutoPlacements:z}):Kf)},[]),Ve=e.rects.reference,$e=e.rects.popper,Dt=new Map,Zt=!0,Nr=Pe[0],Mi=0;Mi<Pe.length;Mi++){var ri=Pe[Mi],ol=Kc(ri),Ko=df(ri)===rf,Im=[yo,gs].indexOf(ol)>=0,Sm=Im?"width":"height",ia=nb(e,{placement:ri,boundary:D,rootBoundary:I,altBoundary:O,padding:v}),sl=Im?Ko?Ga:at:Ko?gs:yo;Ve[Sm]>$e[Sm]&&(sl=zc(sl));var rS=zc(sl),Mm=[];if(s&&Mm.push(ia[ol]<=0),h&&Mm.push(ia[sl]<=0,ia[rS]<=0),Mm.every(function(mv){return mv})){Nr=ri,Zt=!1;break}Dt.set(ri,Mm)}if(Zt)for(var l2=function(Kf){var AC=Pe.find(function(sS){var xm=Dt.get(sS);if(xm)return xm.slice(0,Kf).every(function(u2){return u2})});if(AC)return Nr=AC,"break"},OC=Z?3:1;OC>0&&"break"!==l2(OC);OC--);e.placement!==Nr&&(e.modifiersData[r]._skip=!0,e.placement=Nr,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Mg(n,e,t){return Ql(n,Dg(e,t))}function rb(n){var e=lf(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}const Tx={name:"preventOverflow",enabled:!0,phase:"main",fn:function ib(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,s=void 0===i||i,u=t.altAxis,h=void 0!==u&&u,O=t.tether,k=void 0===O||O,Z=t.tetherOffset,z=void 0===Z?0:Z,ie=nb(e,{boundary:t.boundary,rootBoundary:t.rootBoundary,padding:t.padding,altBoundary:t.altBoundary}),be=Kc(e.placement),Oe=df(e.placement),Le=!Oe,Pe=eb(be),Ve=function wD(n){return"x"===n?"y":"x"}(Pe),$e=e.modifiersData.popperOffsets,Dt=e.rects.reference,Zt=e.rects.popper,Nr="function"==typeof z?z(Object.assign({},e.rects,{placement:e.placement})):z,Mi="number"==typeof Nr?{mainAxis:Nr,altAxis:Nr}:Object.assign({mainAxis:0,altAxis:0},Nr),ri=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ol={x:0,y:0};if($e){if(s){var Ko,Im="y"===Pe?yo:at,Sm="y"===Pe?gs:Ga,ia="y"===Pe?"height":"width",sl=$e[Pe],rS=sl+ie[Im],Mm=sl-ie[Sm],iS=k?-Zt[ia]/2:0,l2=Oe===rf?Dt[ia]:Zt[ia],OC=Oe===rf?-Zt[ia]:-Dt[ia],oS=e.elements.arrow,mv=k&&oS?rb(oS):{width:0,height:0},Kf=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},AC=Kf[Im],sS=Kf[Sm],xm=Mg(0,Dt[ia],mv[ia]),u2=Le?Dt[ia]/2-iS-xm-AC-Mi.mainAxis:l2-xm-AC-Mi.mainAxis,OX=Le?-Dt[ia]/2+iS+xm+sS+Mi.mainAxis:OC+xm+sS+Mi.mainAxis,d2=e.elements.arrow&&uf(e.elements.arrow),RH=null!=(Ko=ri?.[Pe])?Ko:0,NX=sl+OX-RH,FH=Mg(k?Dg(rS,sl+u2-RH-(d2?"y"===Pe?d2.clientTop||0:d2.clientLeft||0:0)):rS,sl,k?Ql(Mm,NX):Mm);$e[Pe]=FH,ol[Pe]=FH-sl}if(h){var LH,Om=$e[Ve],aS="y"===Ve?"height":"width",UH=Om+ie["x"===Pe?yo:at],VH=Om-ie["x"===Pe?gs:Ga],h2=-1!==[yo,at].indexOf(be),BH=null!=(LH=ri?.[Ve])?LH:0,ZH=h2?UH:Om-Dt[aS]-Zt[aS]-BH+Mi.altAxis,HH=h2?Om+Dt[aS]+Zt[aS]-BH-Mi.altAxis:VH,jH=k&&h2?function DD(n,e,t){var r=Mg(n,e,t);return r>t?t:r}(ZH,Om,HH):Mg(k?ZH:UH,Om,k?HH:VH);$e[Ve]=jH,ol[Ve]=jH-Om}e.modifiersData[r]=ol}},requiresIfExists:["offset"]},Ix={name:"arrow",enabled:!0,phase:"main",fn:function ED(n){var e,t=n.state,r=n.name,i=n.options,s=t.elements.arrow,u=t.modifiersData.popperOffsets,h=Kc(t.placement),g=eb(h),D=[at,Ga].indexOf(h)>=0?"height":"width";if(s&&u){var I=function(e,t){return tb("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:bD(e,bg))}(i.padding,t),O=rb(s),k="y"===g?yo:at,Z="y"===g?gs:Ga,z=t.rects.reference[D]+t.rects.reference[g]-u[g]-t.rects.popper[D],ie=u[g]-t.rects.reference[g],be=uf(s),Oe=be?"y"===g?be.clientHeight||0:be.clientWidth||0:0,$e=Oe/2-O[D]/2+(z/2-ie/2),Dt=Mg(I[k],$e,Oe-O[D]-I[Z]);t.modifiersData[r]=((e={})[g]=Dt,e.centerOffset=Dt-$e,e)}},effect:function Ex(n){var e=n.state,r=n.options.element,i=void 0===r?"[data-popper-arrow]":r;null!=i&&("string"==typeof i&&!(i=e.elements.popper.querySelector(i))||!Eg(e.elements.popper,i)||(e.elements.arrow=i))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ID(n,e,t){void 0===t&&(t=!1);var r=_s(e),i=_s(e)&&function Mx(n){var e=n.getBoundingClientRect(),t=af(e.width)/n.offsetWidth||1,r=af(e.height)/n.offsetHeight||1;return 1!==t||1!==r}(e),s=Yc(e),u=lf(n,i,t),h={scrollLeft:0,scrollTop:0},g={x:0,y:0};return(r||!r&&!t)&&(("body"!==Wa(e)||Q0(s))&&(h=function ob(n){return n!==ms(n)&&_s(n)?function Sx(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):K0(n)}(e)),_s(e)?((g=lf(e,!0)).x+=e.clientLeft,g.y+=e.clientTop):s&&(g.x=Y0(s))),{x:u.left+h.scrollLeft-g.x,y:u.top+h.scrollTop-g.y,width:u.width,height:u.height}}function xx(n){var e=new Map,t=new Set,r=[];function i(s){t.add(s.name),[].concat(s.requires||[],s.requiresIfExists||[]).forEach(function(h){if(!t.has(h)){var g=e.get(h);g&&i(g)}}),r.push(s)}return n.forEach(function(s){e.set(s.name,s)}),n.forEach(function(s){t.has(s.name)||i(s)}),r}function Ax(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}var SD={placement:"bottom",modifiers:[],strategy:"absolute"};function MD(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&"function"==typeof r.getBoundingClientRect)})}function xD(n){void 0===n&&(n={});var t=n.defaultModifiers,r=void 0===t?[]:t,i=n.defaultOptions,s=void 0===i?SD:i;return function(h,g,v){void 0===v&&(v=s);var D={placement:"bottom",orderedModifiers:[],options:Object.assign({},SD,s),modifiersData:{},elements:{reference:h,popper:g},attributes:{},styles:{}},I=[],O=!1,k={state:D,setOptions:function(be){var Oe="function"==typeof be?be(D.options):be;z(),D.options=Object.assign({},s,D.options,Oe),D.scrollParents={reference:vd(h)?X_(h):h.contextElement?X_(h.contextElement):[],popper:X_(g)};var Le=function Ox(n){var e=xx(n);return wg.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}(function Px(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}([].concat(r,D.options.modifiers)));return D.orderedModifiers=Le.filter(function(ri){return ri.enabled}),function Z(){D.orderedModifiers.forEach(function(ie){var Oe=ie.options,Pe=ie.effect;if("function"==typeof Pe){var Ve=Pe({state:D,name:ie.name,instance:k,options:void 0===Oe?{}:Oe});I.push(Ve||function(){})}})}(),k.update()},forceUpdate:function(){if(!O){var be=D.elements,Oe=be.reference,Le=be.popper;if(MD(Oe,Le)){D.rects={reference:ID(Oe,uf(Le),"fixed"===D.options.strategy),popper:rb(Le)},D.reset=!1,D.placement=D.options.placement,D.orderedModifiers.forEach(function(ri){return D.modifiersData[ri.name]=Object.assign({},ri.data)});for(var Ve=0;Ve<D.orderedModifiers.length;Ve++)if(!0!==D.reset){var $e=D.orderedModifiers[Ve],Dt=$e.fn,Zt=$e.options;"function"==typeof Dt&&(D=Dt({state:D,options:void 0===Zt?{}:Zt,name:$e.name,instance:k})||D)}else D.reset=!1,Ve=-1}}},update:Ax(function(){return new Promise(function(ie){k.forceUpdate(),ie(D)})}),destroy:function(){z(),O=!0}};if(!MD(h,g))return k;function z(){I.forEach(function(ie){return ie()}),I=[]}return k.setOptions(v).then(function(ie){!O&&v.onFirstUpdate&&v.onFirstUpdate(ie)}),k}}var xg={passive:!0};const sb={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function kx(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,s=void 0===i||i,u=r.resize,h=void 0===u||u,g=ms(e.elements.popper),v=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&v.forEach(function(D){D.addEventListener("scroll",t.update,xg)}),h&&g.addEventListener("resize",t.update,xg),function(){s&&v.forEach(function(D){D.removeEventListener("scroll",t.update,xg)}),h&&g.removeEventListener("resize",t.update,xg)}},data:{}},Rx={name:"popperOffsets",enabled:!0,phase:"read",fn:function OD(n){var e=n.state;e.modifiersData[n.name]=yD({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}};var Fx={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ey(n){var e,t=n.popper,r=n.popperRect,i=n.placement,s=n.variation,u=n.offsets,h=n.position,g=n.gpuAcceleration,v=n.adaptive,D=n.roundOffsets,I=n.isFixed,O=u.x,k=void 0===O?0:O,Z=u.y,z=void 0===Z?0:Z,ie="function"==typeof D?D({x:k,y:z}):{x:k,y:z};k=ie.x,z=ie.y;var be=u.hasOwnProperty("x"),Oe=u.hasOwnProperty("y"),Le=at,Pe=yo,Ve=window;if(v){var $e=uf(t),Dt="clientHeight",Zt="clientWidth";$e===ms(t)&&"static"!==qa($e=Yc(t)).position&&"absolute"===h&&(Dt="scrollHeight",Zt="scrollWidth"),(i===yo||(i===at||i===Ga)&&s===$a)&&(Pe=gs,z-=(I&&$e===Ve&&Ve.visualViewport?Ve.visualViewport.height:$e[Dt])-r.height,z*=g?1:-1),i!==at&&(i!==yo&&i!==gs||s!==$a)||(Le=Ga,k-=(I&&$e===Ve&&Ve.visualViewport?Ve.visualViewport.width:$e[Zt])-r.width,k*=g?1:-1)}var Ko,ri=Object.assign({position:h},v&&Fx),ol=!0===D?function ab(n){var t=n.y,i=window.devicePixelRatio||1;return{x:af(n.x*i)/i||0,y:af(t*i)/i||0}}({x:k,y:z}):{x:k,y:z};return k=ol.x,z=ol.y,Object.assign({},ri,g?((Ko={})[Pe]=Oe?"0":"",Ko[Le]=be?"0":"",Ko.transform=(Ve.devicePixelRatio||1)<=1?"translate("+k+"px, "+z+"px)":"translate3d("+k+"px, "+z+"px, 0)",Ko):((e={})[Pe]=Oe?z+"px":"",e[Le]=be?k+"px":"",e.transform="",e))}const cb={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function AD(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=void 0===r||r,s=t.adaptive,u=void 0===s||s,h=t.roundOffsets,g=void 0===h||h,D={placement:Kc(e.placement),variation:df(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,ey(Object.assign({},D,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:u,roundOffsets:g})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,ey(Object.assign({},D,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:g})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}};var Vx=[sb,Rx,cb,{name:"applyStyles",enabled:!0,phase:"write",fn:function Lx(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},s=e.elements[t];!_s(s)||!Wa(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(u){var h=i[u];!1===h?s.removeAttribute(u):s.setAttribute(u,!0===h?"":h)}))})},effect:function Ux(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},h=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]).reduce(function(g,v){return g[v]="",g},{});!_s(i)||!Wa(i)||(Object.assign(i.style,h),Object.keys(s).forEach(function(g){i.removeAttribute(g)}))})}},requires:["computeStyles"]}],ND=xD({defaultModifiers:Vx});const Bx={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function kD(n){var e=n.state,r=n.name,i=n.options.offset,s=void 0===i?[0,0]:i,u=z0.reduce(function(D,I){return D[I]=function hf(n,e,t){var r=Kc(n),i=[at,yo].indexOf(r)>=0?-1:1,s="function"==typeof t?t(Object.assign({},e,{placement:n})):t,u=s[0],h=s[1];return u=u||0,h=(h||0)*i,[at,Ga].indexOf(r)>=0?{x:h,y:u}:{x:u,y:h}}(I,e.rects,s),D},{}),h=u[e.placement],v=h.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=h.x,e.modifiersData.popperOffsets.y+=v),e.modifiersData[r]=u}},db=["*"];function UD(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",6),o.NdJ("click",function(){const s=o.CHM(t).$implicit,u=o.oxw();return u.focus(),o.KtG(u.select(s.id,u.NgbSlideEventSource.INDICATOR))}),o.qZA()}if(2&n){const t=e.$implicit,r=o.oxw();o.ekj("active",t.id===r.activeId),o.uIk("aria-labelledby","slide-"+t.id)("aria-controls","slide-"+t.id)("aria-selected",t.id===r.activeId)}}function VD(n,e){}function BD(n,e){if(1&n&&(o.TgZ(0,"div",7)(1,"span",8),o.SDv(2,9),o.qZA(),o.YNc(3,VD,0,0,"ng-template",10),o.qZA()),2&n){const t=e.$implicit,r=e.index,i=e.count;o.Q6J("id","slide-"+t.id),o.xp6(2),o.pQV(r+1)(i),o.QtT(2),o.xp6(1),o.Q6J("ngTemplateOutlet",t.tplRef)}}function jx(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",11),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.arrowLeft())}),o._UZ(1,"span",12),o.TgZ(2,"span",8),o.SDv(3,13),o.qZA()()}}function Gx(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",14),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.arrowRight())}),o._UZ(1,"span",15),o.TgZ(2,"span",8),o.SDv(3,16),o.qZA()()}}const Jx=["dialog"];function nO(n,e){1&n&&(o.TgZ(0,"span",9),o.SDv(1,10),o.qZA())}function Og(n,e){1&n&&(o.TgZ(0,"span",9),o.SDv(1,11),o.qZA())}function rO(n,e){1&n&&(o.TgZ(0,"span",9),o.SDv(1,12),o.qZA())}function hb(n,e){1&n&&(o.TgZ(0,"span",9),o.SDv(1,13),o.qZA())}function za(n,e){1&n&&o._uU(0,"...")}function iO(n,e){1&n&&(o.TgZ(0,"span",15),o._uU(1,"(current)"),o.qZA())}function fb(n,e){if(1&n&&(o._uU(0),o.YNc(1,iO,2,0,"span",14)),2&n){const t=e.$implicit,r=e.currentPage;o.hij(" ",t," "),o.xp6(1),o.Q6J("ngIf",t===r)}}function Ag(n,e){}const oO=function(n){return{disabled:!0,currentPage:n}};function sO(n,e){if(1&n&&(o.TgZ(0,"a",20),o.YNc(1,Ag,0,0,"ng-template",8),o.qZA()),2&n){const t=o.oxw(2).$implicit,r=o.oxw(),i=o.MAs(9);o.xp6(1),o.Q6J("ngTemplateOutlet",(null==r.tplEllipsis?null:r.tplEllipsis.templateRef)||i)("ngTemplateOutletContext",o.VKq(2,oO,t))}}function aO(n,e){}const ny=function(n,e,t){return{disabled:n,$implicit:e,currentPage:t}};function ry(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"a",21),o.NdJ("click",function(i){o.CHM(t);const s=o.oxw().$implicit;return o.oxw(2).selectPage(s),o.KtG(i.preventDefault())}),o.YNc(1,aO,0,0,"ng-template",8),o.qZA()}if(2&n){const t=o.oxw().$implicit,r=o.oxw(),i=r.disabled,s=r.$implicit,u=o.oxw(),h=o.MAs(11);o.uIk("tabindex",i?"-1":null)("aria-disabled",i?"true":null),o.xp6(1),o.Q6J("ngTemplateOutlet",(null==u.tplNumber?null:u.tplNumber.templateRef)||h)("ngTemplateOutletContext",o.kEZ(4,ny,i,t,s))}}function cO(n,e){if(1&n&&(o.TgZ(0,"li",17),o.YNc(1,sO,2,4,"a",18),o.YNc(2,ry,2,8,"a",19),o.qZA()),2&n){const t=e.$implicit,r=o.oxw(),i=r.$implicit,s=r.disabled,u=o.oxw();o.ekj("active",t===i)("disabled",u.isEllipsis(t)||s),o.uIk("aria-current",t===i?"page":null),o.xp6(1),o.Q6J("ngIf",u.isEllipsis(t)),o.xp6(1),o.Q6J("ngIf",!u.isEllipsis(t))}}function lO(n,e){1&n&&o.YNc(0,cO,3,7,"li",16),2&n&&o.Q6J("ngForOf",e.pages)}function KD(n,e){}const iy=function(n,e){return{disabled:n,currentPage:e}};function pb(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"li",17)(1,"a",22),o.NdJ("click",function(i){return o.CHM(t),o.oxw().selectPage(1),o.KtG(i.preventDefault())}),o.YNc(2,KD,0,0,"ng-template",8),o.qZA()()}if(2&n){const t=o.oxw(),r=o.MAs(1);o.ekj("disabled",t.previousDisabled()),o.xp6(1),o.uIk("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),o.xp6(1),o.Q6J("ngTemplateOutlet",(null==t.tplFirst?null:t.tplFirst.templateRef)||r)("ngTemplateOutletContext",o.WLB(6,iy,t.previousDisabled(),t.page))}}function YD(n,e){}const uO=function(n){return{disabled:n}};function dO(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"li",17)(1,"a",23),o.NdJ("click",function(i){o.CHM(t);const s=o.oxw();return s.selectPage(s.page-1),o.KtG(i.preventDefault())}),o.YNc(2,YD,0,0,"ng-template",8),o.qZA()()}if(2&n){const t=o.oxw(),r=o.MAs(3);o.ekj("disabled",t.previousDisabled()),o.xp6(1),o.uIk("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),o.xp6(1),o.Q6J("ngTemplateOutlet",(null==t.tplPrevious?null:t.tplPrevious.templateRef)||r)("ngTemplateOutletContext",o.VKq(6,uO,t.previousDisabled()))}}function eF(n,e){}function gb(n,e){}function mb(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"li",17)(1,"a",24),o.NdJ("click",function(i){o.CHM(t);const s=o.oxw();return s.selectPage(s.page+1),o.KtG(i.preventDefault())}),o.YNc(2,gb,0,0,"ng-template",8),o.qZA()()}if(2&n){const t=o.oxw(),r=o.MAs(5);o.ekj("disabled",t.nextDisabled()),o.xp6(1),o.uIk("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),o.xp6(1),o.Q6J("ngTemplateOutlet",(null==t.tplNext?null:t.tplNext.templateRef)||r)("ngTemplateOutletContext",o.WLB(6,iy,t.nextDisabled(),t.page))}}function QD(n,e){}function _b(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"li",17)(1,"a",25),o.NdJ("click",function(i){o.CHM(t);const s=o.oxw();return s.selectPage(s.pageCount),o.KtG(i.preventDefault())}),o.YNc(2,QD,0,0,"ng-template",8),o.qZA()()}if(2&n){const t=o.oxw(),r=o.MAs(7);o.ekj("disabled",t.nextDisabled()),o.xp6(1),o.uIk("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),o.xp6(1),o.Q6J("ngTemplateOutlet",(null==t.tplLast?null:t.tplLast.templateRef)||r)("ngTemplateOutletContext",o.WLB(6,iy,t.nextDisabled(),t.page))}}const yb=function(n,e,t){return{$implicit:n,pages:e,disabled:t}};function DO(n,e){if(1&n&&(o.TgZ(0,"strong",3),o._uU(1),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Oqu(t.header)}}function oF(n,e){}function sF(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",4),o.YNc(1,oF,0,0,"ng-template",5),o.TgZ(2,"button",6),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.hide())}),o.qZA()()}if(2&n){const t=o.oxw(),r=o.MAs(1);o.xp6(1),o.Q6J("ngTemplateOutlet",t.contentHeaderTpl||r)}}function Pg(n){return"string"==typeof n}function Ka(n){return!isNaN(function sy(n){return parseInt(`${n}`,10)}(n))}function Ya(n){return null!=n}function Ws(n){return(n||document.body).getBoundingClientRect()}const OO={animation:!0,transitionTimerDelayMs:5},AO=()=>{},{transitionTimerDelayMs:uF}=OO,Ng=new Map,Ti=(n,e,t,r)=>{let i=r.context||{};const s=Ng.get(e);if(s)switch(r.runningTransition){case"continue":return Kr.E;case"stop":n.run(()=>s.transition$.complete()),i=Object.assign(s.context,i),Ng.delete(e)}const u=t(e,r.animation,i)||AO;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>u()),(0,Qe.of)(void 0).pipe(function MO(n){return e=>new fr.y(t=>e.subscribe({next:u=>n.run(()=>t.next(u)),error:u=>n.run(()=>t.error(u)),complete:()=>n.run(()=>t.complete())}))}(n));const h=new Nn.xQ,g=new Nn.xQ,v=h.pipe(function sx(...n){return e=>Al(e,(0,Qe.of)(...n))}(!0));Ng.set(e,{transition$:h,complete:()=>{g.next(),g.complete()},context:i});const D=function Cb(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const I=Ai(e,"transitionend").pipe(Xr(v),U(({target:k})=>k===e));j0(H0(D+uF).pipe(Xr(v)),I,g).pipe(Xr(v)).subscribe(()=>{Ng.delete(e),n.run(()=>{u(),h.next(),h.complete()})})}),h.asObservable()};let kg=(()=>{class n{constructor(){this.animation=OO.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[An]]}),n})(),RO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[An]]}),n})(),LO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();var zs=(()=>{return(n=zs||(zs={})).START="start",n.END="end",zs;var n})();const UO=({classList:n})=>n.contains("carousel-item-start")||n.contains("carousel-item-end"),pf=n=>{n.remove("carousel-item-start"),n.remove("carousel-item-end")},Cd=n=>{pf(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},lT=(n,e,{direction:t})=>{const{classList:r}=n;return e?(UO(n)?pf(r):(r.add("carousel-item-"+(t===zs.START?"next":"prev")),Ws(n),r.add("carousel-item-"+t)),()=>{Cd(r),r.add("active")}):(pf(r),Cd(r),void r.add("active"))},uT=(n,e,{direction:t})=>{const{classList:r}=n;return e?(UO(n)?pf(r):r.add("carousel-item-"+t),()=>{Cd(r),r.remove("active")}):(pf(r),Cd(r),void r.remove("active"))};let pF=(()=>{class n{constructor(t){this._ngbConfig=t,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(kg))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mb=0,ly=(()=>{class n{constructor(t){this.tplRef=t,this.id="ngb-slide-"+Mb++,this.slid=new o.vpe}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"}}),n})(),dT=(()=>{class n{constructor(t,r,i,s,u){this._platformId=r,this._ngZone=i,this._cd=s,this._container=u,this.NgbSlideEventSource=Jl,this._destroy$=new Nn.xQ,this._interval$=new Nt(0),this._mouseHover$=new Nt(!1),this._focused$=new Nt(!1),this._pauseOnHover$=new Nt(!1),this._pauseOnFocus$=new Nt(!1),this._pause$=new Nt(!1),this._wrap$=new Nt(!1),this.slide=new o.vpe,this.slid=new o.vpe,this._transitionIds=null,this.animation=t.animation,this.interval=t.interval,this.wrap=t.wrap,this.keyboard=t.keyboard,this.pauseOnHover=t.pauseOnHover,this.pauseOnFocus=t.pauseOnFocus,this.showNavigationArrows=t.showNavigationArrows,this.showNavigationIndicators=t.showNavigationIndicators}set interval(t){this._interval$.next(t)}get interval(){return this._interval$.value}set wrap(t){this._wrap$.next(t)}get wrap(){return this._wrap$.value}set pauseOnHover(t){this._pauseOnHover$.next(t)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(t){this._pauseOnFocus$.next(t)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(t){this._mouseHover$.next(t)}get mouseHover(){return this._mouseHover$.value}set focused(t){this._focused$.next(t)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(Jl.ARROW_LEFT)}arrowRight(){this.focus(),this.next(Jl.ARROW_RIGHT)}ngAfterContentInit(){(function vu(n){return n===Bi})(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const t=bi([this.slide.pipe((0,Je.U)(r=>r.current),P(this.activeId)),this._wrap$,this.slides.changes.pipe(P(null))]).pipe((0,Je.U)(([r,i])=>{const s=this.slides.toArray(),u=this._getSlideIdxById(r);return i?s.length>1:u<s.length-1}),yg());bi([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,t]).pipe((0,Je.U)(([r,i,s,u,h,g,v])=>r||i&&s||u&&h||!v?0:g),yg(),fn(r=>r>0?H0(r,r):nD),Xr(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(Jl.TIMER)))}),this.slides.changes.pipe(Xr(this._destroy$)).subscribe(()=>{this._transitionIds?.forEach(t=>(n=>{Ng.get(n)?.complete()})(this._getSlideElement(t))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe(pr(1)).subscribe(()=>{for(const{id:t}of this.slides){const r=this._getSlideElement(t);t===this.activeId?r.classList.add("active"):r.classList.remove("active")}})})}ngAfterContentChecked(){let t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const t=this._getSlideElement(this.activeId);t&&t.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(t,r){this._cycleToSelected(t,this._getSlideEventDirection(this.activeId,t),r)}prev(t){this._cycleToSelected(this._getPrevSlide(this.activeId),zs.END,t)}next(t){this._cycleToSelected(this._getNextSlide(this.activeId),zs.START,t)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(t,r,i){const s=this._transitionIds;if(s&&(s[0]!==t||s[1]!==this.activeId))return;let u=this._getSlideById(t);if(u&&u.id!==this.activeId){this._transitionIds=[this.activeId,t],this.slide.emit({prev:this.activeId,current:u.id,direction:r,paused:this._pause$.value,source:i});const h={animation:this.animation,runningTransition:"stop",context:{direction:r}},g=[],v=this._getSlideById(this.activeId);if(v){const k=Ti(this._ngZone,this._getSlideElement(v.id),uT,h);k.subscribe(()=>{v.slid.emit({isShown:!1,direction:r,source:i})}),g.push(k)}const D=this.activeId;this.activeId=u.id;const I=this._getSlideById(this.activeId),O=Ti(this._ngZone,this._getSlideElement(u.id),lT,h);O.subscribe(()=>{I?.slid.emit({isShown:!0,direction:r,source:i})}),g.push(O),Q_(...g).pipe(pr(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:D,current:u.id,direction:r,paused:this._pause$.value,source:i})})}this._cd.markForCheck()}_getSlideEventDirection(t,r){return this._getSlideIdxById(t)>this._getSlideIdxById(r)?zs.END:zs.START}_getSlideById(t){return this.slides.find(r=>r.id===t)||null}_getSlideIdxById(t){const r=this._getSlideById(t);return null!=r?this.slides.toArray().indexOf(r):-1}_getNextSlide(t){const r=this.slides.toArray(),i=this._getSlideIdxById(t);return i===r.length-1?this.wrap?r[0].id:r[r.length-1].id:r[i+1].id}_getPrevSlide(t){const r=this.slides.toArray(),i=this._getSlideIdxById(t);return 0===i?this.wrap?r[r.length-1].id:r[0].id:r[i-1].id}_getSlideElement(t){return this._container.nativeElement.querySelector(`#slide-${t}`)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(pF),o.Y36(o.Lbi),o.Y36(o.R0b),o.Y36(o.sBO),o.Y36(o.SBq))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngb-carousel"]],contentQueries:function(t,r,i){if(1&t&&o.Suo(i,ly,4),2&t){let s;o.iGM(s=o.CRH())&&(r.slides=s)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(t,r){1&t&&o.NdJ("keydown.arrowLeft",function(){return r.keyboard&&r.arrowLeft()})("keydown.arrowRight",function(){return r.keyboard&&r.arrowRight()})("mouseenter",function(){return r.mouseHover=!0})("mouseleave",function(){return r.mouseHover=!1})("focusin",function(){return r.focused=!0})("focusout",function(){return r.focused=!1}),2&t&&(o.uIk("aria-activedescendant","slide-"+r.activeId),o.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],decls:6,vars:6,consts:function(){let e,t,r;return e=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,t=$localize`:@@ngb.carousel.previous:Previous`,r=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],e,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],t,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],r]},template:function(t,r){1&t&&(o.TgZ(0,"div",0),o.YNc(1,UD,1,5,"button",1),o.qZA(),o.TgZ(2,"div",2),o.YNc(3,BD,4,4,"div",3),o.qZA(),o.YNc(4,jx,4,0,"button",4),o.YNc(5,Gx,4,0,"button",5)),2&t&&(o.ekj("visually-hidden",!r.showNavigationIndicators),o.xp6(1),o.Q6J("ngForOf",r.slides),o.xp6(2),o.Q6J("ngForOf",r.slides),o.xp6(1),o.Q6J("ngIf",r.showNavigationArrows),o.xp6(1),o.Q6J("ngIf",r.showNavigationArrows))},dependencies:[mi,Xo,en],encapsulation:2,changeDetection:0}),n})();var Jl=(()=>{return(n=Jl||(Jl={})).TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator",Jl;var n})();let VO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[An]]}),n})(),Rg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();var Un=(()=>{return(n=Un||(Un={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",Un;var n})();const Ab=(n,e)=>!!e&&e.some(t=>t.contains(n)),gT=(n,e)=>!e||null!=function tT(n,e){return!e||typeof n.closest>"u"?null:n.closest(e)}(n,e),YO=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function JO(n,e,t,r,i,s,u,h){t&&n.runOutsideAngular((n=>YO?()=>setTimeout(()=>n(),100):n)(()=>{const v=Ai(e,"keydown").pipe(Xr(i),U(O=>O.which===Un.Escape),(0,Ft.b)(O=>O.preventDefault())),D=Ai(e,"mousedown").pipe((0,Je.U)(O=>{const k=O.target;return 2!==O.button&&!Ab(k,u)&&("inside"===t?Ab(k,s)&&gT(k,h):"outside"===t?!Ab(k,s):gT(k,h)||!Ab(k,s))}),Xr(i)),I=Ai(e,"mouseup").pipe(vg(D),U(([O,k])=>k),function aD(n,e=nf.P){const r=function sD(n){return n instanceof Date&&!isNaN(+n)}(n)?+n-e.now():Math.abs(n);return i=>i.lift(new cD(r,e))}(0),Xr(i));j0([v.pipe((0,Je.U)(O=>0)),I.pipe((0,Je.U)(O=>1))]).subscribe(O=>n.run(()=>r(O)))}))}const Pb=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function XO(n){const e=Array.from(n.querySelectorAll(Pb)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}const eA=/\s+/,_T=/  +/gi,xF=/^start/,Nb=/^end/,yT=/-(top|left)$/,vT=/-(bottom|right)$/,CT=/^left/,wT=/^right/,uy=/^start/,dy=/^end/;function TT({placement:n,baseClass:e}){let t=Array.isArray(n)?n:n.split(eA),i=t.findIndex(g=>"auto"===g);i>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(g){null==t.find(v=>-1!==v.search("^"+g))&&t.splice(i++,1,g)});const s=t.map(g=>function bT(n){return n.replace(xF,"left").replace(Nb,"right").replace(yT,"-start").replace(vT,"-end")}(g));return{placement:s.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!e,phase:"write",fn({state:g}){const v=new RegExp(e+"(-[a-z]+)*","gi"),D=g.elements.popper,I=g.placement;let O=D.className;O=O.replace(v,""),O+=` ${function DT(n,e){let[t,r]=e.split("-");const i=t.replace(CT,"start").replace(wT,"end");let s=[i];if(r){let u=r;("left"===t||"right"===t)&&(u=u.replace(uy,"top").replace(dy,"bottom")),s.push(`${i}-${u}`)}return n&&(s=s.map(u=>`${n}-${u}`)),s.join(" ")}(e,I)}`,O=O.trim().replace(_T," "),D.className=O}},Dx,Tx,Ix,{enabled:!0,name:"flip",options:{fallbackPlacements:s}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function kb(n){return n}function tA(n){return e=>(e.modifiers.push(Bx,{name:"offset",options:{offset:()=>n}}),e)}new Date(1882,10,12),new Date(2174,10,25);let d=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[An,Wl]]}),n})(),f=(()=>{class n{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),b=(()=>{class n{constructor(t,r){this.elementRef=t,this._renderer=r,this._disabled=!1}set disabled(t){this._disabled=""===t||!0===t,this._renderer.setProperty(this.elementRef.nativeElement,"disabled",this._disabled)}get disabled(){return this._disabled}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(t,r){2&t&&(o.Ikx("tabIndex",r.disabled?-1:0),o.ekj("disabled",r.disabled))},inputs:{disabled:"disabled"}}),n})(),w=(()=>{class n{constructor(t,r){this.dropdown=t,this.placement="bottom",this.isOpen=!1,this.nativeElement=r.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(o.Y36((0,o.Gpc)(()=>N)),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(t,r,i){if(1&t&&o.Suo(i,b,4),2&t){let s;o.iGM(s=o.CRH())&&(r.menuItems=s)}},hostVars:4,hostBindings:function(t,r){1&t&&o.NdJ("keydown.ArrowUp",function(s){return r.dropdown.onKeyDown(s)})("keydown.ArrowDown",function(s){return r.dropdown.onKeyDown(s)})("keydown.Home",function(s){return r.dropdown.onKeyDown(s)})("keydown.End",function(s){return r.dropdown.onKeyDown(s)})("keydown.Enter",function(s){return r.dropdown.onKeyDown(s)})("keydown.Space",function(s){return r.dropdown.onKeyDown(s)})("keydown.Tab",function(s){return r.dropdown.onKeyDown(s)})("keydown.Shift.Tab",function(s){return r.dropdown.onKeyDown(s)}),2&t&&o.ekj("dropdown-menu",!0)("show",r.dropdown.isOpen())}}),n})(),T=(()=>{class n{constructor(t,r){this.dropdown=t,this.nativeElement=r.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(o.Y36((0,o.Gpc)(()=>N)),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(t,r){2&t&&o.uIk("aria-expanded",r.dropdown.isOpen())}}),n})(),x=(()=>{class n extends T{constructor(t,r){super(t,r)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36((0,o.Gpc)(()=>N)),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(t,r){1&t&&o.NdJ("click",function(){return r.dropdown.toggle()})("keydown.ArrowUp",function(s){return r.dropdown.onKeyDown(s)})("keydown.ArrowDown",function(s){return r.dropdown.onKeyDown(s)})("keydown.Home",function(s){return r.dropdown.onKeyDown(s)})("keydown.End",function(s){return r.dropdown.onKeyDown(s)})("keydown.Tab",function(s){return r.dropdown.onKeyDown(s)})("keydown.Shift.Tab",function(s){return r.dropdown.onKeyDown(s)}),2&t&&o.uIk("aria-expanded",r.dropdown.isOpen())},features:[o._Bn([{provide:T,useExisting:(0,o.Gpc)(()=>n)}]),o.qOj]}),n})(),N=(()=>{class n{constructor(t,r,i,s,u,h,g){this._changeDetector=t,this._document=i,this._ngZone=s,this._elementRef=u,this._renderer=h,this._destroyCloseHandlers$=new Nn.xQ,this._bodyContainer=null,this._positioning=function ET(){let n=null;return{createPopper(e){if(!n){let r=(e.updatePopperOptions||kb)(TT(e));n=ND(e.hostElement,e.targetElement,r)}},update(){n&&n.update()},setOptions(e){if(n){let r=(e.updatePopperOptions||kb)(TT(e));n.setOptions(r)}},destroy(){n&&(n.destroy(),n=null)}}}(),this._open=!1,this.openChange=new o.vpe,this.placement=r.placement,this.container=r.container,this.autoClose=r.autoClose,this.display=g?"static":"dynamic"}ngAfterContentInit(){this._ngZone.onStable.pipe(pr(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(t){if(t.container&&this._open&&this._applyContainer(this.container),t.placement&&!t.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container}),this._applyPlacementClasses()),t.dropdownClass){const{currentValue:r,previousValue:i}=t.dropdownClass;this._applyCustomDropdownClass(r,i)}t.autoClose&&this._open&&(this.autoClose=t.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:tA([0,2])}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),JO(this._ngZone,this._document,this.autoClose,t=>{this.close(),0===t&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(t){const r=t.which,i=this._getMenuElements();let s=-1,u=null;const h=this._isEventFromToggle(t);if(!h&&i.length&&i.forEach((g,v)=>{g.contains(t.target)&&(u=g),g===this._document.activeElement&&(s=v)}),r!==Un.Space&&r!==Un.Enter){if(r!==Un.Tab){if(h||u){if(this.open(),i.length){switch(r){case Un.ArrowDown:s=Math.min(s+1,i.length-1);break;case Un.ArrowUp:if(this._isDropup()&&-1===s){s=i.length-1;break}s=Math.max(s-1,0);break;case Un.Home:s=0;break;case Un.End:s=i.length-1}i[s].focus()}t.preventDefault()}}else if(t.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===t.target)return void("body"!==this.container||t.shiftKey?t.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const g=this._menu.nativeElement.querySelectorAll(Pb);t.shiftKey&&t.target===g[0]?(this._anchor.nativeElement.focus(),t.preventDefault()):!t.shiftKey&&t.target===g[g.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else Ai(t.target,"focusout").pipe(pr(1)).subscribe(({relatedTarget:g})=>{this._elementRef.nativeElement.contains(g)||this.close()})}}else u&&(!0===this.autoClose||"inside"===this.autoClose)&&Ai(u,"click").pipe(pr(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(t){return this._anchor.nativeElement.contains(t.target)}_getMenuElements(){const t=this._menu;return null==t?[]:t.menuItems.filter(r=>!r.disabled).map(r=>r.elementRef.nativeElement)}_positionMenu(){const t=this._menu;this.isOpen()&&t&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(t){return Array.isArray(t)?t[0]:t.split(" ")[0]}_resetContainer(){const t=this._renderer;this._menu&&t.appendChild(this._elementRef.nativeElement,this._menu.nativeElement),this._bodyContainer&&(t.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(t=null){if(this._resetContainer(),"body"===t){const r=this._renderer,i=this._menu.nativeElement,s=this._bodyContainer=this._bodyContainer||r.createElement("div");r.setStyle(s,"position","absolute"),r.setStyle(i,"position","static"),r.setStyle(s,"z-index","1055"),r.appendChild(s,i),r.appendChild(this._document.body,s)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(t,r){const i="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;i&&(r&&this._renderer.removeClass(i,r),t&&this._renderer.addClass(i,t))}_applyPlacementClasses(t){const r=this._menu;if(r){t||(t=this._getFirstPlacement(this.placement));const i=this._renderer,s=this._elementRef.nativeElement;i.removeClass(s,"dropup"),i.removeClass(s,"dropdown");const{nativeElement:u}=r;"static"===this.display?(r.placement=null,i.setAttribute(u,"data-bs-popper","static")):(r.placement=t,i.removeAttribute(u,"data-bs-popper"));const h=-1!==t.search("^top")?"dropup":"dropdown";i.addClass(s,h);const g=this._bodyContainer;g&&(i.removeClass(g,"dropup"),i.removeClass(g,"dropdown"),i.addClass(g,h))}}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.sBO),o.Y36(f),o.Y36(se),o.Y36(o.R0b),o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(_,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngbDropdown",""]],contentQueries:function(t,r,i){if(1&t&&(o.Suo(i,w,5),o.Suo(i,T,5)),2&t){let s;o.iGM(s=o.CRH())&&(r._menu=s.first),o.iGM(s=o.CRH())&&(r._anchor=s.first)}},hostVars:2,hostBindings:function(t,r){2&t&&o.ekj("show",r.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:["open","_open"],placement:"placement",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[o.TTD]}),n})(),W=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();class re{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let Ue=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(pr(1)).subscribe(()=>{Ti(this._zone,this._el.nativeElement,(t,r)=>{r&&Ws(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ti(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,r){2&t&&(o.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),o.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class je{close(e){}dismiss(e){}}class ct{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new Nn.xQ,this._dismissed=new Nn.xQ,this._hidden=new Nn.xQ,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,u)=>{this._resolve=s,this._reject=u}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Xr(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Xr(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function cy(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Qe.of)(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Q_(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var pt=(()=>{return(n=pt||(pt={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",pt;var n})();let Ee=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new Nn.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new o.vpe,this.shown=new Nn.xQ,this.hidden=new Nn.xQ}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Pg(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(pr(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},u=Q_(Ti(this._zone,t,()=>t.classList.remove("show"),r),Ti(this._zone,this._dialogEl.nativeElement,()=>{},r));return u.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),u}_show(){const t={animation:this.animation,runningTransition:"continue"};Q_(Ti(this._zone,this._elRef.nativeElement,(s,u)=>{u&&Ws(s),s.classList.add("show")},t),Ti(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Ai(t,"keydown").pipe(Xr(this._closed$),U(i=>i.which===Un.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(pt.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;Ai(this._dialogEl.nativeElement,"mousedown").pipe(Xr(this._closed$),(0,Ft.b)(()=>r=!1),fn(()=>Ai(t,"mouseup").pipe(Xr(this._closed$),pr(1))),U(({target:i})=>t===i)).subscribe(()=>{r=!0}),Ai(t,"click").pipe(Xr(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(pt.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=XO(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Ti(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(se),o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&o.Gf(Jx,7),2&t){let i;o.iGM(i=o.CRH())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(o.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),o.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),o.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:db,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(o.F$t(),o.TgZ(0,"div",0,1)(2,"div",2),o.Hsn(3),o.qZA()()),2&t&&o.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),bt=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:s,paddingRight:u}=i;if(t>0){const h=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${h+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=u),i.overflow=s}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(se))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pn=(()=>{class n{constructor(t,r,i,s,u,h){this._applicationRef=t,this._injector=r,this._document=i,this._scrollBar=s,this._rendererFactory=u,this._ngZone=h,this._activeWindowCmptHasChanged=new Nn.xQ,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new o.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const g=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const i=Ai(e,"focusin").pipe(Xr(t),(0,Je.U)(s=>s.target));Ai(e,"keydown").pipe(Xr(t),U(s=>s.which===Un.Tab),vg(i)).subscribe(([s,u])=>{const[h,g]=XO(e);(u===h||u===e)&&s.shiftKey&&(g.focus(),s.preventDefault()),u===g&&!s.shiftKey&&(h.focus(),s.preventDefault())}),r&&Ai(e,"click").pipe(Xr(t),vg(i),(0,Je.U)(s=>s[1])).subscribe(s=>s.focus())})})(0,g.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(g.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i,s){const u=s.container instanceof HTMLElement?s.container:Ya(s.container)?this._document.querySelector(s.container):this._document.body,h=this._rendererFactory.createRenderer(null,null);if(!u)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const g=new je,v=this._getContentRef(t,s.injector||r,i,g,s);let D=!1!==s.backdrop?this._attachBackdrop(t,u):void 0,I=this._attachWindowComponent(t,u,v),O=new ct(I,v,D,s.beforeDismiss);return this._registerModalRef(O),this._registerWindowCmpt(I),O.hidden.pipe(pr(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(h.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),g.close=k=>{O.close(k)},g.dismiss=k=>{O.dismiss(k)},this._applyWindowOptions(I.instance,s),1===this._modalRefs.length&&h.addClass(this._document.body,"modal-open"),D&&D.instance&&(this._applyBackdropOptions(D.instance,s),D.changeDetectorRef.detectChanges()),I.changeDetectorRef.detectChanges(),O}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,r){let s=t.resolveComponentFactory(Ue).create(this._injector);return this._applicationRef.attachView(s.hostView),r.appendChild(s.location.nativeElement),s}_attachWindowComponent(t,r,i){let u=t.resolveComponentFactory(Ee).create(this._injector,i.nodes);return this._applicationRef.attachView(u.hostView),r.appendChild(u.location.nativeElement),u}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{Ya(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{Ya(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,s,u){return i?i instanceof o.Rgc?this._createFromTemplateRef(i,s):Pg(i)?this._createFromString(i):this._createFromComponent(t,r,i,s,u):new re([])}_createFromTemplateRef(t,r){const s=t.createEmbeddedView({$implicit:r,close(u){r.close(u)},dismiss(u){r.dismiss(u)}});return this._applicationRef.attachView(s),new re([s.rootNodes],s)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new re([[r]])}_createFromComponent(t,r,i,s,u){const h=t.resolveComponentFactory(i),g=o.zs3.create({providers:[{provide:je,useValue:s}],parent:r}),v=h.create(g),D=v.location.nativeElement;return u.scrollable&&D.classList.add("component-host-scrollable"),this._applicationRef.attachView(v.hostView),new re([[D]],v.hostView,v)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.z2F),o.LFG(o.zs3),o.LFG(se),o.LFG(bt),o.LFG(o.FYo),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$n=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(kg))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tu=(()=>{class n{constructor(t,r,i,s){this._moduleCFR=t,this._injector=r,this._modalStack=i,this._config=s}open(t,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._moduleCFR,this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o._Vd),o.LFG(o.zs3),o.LFG(pn),o.LFG($n))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),my=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[tu]}),n})(),BF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[An]]}),n})(),Mj=(()=>{class n{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZF=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","ngbPaginationEllipsis",""]]}),n})(),HF=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","ngbPaginationFirst",""]]}),n})(),jF=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","ngbPaginationLast",""]]}),n})(),GF=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","ngbPaginationNext",""]]}),n})(),$F=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","ngbPaginationNumber",""]]}),n})(),qF=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","ngbPaginationPrevious",""]]}),n})(),WF=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","ngbPaginationPages",""]]}),n})(),lA=(()=>{class n{constructor(t){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new o.vpe(!0),this.disabled=t.disabled,this.boundaryLinks=t.boundaryLinks,this.directionLinks=t.directionLinks,this.ellipses=t.ellipses,this.maxSize=t.maxSize,this.pageSize=t.pageSize,this.rotate=t.rotate,this.size=t.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(t){this._updatePages(t)}ngOnChanges(t){this._updatePages(this.page)}isEllipsis(t){return-1===t}_applyEllipses(t,r){this.ellipses&&(t>0&&(t>2?this.pages.unshift(-1):2===t&&this.pages.unshift(2),this.pages.unshift(1)),r<this.pageCount&&(r<this.pageCount-2?this.pages.push(-1):r===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let t=0,r=this.pageCount,i=Math.floor(this.maxSize/2);return this.page<=i?r=this.maxSize:this.pageCount-this.page<i?t=this.pageCount-this.maxSize:(t=this.page-i-1,r=this.page+(this.maxSize%2==0?i-1:i)),[t,r]}_applyPagination(){let r=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[r,r+this.maxSize]}_setPageInRange(t){const r=this.page;this.page=function IO(n,e,t=0){return Math.max(Math.min(n,e),t)}(t,this.pageCount,1),this.page!==r&&Ka(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(t){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),Ka(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let r=1;r<=this.pageCount;r++)this.pages.push(r);if(this._setPageInRange(t),this.maxSize>0&&this.pageCount>this.maxSize){let r=0,i=this.pageCount;[r,i]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(r,i),this._applyEllipses(r,i)}}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Mj))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngb-pagination"]],contentQueries:function(t,r,i){if(1&t&&(o.Suo(i,ZF,5),o.Suo(i,HF,5),o.Suo(i,jF,5),o.Suo(i,GF,5),o.Suo(i,$F,5),o.Suo(i,qF,5),o.Suo(i,WF,5)),2&t){let s;o.iGM(s=o.CRH())&&(r.tplEllipsis=s.first),o.iGM(s=o.CRH())&&(r.tplFirst=s.first),o.iGM(s=o.CRH())&&(r.tplLast=s.first),o.iGM(s=o.CRH())&&(r.tplNext=s.first),o.iGM(s=o.CRH())&&(r.tplNumber=s.first),o.iGM(s=o.CRH())&&(r.tplPrevious=s.first),o.iGM(s=o.CRH())&&(r.tplPages=s.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},features:[o.TTD],decls:20,vars:12,consts:function(){let e,t,r,i,s,u,h,g;return e=$localize`:@@ngb.pagination.first:`,t=$localize`:@@ngb.pagination.previous:`,r=$localize`:@@ngb.pagination.next:`,i=$localize`:@@ngb.pagination.last:`,s=$localize`:@@ngb.pagination.first-aria:First`,u=$localize`:@@ngb.pagination.previous-aria:Previous`,h=$localize`:@@ngb.pagination.next-aria:Next`,g=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],e,t,r,i,["class","visually-hidden",4,"ngIf"],[1,"visually-hidden"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",s,"href","",1,"page-link",3,"click"],["aria-label",u,"href","",1,"page-link",3,"click"],["aria-label",h,"href","",1,"page-link",3,"click"],["aria-label",g,"href","",1,"page-link",3,"click"]]},template:function(t,r){if(1&t&&(o.YNc(0,nO,2,0,"ng-template",null,0,o.W1O),o.YNc(2,Og,2,0,"ng-template",null,1,o.W1O),o.YNc(4,rO,2,0,"ng-template",null,2,o.W1O),o.YNc(6,hb,2,0,"ng-template",null,3,o.W1O),o.YNc(8,za,1,0,"ng-template",null,4,o.W1O),o.YNc(10,fb,2,2,"ng-template",null,5,o.W1O),o.YNc(12,lO,1,1,"ng-template",null,6,o.W1O),o.TgZ(14,"ul"),o.YNc(15,pb,3,9,"li",7),o.YNc(16,dO,3,8,"li",7),o.YNc(17,eF,0,0,"ng-template",8),o.YNc(18,mb,3,9,"li",7),o.YNc(19,_b,3,9,"li",7),o.qZA()),2&t){const i=o.MAs(13);o.xp6(14),o.Tol("pagination"+(r.size?" pagination-"+r.size:"")),o.xp6(1),o.Q6J("ngIf",r.boundaryLinks),o.xp6(1),o.Q6J("ngIf",r.directionLinks),o.xp6(1),o.Q6J("ngTemplateOutlet",(null==r.tplPages?null:r.tplPages.templateRef)||i)("ngTemplateOutletContext",o.kEZ(8,yb,r.page,r.pages,r.disabled)),o.xp6(1),o.Q6J("ngIf",r.directionLinks),o.xp6(1),o.Q6J("ngIf",r.boundaryLinks)}},dependencies:[en,mi,Xo],encapsulation:2,changeDetection:0}),n})(),zF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[An]]}),n})(),YF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[An]]}),n})(),QF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[An]]}),n})(),JF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[An]]}),n})(),XF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[An]]}),n})();const Fj=(n,e)=>{const{classList:t}=n;if(e)return t.remove("hide"),Ws(n),t.add("showing"),()=>{t.remove("showing"),t.add("show")};t.add("show")},Lj=({classList:n})=>(n.remove("show"),()=>{n.add("hide")});let Uj=(()=>{class n{constructor(t){this._ngbConfig=t,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(kg))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","ngbToastHeader",""]]}),n})(),Vj=(()=>{class n{constructor(t,r,i,s){this.ariaLive=t,this._zone=i,this._element=s,this.contentHeaderTpl=null,this.shown=new o.vpe,this.hidden=new o.vpe,null==this.ariaLive&&(this.ariaLive=r.ariaLive),this.delay=r.delay,this.autohide=r.autohide,this.animation=r.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe(pr(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(t){"autohide"in t&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const t=Ti(this._zone,this._element.nativeElement,Lj,{animation:this.animation,runningTransition:"stop"});return t.subscribe(()=>{this.hidden.emit()}),t}show(){const t=Ti(this._zone,this._element.nativeElement,Fj,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>{this.shown.emit()}),t}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}return n.\u0275fac=function(t){return new(t||n)(o.$8M("aria-live"),o.Y36(Uj),o.Y36(o.R0b),o.Y36(o.SBq))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngb-toast"]],contentQueries:function(t,r,i){if(1&t&&o.Suo(i,eL,7,o.Rgc),2&t){let s;o.iGM(s=o.CRH())&&(r.contentHeaderTpl=s.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(t,r){2&t&&(o.uIk("aria-live",r.ariaLive),o.ekj("fade",r.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],features:[o.TTD],ngContentSelectors:db,decls:5,vars:1,consts:function(){let e;return e=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(t,r){1&t&&(o.F$t(),o.YNc(0,DO,2,1,"ng-template",null,0,o.W1O),o.YNc(2,sF,3,1,"ng-template",1),o.TgZ(3,"div",2),o.Hsn(4),o.qZA()),2&t&&(o.xp6(2),o.Q6J("ngIf",r.contentHeaderTpl||r.header))},dependencies:[en,Xo],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2}),n})(),tL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[An]]}),n})(),nL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();new o.OlP("live announcer delay",{providedIn:"root",factory:function Bj(){return 100}});let rL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[An]]}),n})(),iL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const Zj=[aT,RO,LO,VO,Rg,d,W,my,BF,iL,zF,YF,QF,JF,XF,tL,nL,rL];let oL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Zj,aT,RO,LO,VO,Rg,d,W,my,BF,iL,zF,YF,QF,JF,XF,tL,nL,rL]}),n})(),Hj=(()=>{class n{constructor(t){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(o.Y36($n))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-footer"]],decls:107,vars:0,consts:[[1,"footer-01"],[1,"container"],[1,"row"],[1,"col-md-6","col-lg-3","mb-4","mb-md-0"],[1,"footer-heading"],[1,"ftco-footer-social","p-0"],[1,"ftco-animate"],["href","#","data-toggle","tooltip","data-placement","top","title","Twitter"],[1,"icon"],[1,"bx","bxl-twitter"],["href","#","data-toggle","tooltip","data-placement","top","title","Facebook"],[1,"bx","bxl-facebook"],["href","#","data-toggle","tooltip","data-placement","top","title","Instagram"],[1,"bx","bxl-instagram"],[1,"block-21","mb-4","d-flex"],[1,"img","mr-4","rounded",2,"background-color","antiquewhite"],[1,"text"],[1,"heading"],["href","#"],[1,"meta"],[1,"icon-calendar"],[1,"icon-person"],[1,"icon-chat"],[1,"col-md-6","col-lg-2","pl-lg-5","mb-4","mb-md-0"],[1,"list-unstyled"],["href","#",1,"py-2","d-block"],[1,"py-2","d-block"],[1,"col-md-6","col-lg-4","mb-4","mb-md-0"],[1,"block-23","mb-3"],[1,"fas","fa-home"],[1,"fas","fa-envelope"],[1,"__cf_email__"],[1,"row","mt-5"],[1,"col-md-12","text-center"],[1,"copyright"]],template:function(t,r){1&t&&(o.TgZ(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),o._uU(5,"GOA GAUD SAMAJ"),o.qZA(),o.TgZ(6,"p"),o._uU(7,"A small river named Duden flows by their place and supplies it with the necessary regelialia. It is a paradisematic country, in which roasted parts of sentences fly into your mouth."),o.qZA(),o.TgZ(8,"ul",5)(9,"li",6)(10,"a",7)(11,"span",8),o._UZ(12,"i",9),o.qZA()()(),o.TgZ(13,"li",6)(14,"a",10)(15,"span",8),o._UZ(16,"i",11),o.qZA()()(),o.TgZ(17,"li",6)(18,"a",12)(19,"span",8),o._UZ(20,"i",13),o.qZA()()()()(),o.TgZ(21,"div",3)(22,"h2",4),o._uU(23,"Latest News"),o.qZA(),o.TgZ(24,"div",14),o._UZ(25,"a",15),o.TgZ(26,"div",16)(27,"h3",17)(28,"a",18),o._uU(29,"Even the all-powerful Pointing has no control about"),o.qZA()(),o.TgZ(30,"div",19)(31,"div")(32,"a",18),o._UZ(33,"span",20),o._uU(34," Oct. 16, 2019 "),o.qZA()(),o.TgZ(35,"div")(36,"a",18),o._UZ(37,"span",21),o._uU(38," Admin "),o.qZA()(),o.TgZ(39,"div")(40,"a",18),o._UZ(41,"span",22),o._uU(42," 19 "),o.qZA()()()()(),o.TgZ(43,"div",14),o._UZ(44,"a",15),o.TgZ(45,"div",16)(46,"h3",17)(47,"a",18),o._uU(48,"Even the all-powerful Pointing has no control about"),o.qZA()(),o.TgZ(49,"div",19)(50,"div")(51,"a",18),o._UZ(52,"span",20),o._uU(53," Oct. 16, 2019 "),o.qZA()(),o.TgZ(54,"div")(55,"a",18),o._UZ(56,"span",21),o._uU(57," Admin "),o.qZA()(),o.TgZ(58,"div")(59,"a",18),o._UZ(60,"span",22),o._uU(61," 19 "),o.qZA()()()()()(),o.TgZ(62,"div",23)(63,"h2",4),o._uU(64,"Quick Links"),o.qZA(),o.TgZ(65,"ul",24)(66,"li")(67,"a",25),o._uU(68,"Home"),o.qZA()(),o.TgZ(69,"li")(70,"a",25),o._uU(71,"About"),o.qZA()(),o.TgZ(72,"li")(73,"a",25),o._uU(74,"Services"),o.qZA()(),o.TgZ(75,"li")(76,"a",25),o._uU(77,"Works"),o.qZA()(),o.TgZ(78,"li")(79,"a",25),o._uU(80,"Blog"),o.qZA()(),o.TgZ(81,"li")(82,"a",26),o._uU(83,"feedbac"),o.qZA()()()(),o.TgZ(84,"div",27)(85,"h2",4),o._uU(86,"Have a Questions?"),o.qZA(),o.TgZ(87,"div",28)(88,"ul")(89,"li")(90,"span",8),o._UZ(91,"i",29),o.qZA(),o.TgZ(92,"span",16),o._uU(93,"C/o Ghanashyam Bhomkar H. No. 131/1, Opp. Panchayat Office, Gauthan wada, Bhoma, Ponda - Goa "),o._UZ(94,"br"),o._uU(95," Reg. No. 44/Goa/2022 "),o.qZA()(),o.TgZ(96,"li")(97,"a",18)(98,"span",8),o._UZ(99,"i",30),o.qZA(),o.TgZ(100,"span",16)(101,"span",31),o._uU(102,"goagaudsamaj@gmail.com"),o.qZA()()()()()()()(),o.TgZ(103,"div",32)(104,"div",33)(105,"p",34),o._uU(106," Copyright \xa92022 All rights reserved "),o.qZA()()()()())},styles:['body[_ngcontent-%COMP%]{font-family:Poppins,Arial,sans-serif;font-size:15px;line-height:1.8;font-weight:400}a[_ngcontent-%COMP%]{transition:.3s all ease}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{text-decoration:none!important;outline:none!important}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%], .h4[_ngcontent-%COMP%], .h5[_ngcontent-%COMP%]{line-height:1.5;font-weight:400;font-family:Poppins,Arial,sans-serif}.img[_ngcontent-%COMP%], .blog-img[_ngcontent-%COMP%], .user-img[_ngcontent-%COMP%]{background-size:cover;background-repeat:no-repeat;background-position:center center}.ftco-footer-social[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin:0 10px 0 0;display:inline-block}.ftco-footer-social[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{height:40px;width:40px;display:block;background:rgba(0,0,0,.05);border-radius:50%;position:relative}.ftco-footer-social[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;font-size:20px;top:50%;left:50%;transform:translate(-50%,-50%)}.ftco-footer-social[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.form-control[_ngcontent-%COMP%]{height:52px;background:#fff;color:#000;font-size:18px;border-radius:0;box-shadow:none;border:1px solid rgba(0,0,0,.1)}.form-control[_ngcontent-%COMP%]:focus, .form-control[_ngcontent-%COMP%]:active{outline:none!important;box-shadow:none}textarea.form-control[_ngcontent-%COMP%]{height:inherit!important}.block-23[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0}.block-23[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .block-23[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:table;line-height:1.5;margin-bottom:15px}.block-23[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .block-23[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:table-cell;vertical-align:top}.block-23[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:40px;font-size:18px;padding-top:2px}.ftco-section[_ngcontent-%COMP%]{padding:12em 0;background:#f8f8f8}.ftco-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:0}footer[_ngcontent-%COMP%]{padding:5em 0 0}.footer-01[_ngcontent-%COMP%]{background:rgb(40,40,40);position:relative;z-index:0;overflow:hidden}.footer-01[_ngcontent-%COMP%]:after{position:absolute;top:-300px;left:-100px;width:800px;height:800px;content:"";background:url(https://preview.colorlib.com/theme/bft/bootstrap-footer-11/images/blob-shape.svg);background-position:center center;background-size:cover;z-index:-1;opacity:.05}.footer-01[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#009961}.footer-01[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff9}.footer-01[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]{color:#ffffff4d;color:#999}.footer-01[_ngcontent-%COMP%]   .footer-heading[_ngcontent-%COMP%]{font-size:18px;margin-bottom:30px;color:#fff;position:relative}.footer-01[_ngcontent-%COMP%]   .footer-heading[_ngcontent-%COMP%]:after{position:absolute;bottom:-4px;left:0;content:"";width:40px;height:2px;background:#009961}.footer-01[_ngcontent-%COMP%]   ul.list-unstyled[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .footer-01[_ngcontent-%COMP%]   .block-21[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ffffffb3}.footer-01[_ngcontent-%COMP%]   .block-21[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#009961}.footer-01[_ngcontent-%COMP%]   .block-23[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .footer-01[_ngcontent-%COMP%]   .block-23[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff9}.footer-01[_ngcontent-%COMP%]   .block-23[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#fff6}.footer-01[_ngcontent-%COMP%]   .ftco-footer-social[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background:#009961;color:#fff}.img[_ngcontent-%COMP%]{margin-right:1rem}']}),n})();const jj=function(n){return{"header-scrolled":n}};let Gj=(()=>{class n{constructor(t){this.router=t,this.isTrasHeader=!1,this.router.events.subscribe(r=>{let i=window.location.href;this.isTrasHeader=i.indexOf("Homepage")>0})}ngOnInit(){}changeHeaderColorBaseOnScroll(){let t=window.location.href;t.indexOf("Login")<0&&t.indexOf("Registration")<0&&t.indexOf("Not-found")<0&&t.indexOf("Contact")<0&&t.indexOf("AboutUs")<0&&(this.isTrasHeader=!(window.scrollY>100))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Gn))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-header"]],hostBindings:function(t,r){1&t&&o.NdJ("scroll",function(s){return r.changeHeaderColorBaseOnScroll(s)},!1,o.Jf7)},decls:43,vars:3,consts:[["id","header",1,"fixed-top",3,"ngClass"],[1,"container-fluid"],[1,"row","justify-content-center"],[1,"col-xl-12","d-flex","align-items-center","justify-content-lg-between"],[1,"logo","me-auto","me-lg-0"],["routerLink","/Homepage",2,"cursor","pointer"],["id","navbar",1,"navbar","order-last","order-lg-0"],[1,"dropdown"],["routerLink","/Homepage"],["routerLink","/AboutUs"],["href","#committee"],["aria-hidden","true",1,"fa","fa-angle-down"],["href","#"],["routerLink","/Contact",1,"dropdown"],["aria-hidden","true",1,"fa","fa-bars","mobile-nav-toggle"],["routerLink","/Login",1,"get-started-btn","loginBtn","scrollto"]],template:function(t,r){1&t&&(o.TgZ(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4)(5,"a",5),o._uU(6,"GOA GAUD SAMAJ"),o.qZA()(),o.TgZ(7,"nav",6)(8,"ul")(9,"li",7)(10,"a",8)(11,"span"),o._uU(12,"Home"),o.qZA()()(),o.TgZ(13,"li",7)(14,"a",9)(15,"span"),o._uU(16,"About Us"),o.qZA()()(),o.TgZ(17,"li",7)(18,"a",10)(19,"span"),o._uU(20,"Managing Committee"),o.qZA()()(),o.TgZ(21,"li",7)(22,"a",10)(23,"span"),o._uU(24,"GGS Cells"),o.qZA()()(),o.TgZ(25,"li",7)(26,"a")(27,"span"),o._uU(28,"Annual Activities"),o.qZA(),o._UZ(29,"i",11),o.qZA(),o.TgZ(30,"ul")(31,"li")(32,"a",12),o._uU(33,"Upcoming"),o.qZA()(),o.TgZ(34,"li")(35,"a",12),o._uU(36,"Past"),o.qZA()()()(),o.TgZ(37,"li",13)(38,"a"),o._uU(39,"Contact"),o.qZA()()(),o._UZ(40,"i",14),o.qZA(),o.TgZ(41,"a",15),o._uU(42,"Log-in"),o.qZA()()()()()),2&t&&o.Q6J("ngClass",o.VKq(1,jj,!r.isTrasHeader))},dependencies:[Xt,ka,Ra],styles:[".user[_ngcontent-%COMP%]{font-size:25px;color:#fff;position:relative;top:5px}.nav-link[_ngcontent-%COMP%]   .img-profile[_ngcontent-%COMP%]{height:2rem;width:2rem}"]}),n})();function $j(n,e){1&n&&(o.TgZ(0,"div",5),o._UZ(1,"i",6),o.TgZ(2,"strong",7),o._uU(3,"Notification"),o.qZA()())}function qj(n,e){}function Wj(n,e){if(1&n&&o.YNc(0,qj,0,0,"ng-template",8),2&n){const t=o.oxw().$implicit;o.Q6J("ngTemplateOutlet",t.textOrTpl)}}function zj(n,e){if(1&n&&(o.TgZ(0,"h6"),o._uU(1),o.qZA()),2&n){const t=o.oxw().$implicit;o.xp6(1),o.Oqu(t.textOrTpl)}}function Kj(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"ngb-toast",1),o.NdJ("hidden",function(){const s=o.CHM(t).$implicit,u=o.oxw();return o.KtG(u.toastService.remove(s))}),o.YNc(1,$j,4,0,"ng-template",2),o.YNc(2,Wj,1,1,"ng-template",3),o.YNc(3,zj,2,1,"ng-template",null,4,o.W1O),o.qZA()}if(2&n){const t=e.$implicit,r=o.MAs(4),i=o.oxw();o.Tol(t.classname),o.Q6J("autohide",!0)("delay",t.delay||5e3),o.xp6(2),o.Q6J("ngIf",i.isTemplate(t))("ngIfElse",r)}}let Yj=(()=>{class n{constructor(t){this.toastService=t}isTemplate(t){return t.textOrTpl instanceof o.Rgc}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Za))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-toasts"]],hostAttrs:[1,"toast-container","position-fixed","top-0","end-0","p-3",2,"z-index","1200"],decls:1,vars:1,consts:[[3,"class","autohide","delay","hidden",4,"ngFor","ngForOf"],[3,"autohide","delay","hidden"],["ngbToastHeader",""],[3,"ngIf","ngIfElse"],["text",""],[1,"me-auto"],["aria-hidden","true",1,"fa","fa-bell"],[1,"mx-1"],[3,"ngTemplateOutlet"]],template:function(t,r){1&t&&o.YNc(0,Kj,5,6,"ngb-toast",0),2&t&&o.Q6J("ngForOf",r.toastService.toasts)},dependencies:[mi,en,Xo,Vj,eL]}),n})();function Qj(n,e){1&n&&o._UZ(0,"app-header")}function Jj(n,e){1&n&&o._UZ(0,"div",3)}let Xj=(()=>{class n{constructor(t,r,i){this.router=t,this.userService=r,this.loaderService=i,this.title="goa",this.hideHeader=!1,this.user=null,this.loaderService.stop(),this.scrollToTop()}ngOnInit(){this.userService.userValue&&this.router.navigateByUrl("Dashboard/Home")}scrollToTop(){this.router.events.subscribe(t=>{t instanceof Vs&&(window.scrollTo({top:0,behavior:"smooth"}),this.user=this.userService.userValue)})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Gn),o.Y36(Uo),o.Y36(Qw))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-root"]],decls:5,vars:2,consts:[[4,"ngIf"],["aria-live","polite","aria-atomic","true"],["id","preloader",4,"ngIf"],["id","preloader"]],template:function(t,r){1&t&&(o.YNc(0,Qj,1,0,"app-header",0),o._UZ(1,"router-outlet")(2,"app-footer")(3,"app-toasts",1),o.YNc(4,Jj,1,0,"div",2)),2&t&&(o.Q6J("ngIf",!r.user),o.xp6(4),o.Q6J("ngIf",r.loaderService.loader))},dependencies:[en,po,Hj,Gj,Yj]}),n})(),eG=(()=>{class n{constructor(t,r){this.userService=t,this.toastService=r}intercept(t,r){return r.handle(t).pipe(_r(i=>(401===i.status&&(this.toastService.error("Unauthorized Access"),this.userService.logout()),(0,as._)((i?.error?.errors?.msg[0]?.msg||i?.error?.errors?.msg||"").replaceAll("_"," ")))))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Uo),o.LFG(Za))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),tG=(()=>{class n{constructor(t,r){this.userService=t,this.loaderService=r}intercept(t,r){this.loaderService.start();const i=this.userService.userValue,s=i&&i.token,u=t.url.startsWith(Xn_API_URL);return s&&u&&(t=t.clone({setHeaders:{Authorization:`Bearer ${i.token}`}})),r.handle(t).pipe(Vu(()=>this.loaderService.stop()))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Uo),o.LFG(Qw))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),sL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[An,mg]}),n})(),nG=(()=>{class n{constructor(t,r){this.router=t,this.userService=r}canActivate(t,r){return!!this.userService.userValue||(this.router.navigateByUrl("/Login"),!1)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Gn),o.LFG(Uo))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rG=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-activities"]],decls:62,vars:0,consts:[["id","services",1,"services"],[1,"container"],[1,"section-title"],[1,"row"],[1,"col-lg-4","col-md-6","d-flex","align-items-stretch"],[1,"icon-box"],[1,"icon"],[1,"bx","bxl-dribbble"],["href",""],[1,"col-lg-4","col-md-6","d-flex","align-items-stretch","mt-4","mt-md-0"],[1,"bx","bx-file"],[1,"col-lg-4","col-md-6","d-flex","align-items-stretch","mt-4","mt-lg-0"],[1,"bx","bx-tachometer"],[1,"col-lg-4","col-md-6","d-flex","align-items-stretch","mt-4"],[1,"bx","bx-world"],[1,"bx","bx-slideshow"],[1,"bx","bx-arch"]],template:function(t,r){1&t&&(o.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2"),o._uU(4,"Activities"),o.qZA(),o.TgZ(5,"p"),o._uU(6,"Magnam dolores commodi suscipit. Necessitatibus eius consequatur ex aliquid fuga eum quidem. Sit sint consectetur velit. Quisquam quos quisquam cupiditate. Et nemo qui impedit suscipit alias ea. Quia fugiat sit in iste officiis commodi quidem hic quas."),o.qZA()(),o.TgZ(7,"div",3)(8,"div",4)(9,"div",5)(10,"div",6),o._UZ(11,"i",7),o.qZA(),o.TgZ(12,"h4")(13,"a",8),o._uU(14,"Youth Activities"),o.qZA()(),o.TgZ(15,"p"),o._uU(16,"GGS has always recognised the need to focus its attention on young people in the community. Ever since its inception, GHS has put on many activities for young people. This includes the weekly youth club, Balkunj Bhajan group, annual youth festival, Bollywood dance classes, classical dance classes and more."),o.qZA()()(),o.TgZ(17,"div",9)(18,"div",5)(19,"div",6),o._UZ(20,"i",10),o.qZA(),o.TgZ(21,"h4")(22,"a",8),o._uU(23,"Elderly Luncheon Club"),o.qZA()(),o.TgZ(24,"p"),o._uU(25,"Every Monday and Friday we have a very active Luncheon Club for senior members of our community. We currently have 180 members enlisted on the Club although the actual number attending is around 60-70."),o.qZA()()(),o.TgZ(26,"div",11)(27,"div",5)(28,"div",6),o._UZ(29,"i",12),o.qZA(),o.TgZ(30,"h4")(31,"a",8),o._uU(32,"Bhajan Bhojan"),o.qZA()(),o.TgZ(33,"p"),o._uU(34,"Bhajan-BhojanThe Bhajan Bhojan programme is for the whole family but, in particular, it helps children to gain confidence and take part in singing bhajans. So, please do come and join in with your family and friends each month."),o.qZA()()(),o.TgZ(35,"div",13)(36,"div",5)(37,"div",6),o._UZ(38,"i",14),o.qZA(),o.TgZ(39,"h4")(40,"a",8),o._uU(41,"Cultural activities"),o.qZA()(),o.TgZ(42,"p"),o._uU(43,"GGS is fortunate to have many opportunities to showcase our culture at the Centre as well as externally in the community. These include annual events such as the Preston Mela and the various Health Melas, as well as numerous cultural events that occur throughout the year."),o.qZA()()(),o.TgZ(44,"div",13)(45,"div",5)(46,"div",6),o._UZ(47,"i",15),o.qZA(),o.TgZ(48,"h4")(49,"a",8),o._uU(50,"Women Empowerment"),o.qZA()(),o.TgZ(51,"p"),o._uU(52,"GHS has remained committed to ensure women and young girls play an important role in the running of the Centre. Ever since the opening, our ladies have been the backbone. They have worked side by side with management ensuring that whatever task was on hand got done."),o.qZA()()(),o.TgZ(53,"div",13)(54,"div",5)(55,"div",6),o._UZ(56,"i",16),o.qZA(),o.TgZ(57,"h4")(58,"a",8),o._uU(59,"Health & Wellbeing"),o.qZA()(),o.TgZ(60,"p"),o._uU(61,"The National Forum for Health & Well Being (formerly the Lancashire Gujarat Health Users\u2019 Forum) was founded at the GHS Centre and the Society remains a strong partner. It will continue to support NFHW in promoting health and building partnershipa between the local communities and mainstream health providers."),o.qZA()()()()()())}}),n})(),by=(()=>{class n{updateUrl(t){t.target.src="./assets/img/profile.png"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["img"]],hostVars:1,hostBindings:function(t,r){1&t&&o.NdJ("error",function(s){return r.updateUrl(s)}),2&t&&o.Ikx("src1",r.src)},inputs:{default:"default"}}),n})();function iG(n,e){1&n&&(o.TgZ(0,"div",65)(1,"div",38)(2,"a",39),o._uU(3,"Gadgets"),o.qZA(),o.TgZ(4,"a",40),o._UZ(5,"i",41),o._uU(6,"March 14, 2018"),o.qZA(),o.TgZ(7,"a",40),o._UZ(8,"i",42),o._uU(9,"05"),o.qZA()(),o.TgZ(10,"h3"),o._uU(11,"Event Details"),o.qZA(),o.TgZ(12,"p"),o._uU(13,"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore. "),o.qZA()())}function oG(n,e){1&n&&(o.TgZ(0,"div",65)(1,"div",38)(2,"a",39),o._uU(3,"Gadgets"),o.qZA(),o.TgZ(4,"a",40),o._UZ(5,"i",41),o._uU(6,"March 15, 2018"),o.qZA(),o.TgZ(7,"a",40),o._UZ(8,"i",42),o._uU(9,"05"),o.qZA()(),o.TgZ(10,"h3"),o._uU(11,"Event Details"),o.qZA(),o.TgZ(12,"p"),o._uU(13,"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore. "),o.qZA()())}function sG(n,e){1&n&&(o.TgZ(0,"div",65)(1,"div",38)(2,"a",39),o._uU(3,"Gadgets"),o.qZA(),o.TgZ(4,"a",40),o._UZ(5,"i",41),o._uU(6,"March 16, 2018"),o.qZA(),o.TgZ(7,"a",40),o._UZ(8,"i",42),o._uU(9,"05"),o.qZA()(),o.TgZ(10,"h3"),o._uU(11,"Event Details"),o.qZA(),o.TgZ(12,"p"),o._uU(13,"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore. "),o.qZA()())}let aL=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["dashboard"]],decls:162,vars:0,consts:[[1,"m-2","row","mb-4","nav-box","d-md-none"],[1,"col-6","col-lg-3","col-md-6","mb-4"],[1,"card","border-left-primary","shadow","h-100","py-2"],["routerLink","/Dashboard/Members",1,"card-body"],[1,"row","no-gutters","align-items-center"],[1,"col","mr-2"],[1,"text-xs","font-weight-bold","text-primary","text-uppercase","mb-1"],[1,"h5","mb-0","font-weight-bold","text-gray-800"],[1,"col-auto"],[1,"fas","fa-users","fa-2x","text-gray-300"],[1,"card","border-left-success","shadow","h-100","py-2"],[1,"card-body"],[1,"text-xs","font-weight-bold","text-success","text-uppercase","mb-1"],[1,"fas","fa-calendar","fa-2x","text-gray-300"],[1,"col-6","col-lg-3","col-md-6","col-xs-6","mb-4"],[1,"card","border-left-info","shadow","h-100","py-2"],["routerLink","/Dashboard/services",1,"card-body"],[1,"text-xs","font-weight-bold","text-info","text-uppercase","mb-1"],[1,"h5","mb-0","mr-3","font-weight-bold","text-gray-800"],[1,"col"],[1,"fas","fa-clipboard-list","fa-2x","text-gray-300"],[1,"card","border-left-warning","shadow","h-100","py-2"],[1,"text-xs","font-weight-bold","text-warning","text-uppercase","mb-1"],[1,"fas","fa-comments","fa-2x","text-gray-300"],[1,"home_banner_area"],[1,"banner_inner","d-flex","align-items-center","pb-1"],[1,"container"],["ngbSlide",""],[1,"news_area"],[1,"row"],[1,"col-lg-8"],[1,"main_title2"],[1,"latest_news"],[1,"media"],[1,"d-flex"],["src","https://preview.colorlib.com/theme/force/img/blog/l-news/xl-news-1.jpg.pagespeed.ic.y3A6h6gjGC.webp","alt","","data-pagespeed-url-hash","352523372",1,"img-fluid"],[1,"media-body"],[1,"choice_text"],[1,"date"],["href","#",1,"gad_btn"],["href","#"],["aria-hidden","true",1,"fa","fa-calendar"],["aria-hidden","true",1,"fa","fa-comments"],["href","news-details.html"],[1,"col-lg-4"],[1,"right_sidebar"],[1,"r_widgets","news_widgets"],[1,"block-21","mb-4","d-flex"],[1,"img","mr-4","rounded",2,"background-color","antiquewhite"],[1,"text"],[1,"heading"],[1,"meta"],[1,"icon-calendar"],[1,"icon-person"],[1,"icon-chat"],["id","cta",1,"cta"],[1,"col-lg-9","text-center","text-lg-start"],[1,"col-lg-3","cta-btn-container","text-center"],["routerLink","/Dashboard/Membership",1,"cta-btn","align-middle"],[1,"choice_area","p_120"],[1,"section-title"],[1,"row","choice_inner"],[1,"col-lg-3","col-md-6"],[1,"choice_item"],["src","https://preview.colorlib.com/theme/force/img/blog/choice/xchoice-1.jpg.pagespeed.ic.bvUm4MEGdx.webp","alt","",1,"img-fluid"],[1,"banner_content","text-center"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),o._uU(7," Active Members "),o.qZA(),o.TgZ(8,"div",7),o._uU(9,"100"),o.qZA()(),o.TgZ(10,"div",8),o._UZ(11,"i",9),o.qZA()()()()(),o.TgZ(12,"div",1)(13,"div",10)(14,"div",11)(15,"div",4)(16,"div",5)(17,"div",12),o._uU(18," Upcoming Events "),o.qZA(),o.TgZ(19,"div",7),o._uU(20,"Event"),o.qZA()(),o.TgZ(21,"div",8),o._UZ(22,"i",13),o.qZA()()()()(),o.TgZ(23,"div",14)(24,"div",15)(25,"div",16)(26,"div",4)(27,"div",5)(28,"div",17),o._uU(29," Services "),o.qZA(),o.TgZ(30,"div",4)(31,"div",8)(32,"div",18),o._uU(33," 5 "),o.qZA()(),o._UZ(34,"div",19),o.qZA()(),o.TgZ(35,"div",8),o._UZ(36,"i",20),o.qZA()()()()(),o.TgZ(37,"div",14)(38,"div",21)(39,"div",11)(40,"div",4)(41,"div",5)(42,"div",22),o._uU(43," Pending Requests "),o.qZA(),o.TgZ(44,"div",7),o._uU(45,"18"),o.qZA()(),o.TgZ(46,"div",8),o._UZ(47,"i",23),o.qZA()()()()()(),o.TgZ(48,"section",24)(49,"div",25)(50,"div",26)(51,"ngb-carousel"),o.YNc(52,iG,14,0,"ng-template",27),o.YNc(53,oG,14,0,"ng-template",27),o.YNc(54,sG,14,0,"ng-template",27),o.qZA()()()(),o.TgZ(55,"section",28)(56,"div",26)(57,"div",29)(58,"div",30)(59,"div",31)(60,"h2"),o._uU(61,"Latest News"),o.qZA()(),o.TgZ(62,"div",32)(63,"div",33)(64,"div",34),o._UZ(65,"img",35),o.qZA(),o.TgZ(66,"div",36)(67,"div",37)(68,"div",38)(69,"a",39),o._uU(70,"Gadgets"),o.qZA(),o.TgZ(71,"a",40),o._UZ(72,"i",41),o._uU(73,"March 14, 2018"),o.qZA(),o.TgZ(74,"a",40),o._UZ(75,"i",42),o._uU(76,"05"),o.qZA()(),o.TgZ(77,"a",43)(78,"h4"),o._uU(79,"DFacts Why Inkjet Printing Is Very Appealing Compared To Ordinary Printing"),o.qZA()(),o.TgZ(80,"p"),o._uU(81,"Having a baby can be a nerve wracking experience for new parents not the nine months of pregnancy, I\u2019m talking about"),o.qZA()()()()()(),o.TgZ(82,"div",44)(83,"div",45)(84,"aside",46)(85,"div",31)(86,"h2"),o._uU(87,"Job Notifications "),o.qZA()(),o.TgZ(88,"div")(89,"div",47),o._UZ(90,"a",48),o.TgZ(91,"div",49)(92,"h3",50)(93,"a",40),o._uU(94,"Even the all-powerful Pointing has no control about"),o.qZA()(),o.TgZ(95,"div",51)(96,"div")(97,"a",40),o._UZ(98,"span",52),o._uU(99," Oct. 16, 2019 "),o.qZA()(),o.TgZ(100,"div")(101,"a",40),o._UZ(102,"span",53),o._uU(103," Admin "),o.qZA()(),o.TgZ(104,"div")(105,"a",40),o._UZ(106,"span",54),o._uU(107," 19 "),o.qZA()()()()(),o.TgZ(108,"div",47),o._UZ(109,"a",48),o.TgZ(110,"div",49)(111,"h3",50)(112,"a",40),o._uU(113,"Even the all-powerful Pointing has no control about"),o.qZA()(),o.TgZ(114,"div",51)(115,"div")(116,"a",40),o._UZ(117,"span",52),o._uU(118," Oct. 16, 2019 "),o.qZA()(),o.TgZ(119,"div")(120,"a",40),o._UZ(121,"span",53),o._uU(122," Admin "),o.qZA()(),o.TgZ(123,"div")(124,"a",40),o._UZ(125,"span",54),o._uU(126," 19 "),o.qZA()()()()()()()()()()()(),o.TgZ(127,"section",55)(128,"div",26)(129,"div",29)(130,"div",56)(131,"h3"),o._uU(132,"Call To Action"),o.qZA(),o.TgZ(133,"p"),o._uU(134," Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. "),o.qZA()(),o.TgZ(135,"div",57)(136,"a",58),o._uU(137,"Become Active Member"),o.qZA()()()()(),o.TgZ(138,"section",59)(139,"div",26)(140,"div",60)(141,"h2"),o._uU(142,"Article"),o.qZA()(),o.TgZ(143,"div",61)(144,"div",62)(145,"div",63),o._UZ(146,"img",64),o.TgZ(147,"div",37)(148,"div",38)(149,"a",39),o._uU(150,"Gadgets"),o.qZA(),o.TgZ(151,"a",40),o._UZ(152,"i",41),o._uU(153,"March 14, 2018"),o.qZA(),o.TgZ(154,"a",40),o._UZ(155,"i",42),o._uU(156,"05"),o.qZA()(),o.TgZ(157,"a",43)(158,"h4"),o._uU(159,"Myspace Layouts The Missing Element already"),o.qZA()(),o.TgZ(160,"p"),o._uU(161,"Planning to visit Las Vegas or any other vacational resort where casinos"),o.qZA()()()()()()())},dependencies:[ka,Ra,dT,ly,by],styles:['@media (max-width: 991.98px){.padding[_ngcontent-%COMP%]{padding:1.5rem}}@media (max-width: 767.98px){.padding[_ngcontent-%COMP%]{padding:1rem}}.padding[_ngcontent-%COMP%]{padding:5rem}.card[_ngcontent-%COMP%]{box-shadow:none;-webkit-box-shadow:none;-moz-box-shadow:none;-ms-box-shadow:none}.pl-3[_ngcontent-%COMP%], .px-3[_ngcontent-%COMP%]{padding-left:1rem!important}.card[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:1px solid #d2d2dc;transition:all ease-in-out .3s;background:#fefefe;border-radius:18px;border-bottom:5px solid #fff}.pr-3[_ngcontent-%COMP%], .px-3[_ngcontent-%COMP%]{padding-right:1rem!important}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.25rem 1.75rem}.card-body[_ngcontent-%COMP%]{flex:1 1 auto;padding:1.25rem}.card-body[_ngcontent-%COMP%]   .text-gray-300[_ngcontent-%COMP%]{color:#009961a6}.card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:#000;margin-bottom:.625rem;text-transform:capitalize;font-size:.875rem;font-weight:500}.d-flex[_ngcontent-%COMP%]{display:flex!important}.form-control[_ngcontent-%COMP%]{border:1px solid #f3f3f3;font-weight:400;font-size:.875rem}.form-control[_ngcontent-%COMP%]{display:block;width:100%;padding:.875rem 1.375rem;font-size:1rem;line-height:1;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:2px;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.add-items[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-left:.5rem}.btn[_ngcontent-%COMP%]{font-size:.875rem;line-height:1;font-weight:400;padding:.7rem 1.5rem;border-radius:.1275rem}.add-items[_ngcontent-%COMP%]{margin-bottom:1.5rem;overflow:hidden}.add-items[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0;width:100%;background:transparent}.add-items[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .add-items[_ngcontent-%COMP%]   .fc[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .fc[_ngcontent-%COMP%]   .add-items[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .add-items[_ngcontent-%COMP%]   .ajax-upload-dragdrop[_ngcontent-%COMP%]   .ajax-file-upload[_ngcontent-%COMP%], .ajax-upload-dragdrop[_ngcontent-%COMP%]   .add-items[_ngcontent-%COMP%]   .ajax-file-upload[_ngcontent-%COMP%], .add-items[_ngcontent-%COMP%]   .swal2-modal[_ngcontent-%COMP%]   .swal2-buttonswrapper[_ngcontent-%COMP%]   .swal2-styled[_ngcontent-%COMP%], .swal2-modal[_ngcontent-%COMP%]   .swal2-buttonswrapper[_ngcontent-%COMP%]   .add-items[_ngcontent-%COMP%]   .swal2-styled[_ngcontent-%COMP%], .add-items[_ngcontent-%COMP%]   .wizard[_ngcontent-%COMP%] > .actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .wizard[_ngcontent-%COMP%] > .actions[_ngcontent-%COMP%]   .add-items[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:.5rem}.rtl[_ngcontent-%COMP%]   .add-items[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .rtl[_ngcontent-%COMP%]   .add-items[_ngcontent-%COMP%]   .fc[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .fc[_ngcontent-%COMP%]   .rtl[_ngcontent-%COMP%]   .add-items[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .rtl[_ngcontent-%COMP%]   .add-items[_ngcontent-%COMP%]   .ajax-upload-dragdrop[_ngcontent-%COMP%]   .ajax-file-upload[_ngcontent-%COMP%], .ajax-upload-dragdrop[_ngcontent-%COMP%]   .rtl[_ngcontent-%COMP%]   .add-items[_ngcontent-%COMP%]   .ajax-file-upload[_ngcontent-%COMP%], .rtl[_ngcontent-%COMP%]   .add-items[_ngcontent-%COMP%]   .swal2-modal[_ngcontent-%COMP%]   .swal2-buttonswrapper[_ngcontent-%COMP%]   .swal2-styled[_ngcontent-%COMP%], .swal2-modal[_ngcontent-%COMP%]   .swal2-buttonswrapper[_ngcontent-%COMP%]   .rtl[_ngcontent-%COMP%]   .add-items[_ngcontent-%COMP%]   .swal2-styled[_ngcontent-%COMP%], .rtl[_ngcontent-%COMP%]   .add-items[_ngcontent-%COMP%]   .wizard[_ngcontent-%COMP%] > .actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .wizard[_ngcontent-%COMP%] > .actions[_ngcontent-%COMP%]   .rtl[_ngcontent-%COMP%]   .add-items[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:auto;margin-right:.5rem}.list-wrapper[_ngcontent-%COMP%]{height:100%;max-height:100%}.list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;text-align:left;list-style:none;margin-bottom:0}.list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.9375rem;padding:.4rem 0;border-bottom:1px solid #f3f3f3}.list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{border-bottom:none}.list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{cursor:pointer}.list-wrapper[_ngcontent-%COMP%]   .remove[_ngcontent-%COMP%]{cursor:pointer;font-size:1.438rem;font-weight:600;width:1.25rem;height:1.25rem;line-height:20px;text-align:center}.list-wrapper[_ngcontent-%COMP%]   .completed[_ngcontent-%COMP%]{text-decoration:line-through;text-decoration-color:#3da5f4}.list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{max-width:90%;margin-top:.25rem;margin-bottom:.25rem}.form-check[_ngcontent-%COMP%]{position:relative;display:block;margin-top:10px;margin-bottom:10px;padding-left:0}.form-check[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{min-height:18px;display:block;margin-left:1.75rem;font-size:.875rem;line-height:1.5}.form-check-label[_ngcontent-%COMP%]{margin-bottom:0}.list-wrapper[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-right:15px}.form-check[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;top:0;left:0;margin-left:0;margin-top:0;z-index:1;cursor:pointer;opacity:0;filter:alpha(opacity=0)}input[type=radio][_ngcontent-%COMP%], input[type=checkbox][_ngcontent-%COMP%]{box-sizing:border-box;padding:0}.list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%], .list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%], .email-wrapper[_ngcontent-%COMP%]   .mail-sidebar[_ngcontent-%COMP%]   .menu-bar[_ngcontent-%COMP%]   .profile-list-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .u-name[_ngcontent-%COMP%], .email-wrapper[_ngcontent-%COMP%]   .mail-sidebar[_ngcontent-%COMP%]   .menu-bar[_ngcontent-%COMP%]   .profile-list-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .u-designation[_ngcontent-%COMP%], .email-wrapper[_ngcontent-%COMP%]   .mail-list-container[_ngcontent-%COMP%]   .mail-list[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .sender-name[_ngcontent-%COMP%], .email-wrapper[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]   .attachments-sections[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   p.file-name[_ngcontent-%COMP%], .settings-panel[_ngcontent-%COMP%]   .chat-list[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;max-width:100%;white-space:nowrap}.form-check[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + .input-helper[_ngcontent-%COMP%]:after{transition:all;transition-duration:0s;transition-duration:.25s;font-family:Material Design Icons;opacity:0;filter:alpha(opacity=0);transform:scale(0);content:"\\f12c";font-size:.9375rem;font-weight:700;color:#fff}.form-check[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + .input-helper[_ngcontent-%COMP%]:before, .form-check[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + .input-helper[_ngcontent-%COMP%]:after{position:absolute;top:0;left:0}.form-check[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + .input-helper[_ngcontent-%COMP%]:before{background:#405189;border-width:0}.form-check[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + .input-helper[_ngcontent-%COMP%]:before{content:"";width:18px;height:18px;border-radius:2px;border:solid #405189;border-width:2px;transition:all;transition-duration:0s;transition-duration:.25s}.form-check[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + .input-helper[_ngcontent-%COMP%]:after{font-family:FontAwesome;content:"\\f095";display:inline-block;padding-right:3px;vertical-align:middle;color:#fff}.text-primary[_ngcontent-%COMP%], .list-wrapper[_ngcontent-%COMP%]   .completed[_ngcontent-%COMP%]   .remove[_ngcontent-%COMP%]{color:#405189!important}.list-wrapper[_ngcontent-%COMP%]   .remove[_ngcontent-%COMP%]{cursor:pointer;font-size:1.438rem;font-weight:600;width:1.25rem;height:1.25rem;line-height:20px;text-align:center}.ml-auto[_ngcontent-%COMP%], .list-wrapper[_ngcontent-%COMP%]   .remove[_ngcontent-%COMP%], .mx-auto[_ngcontent-%COMP%]{margin-left:auto!important}.mdi-close-circle-outline[_ngcontent-%COMP%]:before{content:"\\f15a"}.list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.9375rem;padding:.4rem 0;border-bottom:1px solid #f3f3f3}.mdi[_ngcontent-%COMP%]:before{font-family:FontAwesome;content:"\\f00d";display:inline-block;padding-right:3px;vertical-align:middle;font-size:.756em;color:#405189}.list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;text-align:left;list-style:none;margin-bottom:0}.flex-column-reverse[_ngcontent-%COMP%]{flex-direction:column-reverse!important}.d-flex[_ngcontent-%COMP%], .loader-demo-box[_ngcontent-%COMP%], .distribution-chart-legend[_ngcontent-%COMP%]   .distribution-chart[_ngcontent-%COMP%], .distribution-chart-legend[_ngcontent-%COMP%]   .distribution-chart[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%], .list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .email-wrapper[_ngcontent-%COMP%]   .mail-sidebar[_ngcontent-%COMP%]   .menu-bar[_ngcontent-%COMP%]   .profile-list-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .email-wrapper[_ngcontent-%COMP%]   .mail-sidebar[_ngcontent-%COMP%]   .menu-bar[_ngcontent-%COMP%]   .profile-list-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%], .email-wrapper[_ngcontent-%COMP%]   .mail-list-container[_ngcontent-%COMP%]   .mail-list[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%], .email-wrapper[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]   .attachments-sections[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .thumb[_ngcontent-%COMP%], .email-wrapper[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]   .attachments-sections[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%], .lightGallery[_ngcontent-%COMP%]   .image-tile[_ngcontent-%COMP%]   .demo-gallery-poster[_ngcontent-%COMP%], .swal2-modal[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   .navbar-menu-wrapper[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   .navbar-menu-wrapper[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item.nav-profile[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   .navbar-menu-wrapper[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item.dropdown[_ngcontent-%COMP%]   .navbar-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{display:flex!important}.text-xs[_ngcontent-%COMP%]{font-size:1.2rem}.mb-20[_ngcontent-%COMP%]{margin-bottom:20px}.mb-30[_ngcontent-%COMP%]{margin-bottom:30px}.sample-text-area[_ngcontent-%COMP%]{padding:100px 0}.sample-text-area[_ngcontent-%COMP%]   .title_color[_ngcontent-%COMP%]{margin-bottom:30px}.sample-text-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:26px}.sample-text-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-weight:700;color:"#fff"}.sample-text-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .sample-text-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   sup[_ngcontent-%COMP%], .sample-text-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   sub[_ngcontent-%COMP%]{color:"#fff";font-style:italic}.sample-text-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   del[_ngcontent-%COMP%], .sample-text-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   u[_ngcontent-%COMP%]{color:"#fff"}.elements_button[_ngcontent-%COMP%]   .title_color[_ngcontent-%COMP%]{margin-bottom:30px;color:"#fff"}.title_color[_ngcontent-%COMP%]{color:"#fff"}.button-group-area[_ngcontent-%COMP%]{margin-top:15px}.button-group-area[_ngcontent-%COMP%]:nth-child(odd){margin-top:40px}.button-group-area[_ngcontent-%COMP%]:first-child{margin-top:0}.button-group-area[_ngcontent-%COMP%]   .theme_btn[_ngcontent-%COMP%], .button-group-area[_ngcontent-%COMP%]   .white_btn[_ngcontent-%COMP%]{margin-right:10px}.button-group-area[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{text-decoration:underline;color:"#fff";background:transparent}.button-group-area[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{color:#fff}.button-group-area[_ngcontent-%COMP%]   .disable[_ngcontent-%COMP%]{background:transparent;color:#007bff;cursor:not-allowed}.button-group-area[_ngcontent-%COMP%]   .disable[_ngcontent-%COMP%]:before{display:none}.primary[_ngcontent-%COMP%]{background:#52c5fd}.primary[_ngcontent-%COMP%]:before{background:#2faae6}.success[_ngcontent-%COMP%]{background:#4cd3e3}.success[_ngcontent-%COMP%]:before{background:#2ebccd}.info[_ngcontent-%COMP%]{background:#38a4ff}.info[_ngcontent-%COMP%]:before{background:#298cdf}.warning[_ngcontent-%COMP%]{background:#f4e700}.warning[_ngcontent-%COMP%]:before{background:#e1d608}.danger[_ngcontent-%COMP%]{background:#f54940}.danger[_ngcontent-%COMP%]:before{background:#e13b33}.primary-border[_ngcontent-%COMP%]{background:transparent;border:1px solid #52c5fd;color:#52c5fd}.primary-border[_ngcontent-%COMP%]:before{background:#52c5fd}.success-border[_ngcontent-%COMP%]{background:transparent;border:1px solid #4cd3e3;color:#4cd3e3}.success-border[_ngcontent-%COMP%]:before{background:#4cd3e3}.info-border[_ngcontent-%COMP%]{background:transparent;border:1px solid #38a4ff;color:#38a4ff}.info-border[_ngcontent-%COMP%]:before{background:#38a4ff}.warning-border[_ngcontent-%COMP%]{background:#fff;border:1px solid #f4e700;color:#f4e700}.warning-border[_ngcontent-%COMP%]:before{background:#f4e700}.danger-border[_ngcontent-%COMP%]{background:transparent;border:1px solid #f54940;color:#f54940}.danger-border[_ngcontent-%COMP%]:before{background:#f54940}.link-border[_ngcontent-%COMP%]{background:transparent;border:1px solid "#fff";color:"#fff"}.link-border[_ngcontent-%COMP%]:before{background:"#fff"}.radius[_ngcontent-%COMP%]{border-radius:3px}.circle[_ngcontent-%COMP%]{border-radius:20px}.arrow[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:5px}.e-large[_ngcontent-%COMP%]{line-height:50px;padding-top:0;padding-bottom:0}.large[_ngcontent-%COMP%]{line-height:45px;padding-top:0;padding-bottom:0}.medium[_ngcontent-%COMP%]{line-height:30px;padding-top:0;padding-bottom:0}.small[_ngcontent-%COMP%]{line-height:25px;padding-top:0;padding-bottom:0}.general[_ngcontent-%COMP%]{line-height:38px;padding-top:0;padding-bottom:0}.generic-banner[_ngcontent-%COMP%]{margin-top:60px;text-align:center}.generic-banner[_ngcontent-%COMP%]   .height[_ngcontent-%COMP%]{height:600px}@media (max-width: 767.98px){.generic-banner[_ngcontent-%COMP%]   .height[_ngcontent-%COMP%]{height:400px}}.generic-banner[_ngcontent-%COMP%]   .generic-banner-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:1.2em;margin-bottom:20px}@media (max-width: 991.98px){.generic-banner[_ngcontent-%COMP%]   .generic-banner-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   br[_ngcontent-%COMP%]{display:none}}.generic-banner[_ngcontent-%COMP%]   .generic-banner-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;font-size:16px}@media (max-width: 991.98px){.generic-banner[_ngcontent-%COMP%]   .generic-banner-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   br[_ngcontent-%COMP%]{display:none}}.generic-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:600}.about-generic-area[_ngcontent-%COMP%]{background:#fff}.about-generic-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:20px}.white-bg[_ngcontent-%COMP%]{background:#fff}.section-top-border[_ngcontent-%COMP%]{padding:50px 0;border-top:1px dotted #eee}.switch-wrap[_ngcontent-%COMP%]{margin-bottom:10px}.switch-wrap[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.sample-text-area[_ngcontent-%COMP%]{padding:100px 0 70px}.sample-text[_ngcontent-%COMP%]{margin-bottom:0}.text-heading[_ngcontent-%COMP%]{margin-bottom:30px;font-size:24px}.typo-list[_ngcontent-%COMP%]{margin-bottom:10px}@media (max-width: 767px){.typo-sec[_ngcontent-%COMP%]{margin-bottom:30px}}@media (max-width: 767px){.element-wrap[_ngcontent-%COMP%]{margin-top:30px}}b[_ngcontent-%COMP%], sup[_ngcontent-%COMP%], sub[_ngcontent-%COMP%], u[_ngcontent-%COMP%], del[_ngcontent-%COMP%]{color:#f8b600}h1[_ngcontent-%COMP%]{font-size:36px}h2[_ngcontent-%COMP%]{font-size:30px}h3[_ngcontent-%COMP%]{font-size:24px}h4[_ngcontent-%COMP%]{font-size:18px}h5[_ngcontent-%COMP%]{font-size:16px}h6[_ngcontent-%COMP%]{font-size:14px}.typography[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .typography[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .typography[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .typography[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .typography[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .typography[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#777}.button-area[_ngcontent-%COMP%]   .border-top-generic[_ngcontent-%COMP%]{padding:70px 15px;border-top:1px dotted #eee}.button-group-area[_ngcontent-%COMP%]   .genric-btn[_ngcontent-%COMP%]{margin-right:10px;margin-top:10px}.button-group-area[_ngcontent-%COMP%]   .genric-btn[_ngcontent-%COMP%]:last-child{margin-right:0}.circle[_ngcontent-%COMP%]{border-radius:20px}.genric-btn[_ngcontent-%COMP%]{display:inline-block;outline:none;line-height:40px;padding:0 30px;font-size:.8em;text-align:center;text-decoration:none;font-weight:500;cursor:pointer;transition:all .3s ease 0s}.genric-btn[_ngcontent-%COMP%]:focus{outline:none}.genric-btn.e-large[_ngcontent-%COMP%]{padding:0 40px;line-height:50px}.genric-btn.large[_ngcontent-%COMP%]{line-height:45px}.genric-btn.medium[_ngcontent-%COMP%]{line-height:30px}.genric-btn.small[_ngcontent-%COMP%]{line-height:25px}.genric-btn.radius[_ngcontent-%COMP%]{border-radius:3px}.genric-btn.circle[_ngcontent-%COMP%]{border-radius:20px}.genric-btn.arrow[_ngcontent-%COMP%]{display:inline-flex;align-items:center}.genric-btn.arrow[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:10px}.genric-btn.default[_ngcontent-%COMP%]{color:#222;background:#f9f9ff;border:1px solid transparent}.genric-btn.default[_ngcontent-%COMP%]:hover, .genric-btn.default-border[_ngcontent-%COMP%]{border:1px solid #f9f9ff;background:#fff}.genric-btn.default-border[_ngcontent-%COMP%]:hover{color:#222;background:#f9f9ff;border:1px solid transparent}.genric-btn.primary[_ngcontent-%COMP%]{color:#fff;background:#f8b600;border:1px solid transparent}.genric-btn.primary[_ngcontent-%COMP%]:hover, .genric-btn.primary-border[_ngcontent-%COMP%]{color:#f8b600;border:1px solid #f8b600;background:#fff}.genric-btn.primary-border[_ngcontent-%COMP%]:hover{color:#fff;background:#f8b600;border:1px solid transparent}.genric-btn.success[_ngcontent-%COMP%]{color:#fff;background:#4cd3e3;border:1px solid transparent}.genric-btn.success[_ngcontent-%COMP%]:hover, .genric-btn.success-border[_ngcontent-%COMP%]{color:#4cd3e3;border:1px solid #4cd3e3;background:#fff}.genric-btn.success-border[_ngcontent-%COMP%]:hover{color:#fff;background:#4cd3e3;border:1px solid transparent}.genric-btn.info[_ngcontent-%COMP%]{color:#fff;background:#38a4ff;border:1px solid transparent}.genric-btn.info[_ngcontent-%COMP%]:hover, .genric-btn.info-border[_ngcontent-%COMP%]{color:#38a4ff;border:1px solid #38a4ff;background:#fff}.genric-btn.info-border[_ngcontent-%COMP%]:hover{color:#fff;background:#38a4ff;border:1px solid transparent}.genric-btn.warning[_ngcontent-%COMP%]{color:#fff;background:#f4e700;border:1px solid transparent}.genric-btn.warning[_ngcontent-%COMP%]:hover, .genric-btn.warning-border[_ngcontent-%COMP%]{color:#f4e700;border:1px solid #f4e700;background:#fff}.genric-btn.warning-border[_ngcontent-%COMP%]:hover{color:#fff;background:#f4e700;border:1px solid transparent}.genric-btn.danger[_ngcontent-%COMP%]{color:#fff;background:#f44a40;border:1px solid transparent}.genric-btn.danger[_ngcontent-%COMP%]:hover, .genric-btn.danger-border[_ngcontent-%COMP%]{color:#f44a40;border:1px solid #f44a40;background:#fff}.genric-btn.danger-border[_ngcontent-%COMP%]:hover{color:#fff;background:#f44a40;border:1px solid transparent}.genric-btn.link[_ngcontent-%COMP%]{color:#222;background:#f9f9ff;text-decoration:underline;border:1px solid transparent}.genric-btn.link[_ngcontent-%COMP%]:hover{color:#222;border:1px solid #f9f9ff;background:#fff}.genric-btn.link-border[_ngcontent-%COMP%]{color:#222;border:1px solid #f9f9ff;background:#fff;text-decoration:underline}.genric-btn.link-border[_ngcontent-%COMP%]:hover{color:#222;background:#f9f9ff;border:1px solid transparent}.genric-btn.disable[_ngcontent-%COMP%]{color:#222222,.3;background:#f9f9ff;border:1px solid transparent;cursor:not-allowed}.generic-blockquote[_ngcontent-%COMP%]{padding:30px 50px 30px 30px;background:#fff;border-left:2px solid #f8b600}@media (max-width: 991px){.progress-table-wrap[_ngcontent-%COMP%]{overflow-x:scroll}}.progress-table[_ngcontent-%COMP%]{background:#fff;padding:15px 0 30px;min-width:800px}.progress-table[_ngcontent-%COMP%]   .serial[_ngcontent-%COMP%]{width:11.83%;padding-left:30px}.progress-table[_ngcontent-%COMP%]   .country[_ngcontent-%COMP%]{width:28.07%}.progress-table[_ngcontent-%COMP%]   .visit[_ngcontent-%COMP%]{width:19.74%}.progress-table[_ngcontent-%COMP%]   .percentage[_ngcontent-%COMP%]{width:40.36%;padding-right:50px}.progress-table[_ngcontent-%COMP%]   .table-head[_ngcontent-%COMP%]{display:flex}.progress-table[_ngcontent-%COMP%]   .table-head[_ngcontent-%COMP%]   .serial[_ngcontent-%COMP%], .progress-table[_ngcontent-%COMP%]   .table-head[_ngcontent-%COMP%]   .country[_ngcontent-%COMP%], .progress-table[_ngcontent-%COMP%]   .table-head[_ngcontent-%COMP%]   .visit[_ngcontent-%COMP%], .progress-table[_ngcontent-%COMP%]   .table-head[_ngcontent-%COMP%]   .percentage[_ngcontent-%COMP%]{color:#222;line-height:40px;text-transform:uppercase;font-weight:500}.progress-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{padding:15px 0;border-top:1px solid #edf3fd;display:flex}.progress-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .serial[_ngcontent-%COMP%], .progress-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .country[_ngcontent-%COMP%], .progress-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .visit[_ngcontent-%COMP%], .progress-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .percentage[_ngcontent-%COMP%]{display:flex;align-items:center}.progress-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .country[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:15px}.progress-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .percentage[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{width:80%;border-radius:0;background:transparent}.progress-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .percentage[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:5px;line-height:5px}.progress-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .percentage[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar.color-1[_ngcontent-%COMP%]{background-color:#6382e6}.progress-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .percentage[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar.color-2[_ngcontent-%COMP%]{background-color:#e66686}.progress-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .percentage[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar.color-3[_ngcontent-%COMP%]{background-color:#f09359}.progress-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .percentage[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar.color-4[_ngcontent-%COMP%], .progress-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .percentage[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar.color-5[_ngcontent-%COMP%]{background-color:#73fbaf}.progress-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .percentage[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar.color-6[_ngcontent-%COMP%]{background-color:#6382e6}.progress-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .percentage[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar.color-7[_ngcontent-%COMP%]{background-color:#a367e7}.progress-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .percentage[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar.color-8[_ngcontent-%COMP%]{background-color:#e66686}.single-gallery-image[_ngcontent-%COMP%]{margin-top:30px;background-repeat:no-repeat!important;background-position:center center!important;background-size:cover!important;height:200px;transition:all .3s ease 0s}.single-gallery-image[_ngcontent-%COMP%]:hover{opacity:.8}.list-style[_ngcontent-%COMP%]{width:14px;height:14px}.unordered-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;padding-left:30px;line-height:1.82em!important}.unordered-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"";position:absolute;width:14px;height:14px;border:3px solid #f8b600;background:#fff;top:4px;left:0;border-radius:50%}.ordered-list[_ngcontent-%COMP%]{margin-left:30px}.ordered-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:decimal-leading-zero;color:#f8b600;font-weight:500;line-height:1.82em!important}.ordered-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:300;color:#777}.ordered-list-alpha[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:30px;list-style-type:lower-alpha;color:#f8b600;font-weight:500;line-height:1.82em!important}.ordered-list-alpha[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:300;color:#777}.ordered-list-roman[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:30px;list-style-type:lower-roman;color:#f8b600;font-weight:500;line-height:1.82em!important}.ordered-list-roman[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:300;color:#777}.single-input[_ngcontent-%COMP%]{display:block;width:100%;line-height:40px;border:none;outline:none;background:#f9f9ff;padding:0 20px}.single-input[_ngcontent-%COMP%]:focus{outline:none}.input-group-icon[_ngcontent-%COMP%]{position:relative}.input-group-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;left:20px;top:0;line-height:40px;z-index:3}.input-group-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#797979}.input-group-icon[_ngcontent-%COMP%]   .single-input[_ngcontent-%COMP%]{padding-left:45px}.single-textarea[_ngcontent-%COMP%]{display:block;width:100%;line-height:40px;border:none;outline:none;background:#f9f9ff;padding:0 20px;height:100px;resize:none}.single-textarea[_ngcontent-%COMP%]:focus{outline:none}.single-input-primary[_ngcontent-%COMP%]{display:block;width:100%;line-height:40px;border:1px solid transparent;outline:none;background:#f9f9ff;padding:0 20px}.single-input-primary[_ngcontent-%COMP%]:focus{outline:none;border:1px solid #f8b600}.single-input-accent[_ngcontent-%COMP%]{display:block;width:100%;line-height:40px;border:1px solid transparent;outline:none;background:#f9f9ff;padding:0 20px}.single-input-accent[_ngcontent-%COMP%]:focus{outline:none;border:1px solid #eb6b55}.single-input-secondary[_ngcontent-%COMP%]{display:block;width:100%;line-height:40px;border:1px solid transparent;outline:none;background:#f9f9ff;padding:0 20px}.single-input-secondary[_ngcontent-%COMP%]:focus{outline:none;border:1px solid #f09359}.default-switch[_ngcontent-%COMP%]{width:35px;height:17px;border-radius:8.5px;background:#fff;position:relative;cursor:pointer}.default-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;opacity:0;cursor:pointer}.default-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{position:absolute;top:1px;left:1px;width:15px;height:15px;border-radius:50%;background:#f8b600;transition:all .2s;box-shadow:0 4px 5px #0003;cursor:pointer}.default-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{left:19px}.single-element-widget[_ngcontent-%COMP%]{margin-bottom:30px}.primary-switch[_ngcontent-%COMP%]{width:35px;height:17px;border-radius:8.5px;background:#fff;position:relative;cursor:pointer}.primary-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;opacity:0}.primary-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%}.primary-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;width:100%;height:100%;background:transparent;border-radius:8.5px;cursor:pointer;transition:all .2s}.primary-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:after{content:"";position:absolute;top:1px;left:1px;width:15px;height:15px;border-radius:50%;background:#fff;transition:all .2s;box-shadow:0 4px 5px #0003;cursor:pointer}.primary-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:after{left:19px}.primary-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{background:#f8b600}.confirm-switch[_ngcontent-%COMP%]{width:35px;height:17px;border-radius:8.5px;background:#fff;position:relative;cursor:pointer}.confirm-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;opacity:0}.confirm-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%}.confirm-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;width:100%;height:100%;background:transparent;border-radius:8.5px;transition:all .2s;cursor:pointer}.confirm-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:after{content:"";position:absolute;top:1px;left:1px;width:15px;height:15px;border-radius:50%;background:#fff;transition:all .2s;box-shadow:0 4px 5px #0003;cursor:pointer}.confirm-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:after{left:19px}.confirm-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{background:#4cd3e3}.primary-checkbox[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:3px;background:#fff;position:relative;cursor:pointer}.primary-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;opacity:0}.primary-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;border-radius:3px;cursor:pointer;border:1px solid #f1f1f1}.single-defination[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:"#fff"}.primary-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{border:none}.confirm-checkbox[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:3px;background:#fff;position:relative;cursor:pointer}.confirm-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;opacity:0}.confirm-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;border-radius:3px;cursor:pointer;border:1px solid #f1f1f1}.confirm-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{border:none}.disabled-checkbox[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:3px;background:#fff;position:relative;cursor:pointer}.disabled-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;opacity:0}.disabled-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;border-radius:3px;cursor:pointer;border:1px solid #f1f1f1}.disabled-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{cursor:not-allowed;z-index:3}.disabled-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{border:none}.primary-radio[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:8px;background:#fff;position:relative;cursor:pointer}.primary-radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;opacity:0}.primary-radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;border-radius:8px;cursor:pointer;border:1px solid #f1f1f1}.primary-radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{border:none}.confirm-radio[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:8px;background:#fff;position:relative;cursor:pointer}.confirm-radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;opacity:0}.confirm-radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;border-radius:8px;cursor:pointer;border:1px solid #f1f1f1}.confirm-radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{border:none}.disabled-radio[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:8px;background:#fff;position:relative;cursor:pointer}.disabled-radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;opacity:0}.disabled-radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;border-radius:8px;cursor:pointer;border:1px solid #f1f1f1}.disabled-radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{cursor:not-allowed;z-index:3}.unordered-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.ordered-list[_ngcontent-%COMP%]{list-style:none;padding:0}.disabled-radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{border:none}.default-select[_ngcontent-%COMP%]{height:40px}.default-select[_ngcontent-%COMP%]   .nice-select[_ngcontent-%COMP%]{border:none;border-radius:0;height:40px;background:#fff;padding-left:20px;padding-right:40px}.default-select[_ngcontent-%COMP%]   .nice-select[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{margin-top:0;border:none;border-radius:0;box-shadow:none;width:100%;padding:10px 0}.default-select[_ngcontent-%COMP%]   .nice-select[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{font-weight:300;transition:all .3s ease 0s;line-height:28px;min-height:28px;font-size:12px;padding-left:20px}.default-select[_ngcontent-%COMP%]   .nice-select[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .option.selected[_ngcontent-%COMP%], .default-select[_ngcontent-%COMP%]   .nice-select[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]:hover{color:#f8b600;background:transparent}.default-select[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{margin-right:50px;font-weight:300}.default-select[_ngcontent-%COMP%]   .nice-select[_ngcontent-%COMP%]:after{right:20px}@media (max-width: 991px){.left-align-p[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px}}.form-select[_ngcontent-%COMP%]{height:40px;width:100%}.form-select[_ngcontent-%COMP%]   .nice-select[_ngcontent-%COMP%]{border:none;border-radius:0;height:40px;background:#f9f9ff!important;padding-left:45px;padding-right:40px;width:100%}.form-select[_ngcontent-%COMP%]   .nice-select[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{margin-top:0;border:none;border-radius:0;box-shadow:none;width:100%;padding:10px 0}.mt-10[_ngcontent-%COMP%]{margin-top:10px}.form-select[_ngcontent-%COMP%]   .nice-select[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{font-weight:300;transition:all .3s ease 0s;line-height:28px;min-height:28px;font-size:12px;padding-left:45px}.form-select[_ngcontent-%COMP%]   .nice-select[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .option.selected[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]   .nice-select[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]:hover{color:#f8b600;background:transparent}.form-select[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{margin-right:50px;font-weight:300}.form-select[_ngcontent-%COMP%]   .nice-select[_ngcontent-%COMP%]:after{right:20px}.media-body[_ngcontent-%COMP%]{flex:1}.home_banner_area[_ngcontent-%COMP%]   .banner_inner[_ngcontent-%COMP%]{position:relative;background:linear-gradient(rgba(19,30,20,.41),rgba(7,50,6,0)),url(dashboard-bg.15f0285af2a68819.jpg) no-repeat scroll center center;min-height:80vh}.home_banner_area[_ngcontent-%COMP%]   .banner_inner[_ngcontent-%COMP%]   .banner_content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;font-size:36px;font-weight:700;font-family:Roboto,sans-serif;margin-bottom:25px}.home_banner_area[_ngcontent-%COMP%]   .banner_inner[_ngcontent-%COMP%]   .banner_content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-family:Roboto,sans-serif;margin-bottom:0;color:#fff}.home_banner_area[_ngcontent-%COMP%]   .banner_inner[_ngcontent-%COMP%]   .banner_content[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{margin-bottom:25px}.home_banner_area[_ngcontent-%COMP%]   .banner_inner[_ngcontent-%COMP%]   .banner_content[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:25px;color:#fff;font-size:12px;font-family:Open Sans,sans-serif}.home_banner_area[_ngcontent-%COMP%]   .banner_inner[_ngcontent-%COMP%]   .banner_content[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding-right:10px}.home_banner_area[_ngcontent-%COMP%]{padding:0!important}.nav-box[_ngcontent-%COMP%]{position:absolute;top:5rem;z-index:99;width:97%}.choice_item[_ngcontent-%COMP%]{margin-bottom:30px}.img-fluid[_ngcontent-%COMP%]{max-width:100%;height:auto;vertical-align:middle;border-style:none}.choice_item[_ngcontent-%COMP%]   .choice_text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;line-height:27px;color:#222;font-family:Roboto,sans-serif;font-weight:500;margin-bottom:15px;transition:all .3s linear 0s}.choice_item[_ngcontent-%COMP%]   .choice_text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;line-height:24px;font-size:14px;font-family:Open Sans,sans-serif;font-weight:400;color:#777}.date[_ngcontent-%COMP%]{margin-bottom:15px}.date[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#777;font-size:12px;font-family:Open Sans,sans-serif;margin-right:21px}.date[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding-right:8px}.date[_ngcontent-%COMP%]   .gad_btn[_ngcontent-%COMP%]{color:#fff}.gad_btn[_ngcontent-%COMP%]{background:#009961;color:#fff;display:inline-block;padding:0 20px;line-height:30px;border-radius:15px;font-size:12px;font-weight:500;font-family:Roboto,sans-serif}.choice_item[_ngcontent-%COMP%]   .choice_text[_ngcontent-%COMP%]{margin-top:20px}@media (max-width: 767px){.choice_item[_ngcontent-%COMP%]{margin:0 auto 30px}.home_banner_area[_ngcontent-%COMP%]   .banner_inner[_ngcontent-%COMP%]{position:relative;background:#fff;min-height:0}.nav-box[_ngcontent-%COMP%]{position:relative;top:1rem}}@media (max-width: 991px){.choice_item[_ngcontent-%COMP%]{max-width:270px}}.latest_news[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]{margin-bottom:30px}.latest_news[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{padding-right:30px}.media[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.media[_ngcontent-%COMP%]   .media-body[_ngcontent-%COMP%]{flex:1}.cta[_ngcontent-%COMP%]{background:linear-gradient(rgba(47,100,51,.6),rgba(0,0,0,.6)),url(https://preview.colorlib.com/theme/force/img/banner/home-banner.jpg.webp) fixed center center}']}),n})(),cL=(()=>{class n{constructor(t){this.pipe=t,this._loading$=new Nt(!0),this._search$=new Nn.xQ,this._users$=new Nt([]),this._total$=new Nt(0),this._data=[],this._state={page:1,pageSize:4,searchTerm:"",sortColumn:"",sortDirection:""},this._search$.pipe((0,Ft.b)(()=>this._loading$.next(!0)),fn(()=>this._search()),(0,Ft.b)(()=>this._loading$.next(!1))).subscribe(r=>{this._users$.next(r.countries),this._total$.next(r.total)})}get userList$(){return this._users$.asObservable()}get total$(){return this._total$.asObservable()}get loading$(){return this._loading$.asObservable()}get page(){return this._state.page}get pageSize(){return this._state.pageSize}get searchTerm(){return this._state.searchTerm}set page(t){this._set({page:t})}set pageSize(t){this._set({pageSize:t})}set searchTerm(t){this._set({searchTerm:t})}set sortColumn(t){this._set({sortColumn:t})}set sortDirection(t){this._set({sortDirection:t})}_set(t){Object.assign(this._state,t),this._search$.next()}setUserData(t){this._data=t,this._search$.next()}_search(){const{sortColumn:t,sortDirection:r,pageSize:i,page:s,searchTerm:u}=this._state;let h=function cG(n,e,t){return""===t||""===e?n:[...n].sort((r,i)=>{const s=((n,e)=>n<e?-1:n>e?1:0)(r[e],i[e]);return"asc"===t?s:-s})}(this._data,t,r);h=h.filter(v=>function lG(n,e,t){return n.firstName||n.lastName||n.homePlace?n.firstName.toLowerCase().includes(e.toLowerCase())||n.lastName.toLowerCase().includes(e)||n.homePlace.toLowerCase().includes(e):n.fullName?n.fullName.toLowerCase().includes(e.toLowerCase()):void 0}(v,u));const g=h.length;return h=h.slice((s-1)*i,(s-1)*i+i),(0,Qe.of)({countries:h,total:g})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(hl))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lL=(()=>{class n{constructor(t,r){this.router=t,this.http=r,this.userSubject=new Nt(null)}get userValue(){return this.userSubject.value}createMatrimonyProfile(t){return this.http.post(`${Xn_API_URL}/matrimony`,t)}updateMatrimonyProfile(t,r){return this.http.patch(`${Xn_API_URL}/matrimony/${t}`,r)}getProfiles(t){return this.http.get(`${Xn_API_URL}/matrimony/${t}`)}getAllProfiles(){return this.http.get(`${Xn_API_URL}/matrimony/users`)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Gn),o.LFG(_d))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),LT=(()=>{class n{constructor(t,r){this.http=t,this._sanitizer=r}upload(t){const r=new FormData;return r.append("photo",t),this.http.post(`${Xn_API_URL}/upload`,r)}getUploadFileById(t){if(t)return this.http.get(`${Xn_API_URL}/upload/${t}`,{responseType:"blob"}).pipe((0,Je.U)(r=>this._sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(r))));{let r=new Nn.xQ;return r.next(""),r}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(_d),o.LFG(Ps))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uG(n,e){1&n&&(o.TgZ(0,"div"),o._uU(1,"Gender is required"),o.qZA())}function dG(n,e){if(1&n&&(o.TgZ(0,"div",48),o.YNc(1,uG,2,0,"div",49),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",t.f.gender.errors.required)}}function hG(n,e){1&n&&(o.TgZ(0,"div"),o._uU(1," Full Name is required "),o.qZA())}function fG(n,e){if(1&n&&(o.TgZ(0,"div",48),o.YNc(1,hG,2,0,"div",49),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",t.f.fullName.errors.required)}}function pG(n,e){1&n&&(o.TgZ(0,"div"),o._uU(1,"Address is required"),o.qZA())}function gG(n,e){if(1&n&&(o.TgZ(0,"div",48),o.YNc(1,pG,2,0,"div",49),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",t.f.address.errors.required)}}function mG(n,e){1&n&&(o.TgZ(0,"div"),o._uU(1," Mobile Number is required "),o.qZA())}function _G(n,e){if(1&n&&(o.TgZ(0,"div",48),o.YNc(1,mG,2,0,"div",49),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",t.f.mobile.errors.required)}}function yG(n,e){1&n&&(o.TgZ(0,"div"),o._uU(1," Alternative Number is required "),o.qZA())}function vG(n,e){if(1&n&&(o.TgZ(0,"div",48),o.YNc(1,yG,2,0,"div",49),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",t.f.phone.errors.required)}}function bG(n,e){1&n&&(o.TgZ(0,"div"),o._uU(1," Additional Information of Job is required "),o.qZA())}function CG(n,e){if(1&n&&(o.TgZ(0,"div",48),o.YNc(1,bG,2,0,"div",49),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",t.f.jobDetails.errors.required)}}function wG(n,e){1&n&&(o.TgZ(0,"div"),o._uU(1," Highest Eduction is required "),o.qZA())}function DG(n,e){if(1&n&&(o.TgZ(0,"div",48),o.YNc(1,wG,2,0,"div",49),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",t.f.eductionDetails.errors.required)}}function TG(n,e){1&n&&o._UZ(0,"span",50)}function EG(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",2)(1,"div",3)(2,"article",4)(3,"h4",5),o._uU(4,"Additional Information"),o.qZA(),o.TgZ(5,"p",6),o._uU(6," We need additional information to enable this account for matrimony services "),o.qZA(),o.TgZ(7,"form",7),o.NdJ("ngSubmit",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.onSubmit())}),o.TgZ(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"span",12),o._UZ(13,"i",13),o.qZA()(),o.TgZ(14,"div",14)(15,"div")(16,"div",15),o._UZ(17,"input",16),o.TgZ(18,"label",17),o._uU(19," Male "),o.qZA()()(),o.TgZ(20,"div")(21,"div",15),o._UZ(22,"input",18),o.TgZ(23,"label",17),o._uU(24," Female "),o.qZA()()()(),o.YNc(25,dG,2,1,"div",19),o.qZA()()(),o.TgZ(26,"div",8)(27,"div",20)(28,"div",10)(29,"div",11)(30,"span",12),o._UZ(31,"i",13),o.qZA()(),o._UZ(32,"input",21),o.YNc(33,fG,2,1,"div",19),o.qZA()()(),o.TgZ(34,"div",8)(35,"div",22)(36,"div",10)(37,"div",11)(38,"span",12),o._UZ(39,"i",13),o.qZA()(),o._UZ(40,"input",23),o.YNc(41,gG,2,1,"div",19),o.qZA()()(),o.TgZ(42,"div",8)(43,"div",24)(44,"div",10)(45,"div",11)(46,"span",12),o._UZ(47,"i",25),o.qZA()(),o._UZ(48,"input",26),o.YNc(49,_G,2,1,"div",19),o.qZA()(),o.TgZ(50,"div",24)(51,"div",10)(52,"div",11)(53,"span",12),o._UZ(54,"i",25),o.qZA()(),o._UZ(55,"input",27),o.YNc(56,vG,2,1,"div",19),o.qZA()()(),o.TgZ(57,"div",8)(58,"div",24)(59,"div",10)(60,"div",11)(61,"span",12),o._UZ(62,"i",28),o.qZA()(),o.TgZ(63,"select",29)(64,"option",30),o._uU(65,"Select job type"),o.qZA(),o.TgZ(66,"option"),o._uU(67,"Self Employed"),o.qZA(),o.TgZ(68,"option"),o._uU(69,"Salaried"),o.qZA()()()(),o.TgZ(70,"div",24)(71,"div",10)(72,"div",11)(73,"span",12),o._UZ(74,"i",13),o.qZA()(),o._UZ(75,"input",31),o.YNc(76,CG,2,1,"div",19),o.qZA()()(),o.TgZ(77,"div",8)(78,"div",24)(79,"div",10)(80,"div",11)(81,"span",12),o._UZ(82,"i",28),o.qZA()(),o.TgZ(83,"select",32)(84,"option",30),o._uU(85,"Select Highest Eduction"),o.qZA(),o.TgZ(86,"option"),o._uU(87,"School"),o.qZA(),o.TgZ(88,"option"),o._uU(89,"Secondary School"),o.qZA(),o.TgZ(90,"option"),o._uU(91,"Vocational"),o.qZA(),o.TgZ(92,"option"),o._uU(93,"Diploma"),o.qZA(),o.TgZ(94,"option"),o._uU(95,"Bachelor"),o.qZA(),o.TgZ(96,"option"),o._uU(97,"Master"),o.qZA(),o.TgZ(98,"option"),o._uU(99,"Ph.D"),o.qZA(),o.TgZ(100,"option"),o._uU(101,"Other"),o.qZA()()()(),o.TgZ(102,"div",24)(103,"div",10)(104,"div",11)(105,"span",12),o._UZ(106,"i",13),o.qZA()(),o._UZ(107,"input",33),o.YNc(108,DG,2,1,"div",19),o.qZA()()(),o.TgZ(109,"div",8)(110,"div",34)(111,"div",35)(112,"div",36)(113,"Input",37),o.NdJ("change",function(i){o.CHM(t);const s=o.oxw();return o.KtG(s.handleFileInput(i.target))}),o.qZA(),o.TgZ(114,"label",38)(115,"div",6)(116,"div",39),o._UZ(117,"img",40),o.ALo(118,"async"),o.qZA(),o.TgZ(119,"div",41),o._uU(120," Add "),o._UZ(121,"br"),o._uU(122," Profile Photo "),o.qZA()()()(),o.TgZ(123,"p",42),o._uU(124," Note: Selected image will not be uploaded anywhere . "),o.qZA()()()(),o.TgZ(125,"div",43)(126,"div",44)(127,"div",45)(128,"button",46),o.YNc(129,TG,1,0,"span",47),o._uU(130," Save "),o.qZA()()()()()()()()}if(2&n){const t=o.oxw();o.xp6(7),o.Q6J("formGroup",t.form),o.xp6(18),o.Q6J("ngIf",t.f.gender.touched&&t.f.gender.errors),o.xp6(8),o.Q6J("ngIf",t.f.fullName.touched&&t.f.fullName.errors),o.xp6(8),o.Q6J("ngIf",t.f.address.touched&&t.f.address.errors),o.xp6(8),o.Q6J("ngIf",t.f.mobile.touched&&t.f.mobile.errors),o.xp6(7),o.Q6J("ngIf",t.f.phone.touched&&t.f.phone.errors),o.xp6(20),o.Q6J("ngIf",t.f.jobDetails.touched&&t.f.jobDetails.errors),o.xp6(32),o.Q6J("ngIf",t.f.eductionDetails.touched&&t.f.eductionDetails.errors),o.xp6(9),o.Q6J("src",o.lcZ(118,11,t.form.get("profilePic").value),o.LSH),o.xp6(11),o.Q6J("disabled",t.loading),o.xp6(1),o.Q6J("ngIf",t.loading)}}function IG(n,e){if(1&n&&(o.ynx(0),o.TgZ(1,"div",61)(2,"div",62)(3,"div",63),o._UZ(4,"img",64),o.ALo(5,"async"),o.qZA(),o.TgZ(6,"div",65),o._uU(7),o.qZA(),o.TgZ(8,"div",66),o._uU(9),o.qZA(),o.TgZ(10,"ul",67)(11,"li",68)(12,"a",69),o._UZ(13,"i",70),o.qZA()(),o.TgZ(14,"li",68)(15,"a",69),o._UZ(16,"i",70),o.qZA()(),o.TgZ(17,"li",68)(18,"a",69),o._UZ(19,"i",70),o.qZA()()()()(),o.BQk()),2&n){const t=e.$implicit;o.xp6(1),o.Udp("background-color",t.color),o.xp6(3),o.Q6J("src",o.lcZ(5,5,t.profilePic),o.LSH),o.xp6(3),o.Oqu(t.fullName),o.xp6(2),o.Oqu(t.jobDetails)}}function SG(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",51)(1,"div",52)(2,"h2"),o._uU(3,"Welcome to "),o.TgZ(4,"b"),o._uU(5,"Matrimony"),o.qZA()(),o.TgZ(6,"p",53),o._uU(7," Below is an example form built entirely with Bootstrap's form controls. Each required form group has a validation state that can be triggered by attempting to submit the form without completing it. "),o.qZA()(),o.TgZ(8,"div",54),o.YNc(9,IG,20,7,"ng-container",55),o.ALo(10,"async"),o.qZA(),o.TgZ(11,"div",56)(12,"ngb-pagination",57),o.NdJ("pageChange",function(i){o.CHM(t);const s=o.oxw();return o.KtG(s.MembersListService.page=i)}),o.ALo(13,"async"),o.qZA(),o.TgZ(14,"div",58)(15,"span"),o._uU(16,"Number of Records Per Page"),o.qZA(),o.TgZ(17,"select",59),o.NdJ("ngModelChange",function(i){o.CHM(t);const s=o.oxw();return o.KtG(s.MembersListService.pageSize=i)}),o.TgZ(18,"option",60),o._uU(19,"2"),o.qZA(),o.TgZ(20,"option",60),o._uU(21,"4"),o.qZA(),o.TgZ(22,"option",60),o._uU(23,"6"),o.qZA()()()()()}if(2&n){const t=o.oxw();o.xp6(9),o.Q6J("ngForOf",o.lcZ(10,8,t.userList$)),o.xp6(3),o.Q6J("collectionSize",o.lcZ(13,10,t.total$))("page",t.MembersListService.page)("pageSize",t.MembersListService.pageSize),o.xp6(5),o.Q6J("ngModel",t.MembersListService.pageSize),o.xp6(1),o.Q6J("ngValue",2),o.xp6(2),o.Q6J("ngValue",4),o.xp6(2),o.Q6J("ngValue",6)}}let MG=(()=>{class n{constructor(t,r,i,s,u,h){this.MembersListService=t,this.formBuilder=r,this.toastService=i,this.matrimonyService=s,this.userService=u,this.fileUploadService=h,this.isMatrimonyEnableForThisAc=null,this.fileToUpload=null,this.profileBgColor=["#0000ff4f","#958a8a4f","#06d1164f"],this.userList$=t.userList$,this.total$=t.total$,this.MembersListService.pageSize=4}ngOnInit(){this.checkIfUserRegistration()}checkIfUserRegistration(){this.matrimonyService.getProfiles(this.userService.userValue.email).subscribe(t=>{this.isMatrimonyEnableForThisAc=!0,this.getMatrimonyProfiles()},t=>{this.isMatrimonyEnableForThisAc=!1,this.form=this.formBuilder.group({gender:["",Or.required],fullName:["",Or.required],address:["",Or.required],phone:["",Or.required],mobile:["",Or.required],jobType:[""],jobDetails:["",[Or.required,Or.minLength(6)]],eductionDetails:["",Or.required],highestEduction:[""],profilePic:["",Or.required]})})}get f(){return this.form.controls}onSubmit(){this.form.markAllAsTouched(),this.form.invalid?this.toastService.success("Enter All Mandatory Field!"):(this.loading=!0,this.matrimonyService.createMatrimonyProfile({gender:this.form.controls.gender.value,fullName:this.form.controls.fullName.value,address:this.form.controls.address.value,phone:this.form.controls.phone.value,mobile:this.form.controls.mobile.value,jobDetails:this.form.controls.jobType.value+" | "+this.form.controls.jobDetails.value,eductionDetails:this.form.controls.highestEduction.value+" | "+this.form.controls.eductionDetails.value,profilePic:this.picId,email:this.userService.userValue.email}).pipe(Yr()).subscribe(t=>{this.toastService.success("Registration successful"),this.isMatrimonyEnableForThisAc=!0,this.getMatrimonyProfiles()},t=>{this.toastService.error(t),this.loading=!1}))}handleFileInput(t){this.fileToUpload=t.files.item(0),this.fileUploadService.upload(this.fileToUpload).subscribe(r=>{this.picId=r.data.id,this.toastService.success("Upload successful"),this.form.controls.profilePic.setValue(this.fileUploadService.getUploadFileById(this.picId))},r=>{console.log(r)})}getMatrimonyProfiles(){this.matrimonyService.getAllProfiles().subscribe(t=>{let r=[];if(t.docs&&t.docs.length>0){for(let i of t.docs){let s=i;s.profilePic=this.fileUploadService.getUploadFileById(s.profilePic),s.color=this.getColor(),r.push(s)}this.MembersListService.setUserData(r)}})}getColor(){return this.profileBgColor[Math.floor(Math.random()*this.profileBgColor.length)]}ngOnDestroy(){this.MembersListService.setUserData([])}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(cL),o.Y36(Qh),o.Y36(Za),o.Y36(lL),o.Y36(Uo),o.Y36(LT))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-matrimony"]],decls:2,vars:2,consts:[["class","container mt-xs-2 mt-md-5 pt-md-4",4,"ngIf"],["class","container mt-xs-2 mt-md-5 ","id","matrimonyMain",4,"ngIf"],[1,"container","mt-xs-2","mt-md-5","pt-md-4"],[1,"card","bg-light"],[1,"card-body","mx-auto",2,"width","70%"],[1,"card-title","mt-1","text-center"],[1,"text-center"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-6"],[1,"form-group","input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-user"],[1,"gender"],[1,"form-check"],["value","Male","type","radio","formControlName","gender",1,"form-check-input"],["for","flexRadioDefault1",1,"form-check-label"],["value","Female","type","radio","formControlName","gender",1,"form-check-input"],["class","invalid-feedback",4,"ngIf"],[1,"col-6","col-xs-12"],["name","","placeholder","Enter Full Name","formControlName","fullName","type","text",1,"form-control"],[1,"col-12"],["name","","placeholder","Enter Full Address","formControlName","address","type","text",1,"form-control"],[1,"col-12","col-md-6"],[1,"fa","fa-phone"],["name","","formControlName","mobile","placeholder","Enter Mobile Number","type","text",1,"form-control"],["name","","formControlName","phone","placeholder","Enter Alternative Number","type","text",1,"form-control"],[1,"fa","fa-building"],["formControlName","jobType",1,"form-control"],["selected","","value",""],["name","","formControlName","jobDetails","placeholder","Enter Additional Information of Job","type","text",1,"form-control"],["formControlName","highestEduction",1,"form-control"],["name","","formControlName","eductionDetails","placeholder","Enter Additional Information of Eduction","type","text",1,"form-control"],[1,"col-12","mt-5"],[1,"profile-pic-wrapper"],[1,"pic-holder"],["type","file","name","profile_pic","id","newProfilePhoto","accept","image/*",1,"uploadProfileInput",2,"opacity","0","display","none",3,"change"],["for","newProfilePhoto",1,"upload-file-block"],[1,"mb-2"],[2,"height","250px",3,"src"],[1,"text-uppercase"],[1,"text-info","text-center","small"],[1,"row","justify-content-md-end","justify-content-center"],[1,"col-2"],[1,"form-group"],[1,"btn","btn-primary","d-flex","justify-content-right","justify-content-md-between",2,"float","right",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"],["id","matrimonyMain",1,"container","mt-xs-2","mt-md-5"],[1,"py-5","text-left"],[1,"lead"],["data-column","4",1,"at-grid"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-md-between","p-5","justify-content-center"],[3,"collectionSize","page","pageSize","pageChange"],[1,"noOfrec"],["name","pageSize",1,"form-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],[1,"at-column"],[1,"at-user"],[1,"at-user__avatar"],[3,"src"],[1,"at-user__name"],[1,"at-user__title"],[1,"at-social"],[1,"at-social__item"],["href",""],["_ngcontent-oah-c112","",1,"bx","bxl-twitter"]],template:function(t,r){1&t&&(o.YNc(0,EG,131,13,"div",0),o.YNc(1,SG,24,12,"div",1)),2&t&&(o.Q6J("ngIf",0==r.isMatrimonyEnableForThisAc),o.xp6(1),o.Q6J("ngIf",r.isMatrimonyEnableForThisAc))},dependencies:[lA,Hs,tg,ng,Ua,Yh,F_,jl,Zs,ql,Kh,$l,mi,en,by,oc],styles:['.at-section__title[_ngcontent-%COMP%]{margin:0 0 70px;color:#000;font-family:Roboto,sans-serif;font-size:3.5rem;font-weight:300;line-height:2.625rem;text-align:center}.at-grid[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;background:#fff}.at-grid[data-column="1"][_ngcontent-%COMP%]   .at-column[_ngcontent-%COMP%]{width:100%;max-width:100%;min-width:100%;flex-basis:100%}.at-grid[data-column="2"][_ngcontent-%COMP%]   .at-column[_ngcontent-%COMP%]{width:50%;max-width:50%;min-width:50%;flex-basis:50%}.at-grid[data-column="3"][_ngcontent-%COMP%]   .at-column[_ngcontent-%COMP%]{width:33.3333333333%;max-width:33.3333333333%;min-width:33.3333333333%;flex-basis:33.3333333333%}.at-grid[data-column="4"][_ngcontent-%COMP%]   .at-column[_ngcontent-%COMP%]{width:25%;max-width:25%;min-width:25%;flex-basis:25%}.at-grid[data-column="5"][_ngcontent-%COMP%]   .at-column[_ngcontent-%COMP%]{width:20%;max-width:20%;min-width:20%;flex-basis:20%}.at-grid[data-column="6"][_ngcontent-%COMP%]   .at-column[_ngcontent-%COMP%]{width:16.6666666667%;max-width:16.6666666667%;min-width:16.6666666667%;flex-basis:16.6666666667%}.at-grid[data-column="7"][_ngcontent-%COMP%]   .at-column[_ngcontent-%COMP%]{width:14.2857142857%;max-width:14.2857142857%;min-width:14.2857142857%;flex-basis:14.2857142857%}.at-grid[data-column="8"][_ngcontent-%COMP%]   .at-column[_ngcontent-%COMP%]{width:12.5%;max-width:12.5%;min-width:12.5%;flex-basis:12.5%}.at-grid[data-column="9"][_ngcontent-%COMP%]   .at-column[_ngcontent-%COMP%]{width:11.1111111111%;max-width:11.1111111111%;min-width:11.1111111111%;flex-basis:11.1111111111%}.at-column[_ngcontent-%COMP%]{z-index:0;position:relative;background:#fff;box-shadow:0 0 0 1px #e2e9ed;padding:10px;box-sizing:border-box;transition:box-shadow .2s ease,transform .2s ease,z-index 0s .2s ease}.at-column[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.at-column[_ngcontent-%COMP%]:hover{z-index:1;box-shadow:0 8px 50px #0003;transform:scale(1.05);transition:box-shadow .2s ease,transform .2s ease,z-index 0s 0s ease}.at-column[_ngcontent-%COMP%]:hover   .at-social[_ngcontent-%COMP%]{margin:16px 0 0;opacity:1}@media (max-width: 800px){.at-column[_ngcontent-%COMP%]{width:50%!important;max-width:50%!important;min-width:50%!important;flex-basis:50%!important}}@media (max-width: 600px){.at-column[_ngcontent-%COMP%]{width:100%!important;max-width:100%!important;min-width:100%!important;flex-basis:100%!important}}.at-user[_ngcontent-%COMP%]{position:absolute;top:50%;left:0;width:100%;transform:translateY(-50%);text-align:center}.at-user__avatar[_ngcontent-%COMP%]{margin:0 auto 20px;overflow:hidden}.at-user__avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:55%;max-width:100%;left:0;object-fit:cover;display:block;vertical-align:middle;background-size:cover;background-position:50% 50%;background-repeat:no-repeat;max-height:15rem;margin-left:22%}.at-user__name[_ngcontent-%COMP%]{color:#313435;font-family:Roboto,sans-serif;font-size:1.5rem;font-weight:500;line-height:2.625rem}.at-user__title[_ngcontent-%COMP%]{color:#6f808a;font-family:Roboto,sans-serif;font-size:.875rem;line-height:2.375rem}.at-social[_ngcontent-%COMP%]{margin:0 0 -18px;opacity:0;transition:margin .2s ease,opacity .2s ease}.at-social__item[_ngcontent-%COMP%]{display:inline-block;margin:0 10px}.at-social__item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block}.at-social__item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#515f65;display:block;height:18px;transition:fill .2s ease}.at-social__item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:hover{fill:#788d96}body[_ngcontent-%COMP%]{background:#fff;font-family:Roboto,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.container[_ngcontent-%COMP%]{max-width:100vw;width:100%;padding:0 20px;box-sizing:border-box;transform-origin:top center}#matrimonyMain[_ngcontent-%COMP%]{background-color:#4a306400;color:#3d3d3d}.pic-holder[_ngcontent-%COMP%]{display:flex;justify-content:center}.upload-file-block[_ngcontent-%COMP%]{border-style:dotted}.gender[_ngcontent-%COMP%]{position:inherit;width:101px;display:flex;margin-left:2rem!important;justify-content:space-around}.gender[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{left:20px!important}.gender[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-left:10px}']}),n})();const xG={asc:"desc",desc:"","":"asc"};let OG=(()=>{class n{constructor(){this.sortable="",this.direction="",this.sort=new o.vpe}rotate(){this.direction=xG[this.direction],this.sort.emit({column:this.sortable,direction:this.direction})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["th","sortable",""]],hostVars:4,hostBindings:function(t,r){1&t&&o.NdJ("click",function(){return r.rotate()}),2&t&&o.ekj("asc","asc"===r.direction)("desc","desc"===r.direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sort:"sort"}}),n})(),AG=(()=>{class n{constructor(t){this.http=t,this.userSubject=new Nt(null)}getAllFeedback(){return this.http.get(`${Xn_API_URL}/feedback/all`)}createFeedback(t){return this.http.post(`${Xn_API_URL}/feedback`,t)}deleteFeedback(t){return this.http.delete(`${Xn_API_URL}/feedback/${t}`)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(_d))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PG=(()=>{class n{constructor(){}getDaysBetweenCurrentDate(t){return 2}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uA=(()=>{class n{transform(t,...r){return t&&t[0].toUpperCase()+t.substr(1).toLowerCase()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=o.Yjl({name:"titleCase",type:n,pure:!0}),n})();function NG(n,e){1&n&&(o.TgZ(0,"span",35),o._UZ(1,"i",36),o.qZA())}const kG=function(n){return["/Dashboard/Profile/View",n]};function RG(n,e){if(1&n&&(o.ynx(0),o.TgZ(1,"div",37)(2,"aside",38)(3,"header")(4,"a"),o._UZ(5,"img",39),o.ALo(6,"async"),o.qZA(),o.TgZ(7,"h1"),o._uU(8),o.ALo(9,"titleCase"),o.ALo(10,"titleCase"),o.qZA(),o.TgZ(11,"h2"),o._uU(12),o.ALo(13,"titleCase"),o.ALo(14,"titleCase"),o.qZA()(),o.TgZ(15,"div",40)(16,"button",41),o._uU(17," View Profile "),o.qZA()()()(),o.BQk()),2&n){const t=e.$implicit;o.xp6(5),o.Q6J("src",o.lcZ(6,5,t.profilePic),o.LSH),o.xp6(3),o.hij(" ",o.lcZ(9,7,t.firstName)+" "+o.lcZ(10,9,t.lastName)," "),o.xp6(4),o.AsE(" ",o.lcZ(13,11,t.profession)," | ",o.lcZ(14,13,t.homePlace)," "),o.xp6(4),o.Q6J("routerLink",o.VKq(15,kG,t._id))}}function FG(n,e){if(1&n){const t=o.EpF();o.ynx(0),o.TgZ(1,"div",42)(2,"div",43)(3,"div",44)(4,"div",45)(5,"div",46),o._UZ(6,"img",47),o.ALo(7,"async"),o.TgZ(8,"div",48)(9,"a",49),o._uU(10),o.qZA(),o.TgZ(11,"button",50),o.NdJ("click",function(){const s=o.CHM(t).$implicit,u=o.oxw();return o.KtG(u.deleteFeedBack(s._id))}),o.qZA(),o.TgZ(12,"div",51),o._uU(13),o.qZA()()()(),o.TgZ(14,"div",8)(15,"p"),o._uU(16),o.qZA()()()()(),o.BQk()}if(2&n){const t=e.$implicit;o.xp6(6),o.Q6J("src",o.lcZ(7,4,t.profilePic),o.LSH),o.xp6(4),o.Oqu(t.userName),o.xp6(3),o.hij("",t.createdAt," days ago"),o.xp6(3),o.Oqu(t.feedback)}}function LG(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",52)(1,"h4",53),o._uU(2,"Feedback | Form"),o.qZA(),o.TgZ(3,"button",54),o.NdJ("click",function(){const s=o.CHM(t).dismiss;return o.KtG(s("Cross click"))}),o.qZA()(),o.TgZ(4,"div",55)(5,"div",56)(6,"label",57),o._uU(7,"Comment:"),o.qZA(),o._UZ(8,"textarea",58,59),o.qZA()(),o.TgZ(10,"div",60)(11,"button",61),o.NdJ("click",function(){const s=o.CHM(t).close,u=o.MAs(9);return o.KtG(s(u.value))}),o._uU(12,"Add"),o.qZA()()}}let UG=(()=>{class n{constructor(t,r,i,s,u,h,g){this._feedbackService=t,this.MembersListService=r,this.fileUploadService=i,this.modalService=s,this.userService=u,this._commonService=h,this.toastService=g,this.usersList=[],this.feedbackList=[],this.userList$=r.userList$,this.total$=r.total$}ngOnInit(){this.getAllUsers(),this.getAllFeedBack(),this.MembersListService.pageSize=6}getAllUsers(){this.userService.getAllActiveMembers().subscribe(t=>{let r=[];for(let i of t.docs){let s=i;s.profilePic=this.fileUploadService.getUploadFileById(s.profilePic||""),r.push(s)}this.MembersListService.setUserData(r)})}onSort({column:t,direction:r}){this.headers.forEach(i=>{i.sortable!==t&&(i.direction="")}),this.MembersListService.sortColumn=t,this.MembersListService.sortDirection=r}deleteUser(t){this.userService.delete(t).subscribe(r=>{this.toastService.success("Deleted Successfully!"),this.getAllUsers()})}open(){this.modalService.open(VG).componentInstance.name="World"}getAllFeedBack(){this._feedbackService.getAllFeedback().subscribe(t=>{let r=[];for(let i of t.docs){let s=i;s.profilePic=this.fileUploadService.getUploadFileById(s.userProfilePic||""),s.createdAt=this._commonService.getDaysBetweenCurrentDate(s.createdAt),r.push(s)}this.feedbackList=t.docs||[]})}openFeedBackForm(t){this.modalService.open(t).result.then(r=>{r&&this._feedbackService.createFeedback({feedback:r,userName:this.userService.userValue.firstName+" "+this.userService.userValue.lastName,userProfilePic:this.userService.userValue.profilePic||"",userId:this.userService.userValue.id}).subscribe(i=>{this.toastService.success("Feedback Added Successfully"),this.getAllFeedBack()})})}deleteFeedBack(t){this._feedbackService.deleteFeedback(t).subscribe(r=>{this.toastService.success("Deleted Successfully"),this.getAllFeedBack()})}ngOnDestroy(){this.MembersListService.setUserData([])}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(AG),o.Y36(cL),o.Y36(LT),o.Y36(tu),o.Y36(Uo),o.Y36(PG),o.Y36(Za))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-member-list"]],viewQuery:function(t,r){if(1&t&&o.Gf(OG,5),2&t){let i;o.iGM(i=o.CRH())&&(r.headers=i)}},decls:60,vars:20,consts:[[1,"commPeople","mt-md-5"],[1,"row","mt-xs-2","mt-md-5"],[1,"text-center"],[1,"lead"],[1,"row","mx-1","mx-md-0","px-1","px-md-5"],[1,"col-12","p-0"],[1,"col-12","grid-margin"],[1,"card","card-rounded"],[1,"card-body"],[1,"d-sm-flex","justify-content-between","align-items-start"],[1,"card-title","card-title-dash"],["type","button","routerLink","/Dashboard/Membership",1,"btn","btn-primary","btn-floating","mx-1"],["aria-hidden","true",1,"fa","fa-user-plus"],[1,"table-responsive","mt-1"],[1,"mb-3","row"],["for","table-complete-search",1,"col-xs-3","col-sm-auto","col-form-label"],[1,"col-xs-3","col-sm-auto"],["id","table-complete-search","type","text","placeholder","Search Members","name","searchTerm",1,"form-control",3,"ngModel","ngModelChange"],["class","col col-form-label",4,"ngIf"],[1,"row","mt-5"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"collectionSize","page","pageSize","pageChange"],["name","pageSize",1,"form-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],[1,"container-fluid","row","mt-5"],[1,"col-6"],[1,"col-12","grid-margin","stretch-card"],[1,"d-flex","w-100","justify-content-between"],["type","button",1,"btn","btn-primary",3,"click"],[1,"ion","ion-md-create"],["aria-hidden","true",1,"fa","fa-paper-plane"],[1,"container-fluid","mt-100",2,"max-height","60rem","overflow","auto"],["src","https://drive.google.com/embeddedfolderview?id=FOLDER-ID#grid",2,"width","100%","height","600px","border","0"],["feedback",""],[1,"col","col-form-label"],[1,"fa","fa-spinner","fa-spin"],[1,"col-md-4","col-lg-3","col-xl-2","col-6"],[1,"profile-card"],[3,"src"],[1,"profile-bio"],["type","button",1,"btn","btn-outline-primary",3,"routerLink"],[1,"row","mt-4"],[1,"col-12","col-md-12"],[1,"card","mb-4"],[1,"card-header"],[1,"media","flex-wrap","w-100","align-items-center"],["alt","",1,"d-block","ui-w-40","rounded-circle",2,"width","60px",3,"src"],[1,"media-body","ml-3"],["href","javascript:void(0)","data-abc","true"],["type","button","aria-label","Close",1,"btn-close","feed-close",3,"click"],[1,"text-muted","small"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"form-group"],["for","comment"],["rows","5","id","comment",1,"form-control"],["comment",""],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(t,r){if(1&t){const i=o.EpF();o.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2"),o._uU(4,"Meet the community Members"),o.qZA(),o.TgZ(5,"p",3),o._uU(6," Be a Active Member of This Community by Applying membership in Membership Tab "),o.qZA()()()(),o.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9)(13,"h4",10),o._uU(14),o.ALo(15,"async"),o.qZA(),o.TgZ(16,"button",11),o._UZ(17,"i",12),o._uU(18," Become a member "),o.qZA()(),o.TgZ(19,"div",13)(20,"form")(21,"div",14)(22,"label",15),o._uU(23,"Search:"),o.qZA(),o.TgZ(24,"div",16)(25,"input",17),o.NdJ("ngModelChange",function(u){return r.MembersListService.searchTerm=u}),o.qZA()(),o.YNc(26,NG,2,0,"span",18),o.ALo(27,"async"),o.qZA(),o.TgZ(28,"div",19),o.YNc(29,RG,18,17,"ng-container",20),o.ALo(30,"async"),o.qZA(),o.TgZ(31,"div",21)(32,"ngb-pagination",22),o.NdJ("pageChange",function(u){return r.MembersListService.page=u}),o.ALo(33,"async"),o.qZA(),o.TgZ(34,"select",23),o.NdJ("ngModelChange",function(u){return r.MembersListService.pageSize=u}),o.TgZ(35,"option",24),o._uU(36,"2"),o.qZA(),o.TgZ(37,"option",24),o._uU(38,"4"),o.qZA(),o.TgZ(39,"option",24),o._uU(40,"6"),o.qZA()()()()()()()()()(),o.TgZ(41,"div",25)(42,"div",26)(43,"div",27)(44,"div",7)(45,"div",8)(46,"div",9)(47,"div",28)(48,"h4",10),o._uU(49,"Discussion Forum"),o.qZA(),o.TgZ(50,"button",29),o.NdJ("click",function(){o.CHM(i);const u=o.MAs(59);return o.KtG(r.openFeedBackForm(u))}),o._UZ(51,"i",30),o._uU(52," Chat\xa0"),o._UZ(53,"i",31),o.qZA()()(),o.TgZ(54,"div",32),o.YNc(55,FG,17,6,"ng-container",20),o.qZA()()()()(),o.TgZ(56,"div",26),o._UZ(57,"iframe",33),o.qZA()(),o.YNc(58,LG,13,0,"ng-template",null,34,o.W1O)}2&t&&(o.xp6(14),o.hij("Active Members - ",o.lcZ(15,12,r.total$),""),o.xp6(11),o.Q6J("ngModel",r.MembersListService.searchTerm),o.xp6(1),o.Q6J("ngIf",o.lcZ(27,14,r.MembersListService.loading$)),o.xp6(3),o.Q6J("ngForOf",o.lcZ(30,16,r.userList$)),o.xp6(3),o.Q6J("collectionSize",o.lcZ(33,18,r.total$))("page",r.MembersListService.page)("pageSize",r.MembersListService.pageSize),o.xp6(2),o.Q6J("ngModel",r.MembersListService.pageSize),o.xp6(1),o.Q6J("ngValue",2),o.xp6(2),o.Q6J("ngValue",4),o.xp6(2),o.Q6J("ngValue",6),o.xp6(16),o.Q6J("ngForOf",r.feedbackList))},dependencies:[ka,lA,Hs,tg,ng,Ua,Yh,jl,Zs,$l,dd,mi,en,by,oc,uA],styles:['.table-responsive[_ngcontent-%COMP%]{overflow:hidden}th[sortable][_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none}.fa-solid[_ngcontent-%COMP%]{font-size:20px}th[_ngcontent-%COMP%]{font-weight:100}#mapdiv[_ngcontent-%COMP%]{height:80vh;background-color:#7fffd4}img[_ngcontent-%COMP%]{-ms-interpolation-mode:bicubic;vertical-align:middle;border:0}.profile-card[_ngcontent-%COMP%]{width:200px;margin-top:10px!important;border-radius:10px;overflow:hidden;box-shadow:0 2px 2px #00000024,0 3px 1px -2px #0003,0 1px 5px #0000001f;position:relative;margin:0;background:white;top:40%;transform:translateY(-50%)}.profile-card[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{display:block;position:relative;background:rgb(255,255,255);text-align:center;padding:13px 0 5px;z-index:1;overflow:hidden}.profile-card[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]:before{content:"";position:absolute;background-size:cover;width:100%;height:100%;left:0;top:0;z-index:-1}.profile-card[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-1px;left:0;width:100%;height:100%;z-index:-1;background-color:#656e834d;background-image:linear-gradient(to bottom,rgba(255,255,255,0) 0%,rgb(255,255,255) 100%)}.profile-card[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:100%;overflow:hidden;width:90%;box-shadow:0 1px #0000001a,0 1px 2px #0000001a;object-fit:cover;vertical-align:middle;background-size:cover;height:180px}.profile-card[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#444;margin:10px 0 0;padding:0}.profile-card[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:100;font-size:15px;color:#666;margin:5px 0 0;padding:0}.profile-card[_ngcontent-%COMP%]   .profile-bio[_ngcontent-%COMP%]{padding:8px 30px;text-align:center;color:#888;margin-bottom:15px}.profile-card[_ngcontent-%COMP%]   .profile-bio[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{height:50px;font-size:.85rem;color:#656e8361}.profile-card[_ngcontent-%COMP%]   .profile-social-links[_ngcontent-%COMP%]{display:table;width:70%;margin:20px auto}.profile-card[_ngcontent-%COMP%]   .profile-social-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:table-cell;width:33.3333333333%}.profile-card[_ngcontent-%COMP%]   .profile-social-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;text-align:center;padding:10px;margin:0 10px;border-radius:100%;transition:box-shadow .2s}.profile-card[_ngcontent-%COMP%]   .profile-social-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{box-shadow:0 1px 1.5px #0000001f,0 1px 1px #0000003d}.profile-card[_ngcontent-%COMP%]   .profile-social-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{box-shadow:0 4px 5px #00000024,0 1px 10px #0000001f,0 2px 4px -1px #0003}.profile-card[_ngcontent-%COMP%]   .profile-social-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;display:block}.commPeople[_ngcontent-%COMP%]{padding:10px;overflow:hidden}.profile-bio[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{line-height:18px;font-size:14px;width:104px;background-color:#5092cb00;color:#000}.member-footer[_ngcontent-%COMP%]{text-align:center;margin-top:40px}.add-items[_ngcontent-%COMP%]{margin-bottom:1.5rem;overflow:hidden}.add-items[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0;width:100%;background:transparent}.add-items[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .add-items[_ngcontent-%COMP%]   .fc[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .fc[_ngcontent-%COMP%]   .add-items[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .add-items[_ngcontent-%COMP%]   .ajax-upload-dragdrop[_ngcontent-%COMP%]   .ajax-file-upload[_ngcontent-%COMP%], .ajax-upload-dragdrop[_ngcontent-%COMP%]   .add-items[_ngcontent-%COMP%]   .ajax-file-upload[_ngcontent-%COMP%], .add-items[_ngcontent-%COMP%]   .swal2-modal[_ngcontent-%COMP%]   .swal2-buttonswrapper[_ngcontent-%COMP%]   .swal2-styled[_ngcontent-%COMP%], .swal2-modal[_ngcontent-%COMP%]   .swal2-buttonswrapper[_ngcontent-%COMP%]   .add-items[_ngcontent-%COMP%]   .swal2-styled[_ngcontent-%COMP%], .add-items[_ngcontent-%COMP%]   .wizard[_ngcontent-%COMP%] > .actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .wizard[_ngcontent-%COMP%] > .actions[_ngcontent-%COMP%]   .add-items[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:.5rem}.rtl[_ngcontent-%COMP%]   .add-items[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .rtl[_ngcontent-%COMP%]   .add-items[_ngcontent-%COMP%]   .fc[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .fc[_ngcontent-%COMP%]   .rtl[_ngcontent-%COMP%]   .add-items[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .rtl[_ngcontent-%COMP%]   .add-items[_ngcontent-%COMP%]   .ajax-upload-dragdrop[_ngcontent-%COMP%]   .ajax-file-upload[_ngcontent-%COMP%], .ajax-upload-dragdrop[_ngcontent-%COMP%]   .rtl[_ngcontent-%COMP%]   .add-items[_ngcontent-%COMP%]   .ajax-file-upload[_ngcontent-%COMP%], .rtl[_ngcontent-%COMP%]   .add-items[_ngcontent-%COMP%]   .swal2-modal[_ngcontent-%COMP%]   .swal2-buttonswrapper[_ngcontent-%COMP%]   .swal2-styled[_ngcontent-%COMP%], .swal2-modal[_ngcontent-%COMP%]   .swal2-buttonswrapper[_ngcontent-%COMP%]   .rtl[_ngcontent-%COMP%]   .add-items[_ngcontent-%COMP%]   .swal2-styled[_ngcontent-%COMP%], .rtl[_ngcontent-%COMP%]   .add-items[_ngcontent-%COMP%]   .wizard[_ngcontent-%COMP%] > .actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .wizard[_ngcontent-%COMP%] > .actions[_ngcontent-%COMP%]   .rtl[_ngcontent-%COMP%]   .add-items[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:auto;margin-right:.5rem}.list-wrapper[_ngcontent-%COMP%]{height:100%;max-height:100%}.list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{border-bottom:none}.list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{max-width:90%;margin-top:.25rem;margin-bottom:.25rem}.list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{cursor:pointer}.list-wrapper[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-right:15px}.list-wrapper[_ngcontent-%COMP%]   .completed[_ngcontent-%COMP%]{text-decoration:line-through;text-decoration-color:#3da5f4}.list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{max-width:90%;margin-top:.25rem;margin-bottom:.25rem}.form-check[_ngcontent-%COMP%]{position:relative;display:block;margin-top:10px;margin-bottom:10px;padding-left:0}.list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%], .list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%], .email-wrapper[_ngcontent-%COMP%]   .mail-sidebar[_ngcontent-%COMP%]   .menu-bar[_ngcontent-%COMP%]   .profile-list-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .u-name[_ngcontent-%COMP%], .email-wrapper[_ngcontent-%COMP%]   .mail-sidebar[_ngcontent-%COMP%]   .menu-bar[_ngcontent-%COMP%]   .profile-list-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .u-designation[_ngcontent-%COMP%], .email-wrapper[_ngcontent-%COMP%]   .mail-list-container[_ngcontent-%COMP%]   .mail-list[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .sender-name[_ngcontent-%COMP%], .email-wrapper[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]   .attachments-sections[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   p.file-name[_ngcontent-%COMP%], .settings-panel[_ngcontent-%COMP%]   .chat-list[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;max-width:100%;white-space:nowrap}.form-check[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{min-height:18px;display:block;margin-left:1.75rem;font-size:.875rem;line-height:1.5}.form-check-label[_ngcontent-%COMP%]{margin-bottom:0}.list-wrapper[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-right:15px}.form-check[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;top:0;left:0;margin-left:0;margin-top:0;z-index:1;cursor:pointer;opacity:0;filter:alpha(opacity=0)}input[type=radio][_ngcontent-%COMP%], input[type=checkbox][_ngcontent-%COMP%]{box-sizing:border-box;padding:0}.list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%], .list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%], .email-wrapper[_ngcontent-%COMP%]   .mail-sidebar[_ngcontent-%COMP%]   .menu-bar[_ngcontent-%COMP%]   .profile-list-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .u-name[_ngcontent-%COMP%], .email-wrapper[_ngcontent-%COMP%]   .mail-sidebar[_ngcontent-%COMP%]   .menu-bar[_ngcontent-%COMP%]   .profile-list-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .u-designation[_ngcontent-%COMP%], .email-wrapper[_ngcontent-%COMP%]   .mail-list-container[_ngcontent-%COMP%]   .mail-list[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .sender-name[_ngcontent-%COMP%], .email-wrapper[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]   .attachments-sections[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   p.file-name[_ngcontent-%COMP%], .settings-panel[_ngcontent-%COMP%]   .chat-list[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;max-width:100%;white-space:nowrap}.form-check[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + .input-helper[_ngcontent-%COMP%]:after{transition:all;transition-duration:0s;transition-duration:.25s;font-family:Material Design Icons;opacity:0;filter:alpha(opacity=0);transform:scale(0);content:"\\f12c";font-size:.9375rem;font-weight:700;color:#fff}.form-check[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + .input-helper[_ngcontent-%COMP%]:before, .form-check[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + .input-helper[_ngcontent-%COMP%]:after{position:absolute;top:0;left:0}.form-check[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + .input-helper[_ngcontent-%COMP%]:before{background:#405189;border-width:0}.form-check[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + .input-helper[_ngcontent-%COMP%]:before{content:"";width:18px;height:18px;border-radius:2px;border:solid #405189;border-width:2px;transition:all;transition-duration:0s;transition-duration:.25s}.form-check[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + .input-helper[_ngcontent-%COMP%]:after{font-family:FontAwesome;content:"\\f095";display:inline-block;padding-right:3px;vertical-align:middle;color:#fff}.text-primary[_ngcontent-%COMP%], .list-wrapper[_ngcontent-%COMP%]   .completed[_ngcontent-%COMP%]   .remove[_ngcontent-%COMP%]{color:#405189!important}.list-wrapper[_ngcontent-%COMP%]   .remove[_ngcontent-%COMP%]{cursor:pointer;font-size:1.438rem;font-weight:600;width:1.25rem;height:1.25rem;line-height:20px;text-align:center}.ml-auto[_ngcontent-%COMP%], .list-wrapper[_ngcontent-%COMP%]   .remove[_ngcontent-%COMP%], .mx-auto[_ngcontent-%COMP%]{margin-left:auto!important}.mdi-close-circle-outline[_ngcontent-%COMP%]:before{content:"\\f15a"}.list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.9375rem;padding:.4rem 0;border-bottom:1px solid #f3f3f3}.mdi[_ngcontent-%COMP%]:before{font-family:FontAwesome;content:"\\f00d";display:inline-block;padding-right:3px;vertical-align:middle;font-size:.756em;color:#405189}.list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;text-align:left;list-style:none;margin-bottom:0}.flex-column-reverse[_ngcontent-%COMP%]{flex-direction:column-reverse!important}.d-flex[_ngcontent-%COMP%], .loader-demo-box[_ngcontent-%COMP%], .distribution-chart-legend[_ngcontent-%COMP%]   .distribution-chart[_ngcontent-%COMP%], .distribution-chart-legend[_ngcontent-%COMP%]   .distribution-chart[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%], .list-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .email-wrapper[_ngcontent-%COMP%]   .mail-sidebar[_ngcontent-%COMP%]   .menu-bar[_ngcontent-%COMP%]   .profile-list-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .email-wrapper[_ngcontent-%COMP%]   .mail-sidebar[_ngcontent-%COMP%]   .menu-bar[_ngcontent-%COMP%]   .profile-list-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%], .email-wrapper[_ngcontent-%COMP%]   .mail-list-container[_ngcontent-%COMP%]   .mail-list[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%], .email-wrapper[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]   .attachments-sections[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .thumb[_ngcontent-%COMP%], .email-wrapper[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]   .attachments-sections[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%], .lightGallery[_ngcontent-%COMP%]   .image-tile[_ngcontent-%COMP%]   .demo-gallery-poster[_ngcontent-%COMP%], .swal2-modal[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   .navbar-menu-wrapper[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   .navbar-menu-wrapper[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item.nav-profile[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   .navbar-menu-wrapper[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item.dropdown[_ngcontent-%COMP%]   .navbar-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{display:flex!important}.feed-close[_ngcontent-%COMP%]{position:absolute;right:10px;top:10px}']}),n})(),VG=(()=>{class n{constructor(t){this.activeModal=t}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(je))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngbd-modal-content"]],inputs:{name:"name"},decls:18,vars:0,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12"],[1,"form-group","input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-user"],["name","","placeholder","Enter","type","text",1,"form-control"],["type","button",1,"btn","btn-primary"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0)(1,"h4",1),o._uU(2,"Hi there!"),o.qZA(),o.TgZ(3,"button",2),o.NdJ("click",function(){return r.activeModal.dismiss("Cross click")}),o.qZA()(),o.TgZ(4,"div",3)(5,"form")(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"span",8),o._UZ(11,"i",9),o.qZA()(),o._UZ(12,"input",10),o.qZA(),o.TgZ(13,"button",11),o._uU(14,"Send"),o.qZA()()()()(),o.TgZ(15,"div",12)(16,"button",13),o.NdJ("click",function(){return r.activeModal.close("Close click")}),o._uU(17,"Close"),o.qZA()())},encapsulation:2}),n})();function BG(n,e){1&n&&(o.TgZ(0,"div"),o._uU(1,"First Name is required"),o.qZA())}function ZG(n,e){if(1&n&&(o.TgZ(0,"div",23),o.YNc(1,BG,2,0,"div",24),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("ngIf",t.form.get("name").errors.required)}}function HG(n,e){1&n&&(o.TgZ(0,"div"),o._uU(1,"Please Accept Terms and Condition"),o.qZA())}function jG(n,e){if(1&n&&(o.TgZ(0,"div",23),o.YNc(1,HG,2,0,"div",24),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Q6J("ngIf",t.form.get("terms").errors.required)}}function GG(n,e){1&n&&o._UZ(0,"span",25)}let $G=(()=>{class n{constructor(t,r,i,s){this.formBuilder=t,this.userService=r,this.toastService=i,this.route=s,this.loading=!1,this.form=this.formBuilder.group({name:["",Or.required],terms:[!1,Or.required]})}ngOnInit(){}onSubmit(){this.form.markAllAsTouched(),this.toastService.clear(),0!=this.form.controls.terms.value?this.form.valid&&(this.loading=!0,this.userService.updateUserDataById({active:this.form.controls.terms.value.toString()}).subscribe(t=>{this.userService.userValue.active="true",this.toastService.success("Thank You for Becoming Active Members"),this.route.navigateByUrl("Dashboard/Members")},t=>{this.toastService.error(t),this.loading=!1})):this.toastService.error("Please Accept Terms and Condition!")}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Qh),o.Y36(Uo),o.Y36(Za),o.Y36(Gn))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-membership"]],decls:33,vars:4,consts:[[1,"container","p-5",2,"margin-top","5rem"],[1,"card","bg-light"],[1,"card-body","mx-auto",2,"width","70%"],[1,"card-title","mt-3","text-left"],["aria-hidden","true",1,"fa","fa-user-plus"],[1,"text-left"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-6"],[1,"form-group","input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-user"],["placeholder","Enter Full Name","formControlName","name","type","text",1,"form-control"],["class","invalid-feedback",4,"ngIf"],[1,"form-check","d-flex","justify-content-left","mt-2","mb-5"],["type","checkbox","value","","formControlName","terms","id","form2Example3c",1,"form-check-input","me-2"],["for","form2Example3",1,"form-check-label"],[1,"row","justify-content-start"],[1,"col-2"],[1,"form-group"],["type","submit",1,"btn","btn-primary","d-flex","justify-content-left"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"article",2)(3,"h4",3),o._UZ(4,"i",4),o._uU(5," Become a member"),o.qZA(),o.TgZ(6,"p",5),o._uU(7," Become an Active Part of the Community by entering below details and Accepting Terms "),o.qZA(),o.TgZ(8,"form",6),o.NdJ("ngSubmit",function(){return r.onSubmit()}),o.TgZ(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"span",11),o._UZ(14,"i",12),o.qZA()(),o._UZ(15,"input",13),o.YNc(16,ZG,2,1,"div",14),o.qZA()()(),o._UZ(17,"br"),o.TgZ(18,"div",15),o._UZ(19,"input",16),o.TgZ(20,"label",17),o._uU(21," I agree all statements in "),o.TgZ(22,"a"),o._uU(23,"Terms of service"),o.qZA(),o.YNc(24,jG,2,1,"div",14),o.qZA()(),o.TgZ(25,"div",18)(26,"div",19)(27,"div",20)(28,"button",21),o.YNc(29,GG,1,0,"span",22),o._uU(30," Register "),o.qZA()()()(),o._UZ(31,"br")(32,"br"),o.qZA()()()()),2&t&&(o.xp6(8),o.Q6J("formGroup",r.form),o.xp6(8),o.Q6J("ngIf",r.form.get("name").touched&&r.form.get("name").errors),o.xp6(8),o.Q6J("ngIf",r.form.get("terms").touched&&r.form.get("terms").errors),o.xp6(5),o.Q6J("ngIf",r.loading))},dependencies:[Hs,Ua,b_,jl,Zs,ql,Kh,en]}),n})(),qG=(()=>{class n{constructor(t){this.http=t}getProfileById(t){return this.http.get(`${Xn_API_URL}/profile`+(t?"/"+t:""))}updateProfile(t){return this.http.patch(`${Xn_API_URL}/profile`,t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(_d))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function WG(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"form",2),o.NdJ("ngSubmit",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.onSubmitMatrimonyProfile())}),o.TgZ(1,"div",36)(2,"div",37)(3,"h4",16),o._uU(4,"Matrimony Profile"),o.qZA()(),o._UZ(5,"br"),o.TgZ(6,"div",4)(7,"div",5)(8,"Input",38),o.NdJ("change",function(i){o.CHM(t);const s=o.oxw();return o.KtG(s.handleFileInput(i.target))}),o.qZA(),o.TgZ(9,"label",39)(10,"div",8)(11,"div",9),o._UZ(12,"img",10),o.ALo(13,"async"),o.qZA()()()()(),o.TgZ(14,"div",23)(15,"label",19),o._uU(16,"fullName"),o.qZA(),o._UZ(17,"input",40),o.qZA(),o.TgZ(18,"div",23)(19,"label",19),o._uU(20,"address"),o.qZA(),o._UZ(21,"input",41),o.qZA(),o.TgZ(22,"div",18)(23,"label",19),o._uU(24,"phone"),o.qZA(),o._UZ(25,"input",42),o.qZA(),o.TgZ(26,"div",18)(27,"label",19),o._uU(28,"mobile"),o.qZA(),o._UZ(29,"input",43),o.qZA(),o.TgZ(30,"div",23)(31,"label",19),o._uU(32,"jobDetails"),o.qZA(),o._UZ(33,"input",44),o.qZA(),o.TgZ(34,"div",23)(35,"label",19),o._uU(36,"eductionDetails"),o.qZA(),o._UZ(37,"input",45),o.qZA(),o.TgZ(38,"div",23)(39,"label",19),o._uU(40,"gender"),o.qZA(),o._UZ(41,"input",46),o.qZA(),o._UZ(42,"br"),o.TgZ(43,"div",32)(44,"button",33),o._uU(45," Save Profile "),o.qZA()()()()}if(2&n){const t=o.oxw();o.Q6J("formGroup",t.form2),o.xp6(12),o.Q6J("src",o.lcZ(13,3,t.form2.get("profilePic").value),o.LSH),o.xp6(32),o.Q6J("disabled",t.viewMode)}}let uL=(()=>{class n{constructor(t,r,i,s,u,h,g,v){this.route=t,this.router=r,this.profileService=i,this.matrimonyService=s,this.toastService=u,this.fileUploadService=h,this._UserService=g,this.formBuilder=v,this.userId="",this.viewMode=!1,this.viewMode=this.router.url.includes("View"),this.viewMode&&this.route.params.subscribe(D=>{this.userId=D.id})}ngOnInit(){this.form=this.formBuilder.group({profilePic:[""],firstName:[""],lastName:[""],profession:[""],city:[""],country:[""],state:[""],email:["",Or.required],homePlace:[""],phone:[""],urlGitHub:[""],urlTwitter:[""]}),this.viewMode&&this.form.disable(),this.getProfileDetails()}getProfileDetails(){this.profileService.getProfileById(this.userId).subscribe(t=>{this.form.patchValue({city:t.city,country:t.country,state:t.state,email:t.email,firstName:t.firstName,lastName:t.lastName,homePlace:t.homePlace,phone:t.phone,profession:t.profession,profilePic:this.fileUploadService.getUploadFileById(t.profilePic),urlGitHub:t.urlGitHub,urlTwitter:t.urlTwitter}),this._masterData=t,this.getMatrimonyProfile(this._masterData.email)})}onSubmit(){this.form.valid?this.profileService.updateProfile({city:this.form.controls.city.value,country:this.form.controls.country.value,state:this.form.controls.state.value,firstName:this.form.controls.firstName.value,lastName:this.form.controls.lastName.value,homePlace:this.form.controls.homePlace.value,phone:this.form.controls.phone.value,profession:this.form.controls.profession.value,profilePic:this._masterData.profilePic,urlGitHub:this.form.controls.urlGitHub.value,urlTwitter:this.form.controls.urlTwitter.value}).subscribe(t=>{this.toastService.success("Saved Successfully!")}):this.toastService.error("Invalid Form!")}handleFileInput(t,r=""){this.fileUploadService.upload(t.files.item(0)).subscribe(i=>{"profile"==r?(this._masterData.profilePic=i.data.id,this.form.controls.profilePic.setValue(this.fileUploadService.getUploadFileById(this._masterData.profilePic)),this.onSubmit()):(this._masterMatrimonData.profilePic=i.data.id,this.form2.controls.profilePic.setValue(this.fileUploadService.getUploadFileById(this._masterMatrimonData.profilePic)),this.onSubmitMatrimonyProfile())},i=>{console.log(i)})}getMatrimonyProfile(t){this.matrimonyService.getProfiles(t).subscribe(r=>{this._masterMatrimonData=r,this.form2=this.formBuilder.group({_id:[r._id],fullName:[r.fullName],address:[r.address],phone:[r.phone],mobile:[r.mobile],jobDetails:[r.jobDetails],eductionDetails:[r.eductionDetails],profilePic:[this.fileUploadService.getUploadFileById(r.profilePic),Or.required],gender:[r.gender]}),this.viewMode&&this.form2.disable()})}onSubmitMatrimonyProfile(){this.form2.valid?this.matrimonyService.updateMatrimonyProfile(this._UserService.userValue.email,{fullName:this.form2.controls.fullName.value,address:this.form2.controls.address.value,phone:this.form2.controls.phone.value,mobile:this.form2.controls.mobile.value,jobDetails:this.form2.controls.jobDetails.value,eductionDetails:this.form2.controls.eductionDetails.value,profilePic:this._masterMatrimonData.profilePic,gender:this.form2.controls.gender.value}).subscribe(t=>{this.toastService.success("Upload successful")}):this.toastService.error("Invalid Form!")}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(uo),o.Y36(Gn),o.Y36(qG),o.Y36(lL),o.Y36(Za),o.Y36(LT),o.Y36(Uo),o.Y36(Qh))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-profile"]],decls:72,vars:12,consts:[[1,"rounded","bg-white","mt-5","container-fluid"],[1,"row"],[3,"formGroup","ngSubmit"],[1,"col-12","col-md-3","border-right"],[1,"d-flex","flex-column","align-items-center","text-center","p-3","py-5"],[1,"pic-holder"],["type","file","name","profile_pic","id","newProfilePhoto","accept","image/*",1,"uploadProfileInput",2,"opacity","0","display","none",3,"change"],["for","newProfilePhoto",1,"upload-file-block"],[1,"text-center"],[1,"mb-2"],["width","150px",1,"rounded-circle","mt-5","profile-pic",3,"src"],[1,"font-weight-bold"],[1,"text-black-50"],[1,"col-12","col-md-6","border-right","offset-md-1"],[1,"d-flex","flex-column","p-5","py-5"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-right"],[1,"row","mt-2"],[1,"col-md-6"],[1,"labels"],["type","text","formControlName","firstName","placeholder","first name","value","",1,"form-control"],["type","text","formControlName","lastName","value","","placeholder","surname",1,"form-control"],[1,"row","mt-3"],[1,"col-md-12"],["type","text","formControlName","profession","placeholder","Enter Profession number","value","",1,"form-control"],["type","text","formControlName","homePlace","placeholder","enter address line 2","value","",1,"form-control"],["type","text","formControlName","phone","placeholder","enter phone line 2","value","",1,"form-control"],["type","text","formControlName","urlGitHub","placeholder","enter urlGitHub line 2","value","",1,"form-control"],["type","text","formControlName","urlTwitter","placeholder","enter urlTwitter line 2","value","",1,"form-control"],["type","text","formControlName","country","placeholder","country","value","",1,"form-control"],["type","text","formControlName","state","value","","placeholder","state",1,"form-control"],["type","text","formControlName","city","placeholder","enter address line 2","value","",1,"form-control"],[1,"mt-5","text-center"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"col-12","offset-md-4","col-md-6"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"p-3","py-5"],[1,"d-flex","justify-content-between","align-items-center","experience"],["type","file","name","profile_pic2","id","newProfilePhoto2","accept","image/*",1,"uploadProfileInput",2,"opacity","0","display","none",3,"change"],["for","newProfilePhoto2",1,"upload-file-block"],["type","text","formControlName","fullName","placeholder","fullName","value","",1,"form-control"],["type","text","formControlName","address","placeholder","address","value","",1,"form-control"],["type","text","formControlName","phone","placeholder","phone","value","",1,"form-control"],["type","text","formControlName","mobile","placeholder","mobile","value","",1,"form-control"],["type","text","formControlName","jobDetails","placeholder","jobDetails","value","",1,"form-control"],["type","text","formControlName","eductionDetails","placeholder","eductionDetails","value","",1,"form-control"],["type","text","formControlName","gender","placeholder","gender","value","",1,"form-control"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"form",2),o.NdJ("ngSubmit",function(){return r.onSubmit()}),o.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"Input",6),o.NdJ("change",function(s){return r.handleFileInput(s.target,"profile")}),o.qZA(),o.TgZ(7,"label",7)(8,"div",8)(9,"div",9),o._UZ(10,"img",10),o.ALo(11,"async"),o.qZA()()()(),o.TgZ(12,"span",11),o._uU(13),o.ALo(14,"titleCase"),o.ALo(15,"titleCase"),o.qZA(),o.TgZ(16,"span",12),o._uU(17),o.qZA(),o._UZ(18,"span"),o.qZA()(),o.TgZ(19,"div",13)(20,"div",14)(21,"div",15)(22,"h4",16),o._uU(23,"Profile Settings"),o.qZA()(),o.TgZ(24,"div",17)(25,"div",18)(26,"label",19),o._uU(27,"First Name"),o.qZA(),o._UZ(28,"input",20),o.qZA(),o.TgZ(29,"div",18)(30,"label",19),o._uU(31,"Last Name"),o.qZA(),o._UZ(32,"input",21),o.qZA()(),o.TgZ(33,"div",22)(34,"div",23)(35,"label",19),o._uU(36,"profession"),o.qZA(),o._UZ(37,"input",24),o.qZA(),o.TgZ(38,"div",23)(39,"label",19),o._uU(40,"homePlace"),o.qZA(),o._UZ(41,"input",25),o.qZA(),o.TgZ(42,"div",23)(43,"label",19),o._uU(44,"phone"),o.qZA(),o._UZ(45,"input",26),o.qZA(),o.TgZ(46,"div",23)(47,"label",19),o._uU(48,"urlGitHub"),o.qZA(),o._UZ(49,"input",27),o.qZA(),o.TgZ(50,"div",23)(51,"label",19),o._uU(52,"urlTwitter"),o.qZA(),o._UZ(53,"input",28),o.qZA()(),o.TgZ(54,"div",22)(55,"div",18)(56,"label",19),o._uU(57,"Country"),o.qZA(),o._UZ(58,"input",29),o.qZA(),o.TgZ(59,"div",18)(60,"label",19),o._uU(61,"State/Region"),o.qZA(),o._UZ(62,"input",30),o.qZA(),o.TgZ(63,"div",23)(64,"label",19),o._uU(65,"City"),o.qZA(),o._UZ(66,"input",31),o.qZA()(),o.TgZ(67,"div",32)(68,"button",33),o._uU(69," Save Profile "),o.qZA()()()()(),o.TgZ(70,"div",34),o.YNc(71,WG,46,5,"form",35),o.qZA()()()),2&t&&(o.xp6(2),o.Q6J("formGroup",r.form),o.xp6(8),o.Q6J("src",o.lcZ(11,6,r.form.get("profilePic").value),o.LSH),o.xp6(3),o.Oqu(o.lcZ(14,8,r.form.get("firstName").value)+" "+o.lcZ(15,10,r.form.get("lastName").value)),o.xp6(4),o.Oqu(r.form.get("email").value),o.xp6(51),o.Q6J("disabled",r.viewMode),o.xp6(3),o.Q6J("ngIf",r.form2))},dependencies:[Hs,Ua,jl,Zs,ql,Kh,en,by,oc,uA],styles:["body[_ngcontent-%COMP%]{background:rgb(99,39,120)}.form-control[_ngcontent-%COMP%]:focus{box-shadow:none;border-color:#ba68c8}.profile-button[_ngcontent-%COMP%]{background:rgb(99,39,120);box-shadow:none;border:none}.profile-button[_ngcontent-%COMP%]:hover{background:#682773}.profile-button[_ngcontent-%COMP%]:focus{background:#682773;box-shadow:none}.profile-button[_ngcontent-%COMP%]:active{background:#682773;box-shadow:none}.back[_ngcontent-%COMP%]:hover{color:#682773;cursor:pointer}.labels[_ngcontent-%COMP%]{font-size:14px}.add-experience[_ngcontent-%COMP%]:hover{background:#BA68C8;color:#fff;cursor:pointer;border:solid 1px #BA68C8}.profile-pic[_ngcontent-%COMP%]{object-fit:cover;display:block;vertical-align:middle;background-size:cover;width:190px;height:190px;background-position:50% 50%;margin:0 auto 0 0}form[_ngcontent-%COMP%]{display:contents}.labels[_ngcontent-%COMP%]{padding:10px 0}@media (max-width: 768px){.labels[_ngcontent-%COMP%]{font-size:1.2rem;padding:10px 0;font-weight:100}input[_ngcontent-%COMP%]{color:#aaaeb3}}"]}),n})(),zG=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-request-documents"]],decls:201,vars:0,consts:[[1,"container"],[1,"py-5","text-center"],["src","https://getbootstrap.com/docs/4.0/assets/brand/bootstrap-solid.svg","alt","","width","72","height","72",1,"d-block","mx-auto","mb-4"],[1,"lead"],[1,"row"],[1,"col-md-4","order-md-2","mb-4"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-muted"],[1,"badge","badge-secondary","badge-pill"],[1,"list-group","mb-3"],[1,"list-group-item","d-flex","justify-content-between","lh-condensed"],[1,"my-0"],[1,"list-group-item","d-flex","justify-content-between","bg-light"],[1,"text-success"],[1,"list-group-item","d-flex","justify-content-between"],[1,"card","p-2"],[1,"input-group"],["type","text","placeholder","Promo code",1,"form-control"],[1,"input-group-append"],["type","submit",1,"btn","btn-secondary"],[1,"col-md-8","order-md-1"],[1,"mb-3"],["novalidate","",1,"needs-validation"],[1,"col-md-6","mb-3"],["for","firstName"],["type","text","id","firstName","placeholder","","value","","required","",1,"form-control"],[1,"invalid-feedback"],["for","lastName"],["type","text","id","lastName","placeholder","","value","","required","",1,"form-control"],["for","username"],[1,"input-group-prepend"],[1,"input-group-text"],["type","text","id","username","placeholder","Username","required","",1,"form-control"],[1,"invalid-feedback",2,"width","100%"],["for","email"],["type","email","id","email","placeholder","you@example.com",1,"form-control"],["for","address"],["type","text","id","address","placeholder","1234 Main St","required","",1,"form-control"],["for","address2"],["type","text","id","address2","placeholder","Apartment or suite",1,"form-control"],[1,"col-md-5","mb-3"],["for","country"],["id","country","required","",1,"custom-select","d-block","w-100"],["value",""],[1,"col-md-4","mb-3"],["for","state"],["id","state","required","",1,"custom-select","d-block","w-100"],[1,"col-md-3","mb-3"],["for","zip"],["type","text","id","zip","placeholder","","required","",1,"form-control"],[1,"mb-4"],[1,"custom-control","custom-checkbox"],["type","checkbox","id","same-address",1,"custom-control-input"],["for","same-address",1,"custom-control-label"],["type","checkbox","id","save-info",1,"custom-control-input"],["for","save-info",1,"custom-control-label"],[1,"d-block","my-3"],[1,"custom-control","custom-radio"],["id","credit","name","paymentMethod","type","radio","checked","","required","",1,"custom-control-input"],["for","credit",1,"custom-control-label"],["id","debit","name","paymentMethod","type","radio","required","",1,"custom-control-input"],["for","debit",1,"custom-control-label"],["id","paypal","name","paymentMethod","type","radio","required","",1,"custom-control-input"],["for","paypal",1,"custom-control-label"],["for","cc-name"],["type","text","id","cc-name","placeholder","","required","",1,"form-control"],["for","cc-number"],["type","text","id","cc-number","placeholder","","required","",1,"form-control"],["for","cc-expiration"],["type","text","id","cc-expiration","placeholder","","required","",1,"form-control"],["type","text","id","cc-cvv","placeholder","","required","",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block"],[1,"my-5","pt-5","text-muted","text-center","text-small"],[1,"mb-1"],[1,"list-inline"],[1,"list-inline-item"],["href","#"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0)(1,"div",1),o._UZ(2,"img",2),o.TgZ(3,"h2"),o._uU(4,"Checkout form"),o.qZA(),o.TgZ(5,"p",3),o._uU(6,"Below is an example form built entirely with Bootstrap's form controls. Each required form group has a validation state that can be triggered by attempting to submit the form without completing it."),o.qZA()(),o.TgZ(7,"div",4)(8,"div",5)(9,"h4",6)(10,"span",7),o._uU(11,"Your cart"),o.qZA(),o.TgZ(12,"span",8),o._uU(13,"3"),o.qZA()(),o.TgZ(14,"ul",9)(15,"li",10)(16,"div")(17,"h6",11),o._uU(18,"Product name"),o.qZA(),o.TgZ(19,"small",7),o._uU(20,"Brief description"),o.qZA()(),o.TgZ(21,"span",7),o._uU(22,"$12"),o.qZA()(),o.TgZ(23,"li",10)(24,"div")(25,"h6",11),o._uU(26,"Second product"),o.qZA(),o.TgZ(27,"small",7),o._uU(28,"Brief description"),o.qZA()(),o.TgZ(29,"span",7),o._uU(30,"$8"),o.qZA()(),o.TgZ(31,"li",10)(32,"div")(33,"h6",11),o._uU(34,"Third item"),o.qZA(),o.TgZ(35,"small",7),o._uU(36,"Brief description"),o.qZA()(),o.TgZ(37,"span",7),o._uU(38,"$5"),o.qZA()(),o.TgZ(39,"li",12)(40,"div",13)(41,"h6",11),o._uU(42,"Promo code"),o.qZA(),o.TgZ(43,"small"),o._uU(44,"EXAMPLECODE"),o.qZA()(),o.TgZ(45,"span",13),o._uU(46,"-$5"),o.qZA()(),o.TgZ(47,"li",14)(48,"span"),o._uU(49,"Total (USD)"),o.qZA(),o.TgZ(50,"strong"),o._uU(51,"$20"),o.qZA()()(),o.TgZ(52,"form",15)(53,"div",16),o._UZ(54,"input",17),o.TgZ(55,"div",18)(56,"button",19),o._uU(57,"Redeem"),o.qZA()()()()(),o.TgZ(58,"div",20)(59,"h4",21),o._uU(60,"Billing address"),o.qZA(),o.TgZ(61,"form",22)(62,"div",4)(63,"div",23)(64,"label",24),o._uU(65,"First name"),o.qZA(),o._UZ(66,"input",25),o.TgZ(67,"div",26),o._uU(68," Valid first name is required. "),o.qZA()(),o.TgZ(69,"div",23)(70,"label",27),o._uU(71,"Last name"),o.qZA(),o._UZ(72,"input",28),o.TgZ(73,"div",26),o._uU(74," Valid last name is required. "),o.qZA()()(),o.TgZ(75,"div",21)(76,"label",29),o._uU(77,"Username"),o.qZA(),o.TgZ(78,"div",16)(79,"div",30)(80,"span",31),o._uU(81,"@"),o.qZA()(),o._UZ(82,"input",32),o.TgZ(83,"div",33),o._uU(84," Your username is required. "),o.qZA()()(),o.TgZ(85,"div",21)(86,"label",34),o._uU(87,"Email "),o.TgZ(88,"span",7),o._uU(89,"(Optional)"),o.qZA()(),o._UZ(90,"input",35),o.TgZ(91,"div",26),o._uU(92," Please enter a valid email address for shipping updates. "),o.qZA()(),o.TgZ(93,"div",21)(94,"label",36),o._uU(95,"Address"),o.qZA(),o._UZ(96,"input",37),o.TgZ(97,"div",26),o._uU(98," Please enter your shipping address. "),o.qZA()(),o.TgZ(99,"div",21)(100,"label",38),o._uU(101,"Address 2 "),o.TgZ(102,"span",7),o._uU(103,"(Optional)"),o.qZA()(),o._UZ(104,"input",39),o.qZA(),o.TgZ(105,"div",4)(106,"div",40)(107,"label",41),o._uU(108,"Country"),o.qZA(),o.TgZ(109,"select",42)(110,"option",43),o._uU(111,"Choose..."),o.qZA(),o.TgZ(112,"option"),o._uU(113,"United States"),o.qZA()(),o.TgZ(114,"div",26),o._uU(115," Please select a valid country. "),o.qZA()(),o.TgZ(116,"div",44)(117,"label",45),o._uU(118,"State"),o.qZA(),o.TgZ(119,"select",46)(120,"option",43),o._uU(121,"Choose..."),o.qZA(),o.TgZ(122,"option"),o._uU(123,"California"),o.qZA()(),o.TgZ(124,"div",26),o._uU(125," Please provide a valid state. "),o.qZA()(),o.TgZ(126,"div",47)(127,"label",48),o._uU(128,"Zip"),o.qZA(),o._UZ(129,"input",49),o.TgZ(130,"div",26),o._uU(131," Zip code required. "),o.qZA()()(),o._UZ(132,"hr",50),o.TgZ(133,"div",51),o._UZ(134,"input",52),o.TgZ(135,"label",53),o._uU(136,"Shipping address is the same as my billing address"),o.qZA()(),o.TgZ(137,"div",51),o._UZ(138,"input",54),o.TgZ(139,"label",55),o._uU(140,"Save this information for next time"),o.qZA()(),o._UZ(141,"hr",50),o.TgZ(142,"h4",21),o._uU(143,"Payment"),o.qZA(),o.TgZ(144,"div",56)(145,"div",57),o._UZ(146,"input",58),o.TgZ(147,"label",59),o._uU(148,"Credit card"),o.qZA()(),o.TgZ(149,"div",57),o._UZ(150,"input",60),o.TgZ(151,"label",61),o._uU(152,"Debit card"),o.qZA()(),o.TgZ(153,"div",57),o._UZ(154,"input",62),o.TgZ(155,"label",63),o._uU(156,"Paypal"),o.qZA()()(),o.TgZ(157,"div",4)(158,"div",23)(159,"label",64),o._uU(160,"Name on card"),o.qZA(),o._UZ(161,"input",65),o.TgZ(162,"small",7),o._uU(163,"Full name as displayed on card"),o.qZA(),o.TgZ(164,"div",26),o._uU(165," Name on card is required "),o.qZA()(),o.TgZ(166,"div",23)(167,"label",66),o._uU(168,"Credit card number"),o.qZA(),o._UZ(169,"input",67),o.TgZ(170,"div",26),o._uU(171," Credit card number is required "),o.qZA()()(),o.TgZ(172,"div",4)(173,"div",47)(174,"label",68),o._uU(175,"Expiration"),o.qZA(),o._UZ(176,"input",69),o.TgZ(177,"div",26),o._uU(178," Expiration date required "),o.qZA()(),o.TgZ(179,"div",47)(180,"label",68),o._uU(181,"CVV"),o.qZA(),o._UZ(182,"input",70),o.TgZ(183,"div",26),o._uU(184," Security code required "),o.qZA()()(),o._UZ(185,"hr",50),o.TgZ(186,"button",71),o._uU(187,"Continue to checkout"),o.qZA()()()(),o.TgZ(188,"footer",72)(189,"p",73),o._uU(190,"\xa9 2017-2018 Company Name"),o.qZA(),o.TgZ(191,"ul",74)(192,"li",75)(193,"a",76),o._uU(194,"Privacy"),o.qZA()(),o.TgZ(195,"li",75)(196,"a",76),o._uU(197,"Terms"),o.qZA()(),o.TgZ(198,"li",75)(199,"a",76),o._uU(200,"Support"),o.qZA()()()()())},dependencies:[Hs,tg,ng,Zs,dd,by]}),n})(),KG=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-services"]],decls:48,vars:0,consts:[["id","services",1,"services","py-xs-1","py-md-5","mt-5"],[1,"container"],[1,"section-title"],[1,"row"],[1,"col-lg-4","col-md-6","col-6"],["routerLink","/Dashboard/Matrimony",1,"icon-box"],[1,"icon"],[1,"bx","bxl-dribbble"],[1,"col-lg-4","col-md-6","col-6","mt-6","mt-md-0"],[1,"icon-box"],[1,"bx","bx-file"],["href",""],[1,"bx","bx-tachometer"],[1,"bx","bx-world"],[1,"bx","bx-slideshow"],[1,"bx","bx-arch"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),o._uU(4,"Services"),o.qZA()(),o.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6),o._UZ(9,"i",7),o.qZA(),o.TgZ(10,"h4")(11,"a"),o._uU(12,"Matrimony"),o.qZA()()()(),o.TgZ(13,"div",8)(14,"div",9)(15,"div",6),o._UZ(16,"i",10),o.qZA(),o.TgZ(17,"h4")(18,"a",11),o._uU(19,"Farming and Agriculture"),o.qZA()()()(),o.TgZ(20,"div",4)(21,"div",9)(22,"div",6),o._UZ(23,"i",12),o.qZA(),o.TgZ(24,"h4")(25,"a",11),o._uU(26,"Health & Wellbeing"),o.qZA()()()(),o.TgZ(27,"div",4)(28,"div",9)(29,"div",6),o._UZ(30,"i",13),o.qZA(),o.TgZ(31,"h4")(32,"a",11),o._uU(33,"Job Alert"),o.qZA()()()(),o.TgZ(34,"div",4)(35,"div",9)(36,"div",6),o._UZ(37,"i",14),o.qZA(),o.TgZ(38,"h4")(39,"a",11),o._uU(40,"Community Support"),o.qZA()()()(),o.TgZ(41,"div",4)(42,"div",9)(43,"div",6),o._UZ(44,"i",15),o.qZA(),o.TgZ(45,"h4")(46,"a",11),o._uU(47,"Health & Wellbeing"),o.qZA()()()()()()())},dependencies:[ka],styles:["a[_ngcontent-%COMP%]:not([href]):not([class]), a[_ngcontent-%COMP%]:not([href]):not([class]):hover{text-decoration:none;color:#282828!important;cursor:pointer}"]}),n})();const YG=["dropdownRef"],QG=["navbar"];function JG(n,e){1&n&&(o.TgZ(0,"li",8)(1,"a",40),o._uU(2,"Membership"),o.qZA()())}const XG=function(n){return{"header-scrolled":n}};let e5=(()=>{class n{constructor(t,r,i){this._UserService=t,this.fileUploadService=i,this.isTrasHeader=!1,r.autoClose=!0}ngOnInit(){this.user=this._UserService.userValue||"",this.profilePic=this.fileUploadService.getUploadFileById(this.user.profilePic)}logout(){this._UserService.logout()}onHover(t){this.dropdown.toggle()}activateNavBar(){this.navbar.nativeElement.classList.toggle("navbar-mobile"),this.navbar.nativeElement.classList.toggle("bi-list"),this.navbar.nativeElement.classList.toggle("bi-x")}subMenuMobile(t){t.children[1].classList.toggle("dropdown-active")}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Uo),o.Y36(f),o.Y36(LT))},n.\u0275cmp=o.Xpm({type:n,selectors:[["post-header"]],viewQuery:function(t,r){if(1&t&&(o.Gf(YG,5,N),o.Gf(QG,5)),2&t){let i;o.iGM(i=o.CRH())&&(r.dropdown=i.first),o.iGM(i=o.CRH())&&(r.navbar=i.first)}},decls:87,vars:10,consts:[["id","header",1,"fixed-top",3,"ngClass"],[1,"container-fluid"],[1,"row","justify-content-center"],[1,"col-xl-12","d-flex","align-items-center","justify-content-lg-between"],[1,"logo","me-auto","me-lg-0"],["routerLink","/Dashboard/Home",2,"cursor","pointer"],["id","navbar",1,"navbar","order-last","order-lg-0"],["navbar",""],[1,"dropdown"],["routerLink","/Dashboard/Home"],["routerLink","/Dashboard/AboutUs"],["routerLink","/Dashboard/Members"],[1,"dropdown",3,"click"],["submenu1",""],["aria-hidden","true",1,"fa","fa-angle-down"],["routerLink","/Dashboard/Matrimony"],["href","#"],["submenu2",""],["routerLink","/Dashboard/Activities"],["class","dropdown",4,"ngIf"],["routerLink","/Dashboard/Contact",1,"dropdown"],["aria-hidden","true",1,"fa","fa-bars","mobile-nav-toggle",3,"click"],["id","profileDiv"],["ngbDropdown","",1,"dropdown","no-arrow",2,"padding-right","10px"],["dropdownRef",""],["aria-hidden","true",1,"fa","fa-bell"],[1,"badge","badge-light"],["ngbDropdown","",1,"dropdown","no-arrow"],["aria-haspopup","true","id","userDropdown","ngbDropdownToggle","",1,"nav-link","dropdown-toggle"],[1,"mr-2","d-none","d-lg-inline","text-gray-600","small"],[1,"img-profile","rounded-circle",3,"src"],["ngbDropdownMenu","","aria-labelledby","userDropdown",1,"dropdown-menu","dropdown-menu-right","shadow","animated--grow-in"],["ngbDropdownItem","","routerLink","/Dashboard/Profile",1,"dropdown-item"],[1,"fas","fa-user","fa-sm","fa-fw","mr-2","text-gray-400"],["ngbDropdownItem","",1,"dropdown-item"],[1,"fas","fa-cogs","fa-sm","fa-fw","mr-2","text-gray-400"],[1,"fas","fa-list","fa-sm","fa-fw","mr-2","text-gray-400"],[1,"dropdown-divider"],["ngbDropdownItem","",1,"dropdown-item",3,"click"],[1,"fas","fa-sign-out-alt","fa-sm","fa-fw","mr-2","text-gray-400"],["routerLink","/Dashboard/Membership"]],template:function(t,r){if(1&t){const i=o.EpF();o.TgZ(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4)(5,"a",5),o._uU(6,"GAUD SAMAJ"),o.qZA()(),o.TgZ(7,"nav",6,7)(9,"ul")(10,"li",8)(11,"a",9)(12,"span"),o._uU(13,"Home"),o.qZA()()(),o.TgZ(14,"li",8)(15,"a",10)(16,"span"),o._uU(17,"About Us"),o.qZA()()(),o.TgZ(18,"li",8)(19,"a",11)(20,"span"),o._uU(21,"Members"),o.qZA()()(),o.TgZ(22,"li",12,13),o.NdJ("click",function(){o.CHM(i);const u=o.MAs(23);return o.KtG(r.subMenuMobile(u))}),o.TgZ(24,"a")(25,"span"),o._uU(26,"Services"),o.qZA(),o._UZ(27,"i",14),o.qZA(),o.TgZ(28,"ul")(29,"li",15)(30,"a"),o._uU(31,"Matrimony"),o.qZA()(),o.TgZ(32,"li")(33,"a",16),o._uU(34,"Agriculture & Farmers"),o.qZA()(),o.TgZ(35,"li")(36,"a",16),o._uU(37,"Healthcare"),o.qZA()(),o.TgZ(38,"li")(39,"a",16),o._uU(40,"Jobs"),o.qZA()()()(),o.TgZ(41,"li",12,17),o.NdJ("click",function(){o.CHM(i);const u=o.MAs(42);return o.KtG(r.subMenuMobile(u))}),o.TgZ(43,"a")(44,"span"),o._uU(45,"Activities"),o.qZA(),o._UZ(46,"i",14),o.qZA(),o.TgZ(47,"ul")(48,"li")(49,"a",18),o._uU(50,"Annual Activities"),o.qZA()(),o.TgZ(51,"li")(52,"a",16),o._uU(53,"Activities Reports"),o.qZA()()()(),o.YNc(54,JG,3,0,"li",19),o.TgZ(55,"li",20)(56,"a"),o._uU(57,"Contact"),o.qZA()()(),o.TgZ(58,"i",21),o.NdJ("click",function(){return r.activateNavBar()}),o.qZA()(),o.TgZ(59,"ul",22)(60,"li",23,24),o._UZ(62,"i",25),o.TgZ(63,"span",26),o._uU(64,"9"),o.qZA()(),o.TgZ(65,"li",27,24)(67,"a",28)(68,"span",29),o._uU(69),o.ALo(70,"titleCase"),o.qZA(),o._UZ(71,"img",30),o.ALo(72,"async"),o.qZA(),o.TgZ(73,"div",31)(74,"a",32),o._UZ(75,"i",33),o._uU(76," Profile "),o.qZA(),o.TgZ(77,"a",34),o._UZ(78,"i",35),o._uU(79," Settings "),o.qZA(),o.TgZ(80,"a",34),o._UZ(81,"i",36),o._uU(82," Activity Log "),o.qZA(),o._UZ(83,"div",37),o.TgZ(84,"a",38),o.NdJ("click",function(){return r.logout()}),o._UZ(85,"i",39),o._uU(86," Logout "),o.qZA()()()()()()()()}2&t&&(o.Q6J("ngClass",o.VKq(8,XG,!r.isTrasHeader)),o.xp6(54),o.Q6J("ngIf","true"!=r.user.active),o.xp6(15),o.Oqu(o.lcZ(70,4,r.user.firstName)),o.xp6(2),o.Q6J("src",o.lcZ(72,6,r.profilePic),o.LSH))},dependencies:[ka,Ra,N,x,w,b,_,Xt,en,by,oc,uA],styles:['.badge-danger[_ngcontent-%COMP%]{background-color:#009961}.img-profile[_ngcontent-%COMP%]{height:2rem;width:2rem;margin-left:10px;border:solid rgba(0,153,97,.3490196078) .2rem}.text-gray-600[_ngcontent-%COMP%]{color:#ffffffb3!important}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{font-size:.85rem}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]{font-weight:800;font-size:.65rem;color:#b7b9cc}.dropdown.no-arrow[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.sidebar[_ngcontent-%COMP%]   .nav-item.dropdown[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after, .topbar[_ngcontent-%COMP%]   .nav-item.dropdown[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{width:1rem;text-align:center;float:right;vertical-align:0;border:0;font-weight:900;content:"\\f105";font-family:"Font Awesome 5 Free"}.sidebar[_ngcontent-%COMP%]   .nav-item.dropdown.show[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after, .topbar[_ngcontent-%COMP%]   .nav-item.dropdown.show[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{content:"\\f107"}@media (min-width: 576px){.topbar[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{position:relative}.topbar[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{width:auto;right:0}.topbar[_ngcontent-%COMP%]   .dropdown-list[_ngcontent-%COMP%]{width:20rem!important}.topbar[_ngcontent-%COMP%]   .dropdown-list[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .text-truncate[_ngcontent-%COMP%]{max-width:13.375rem}}.dropdown.no-arrow[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none!important}.dropdown-menu[_ngcontent-%COMP%]{top:42%!important;left:-25px!important}#profileDiv[_ngcontent-%COMP%]{margin:5px 10px 5px 0;position:relative;left:-10px;color:#faebd7;display:flex;list-style:none;align-items:center;justify-content:space-between}#profileDiv[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#fff!important;transition:all .3s ease-in-out 0s}@media (max-width: 768px){.logo[_ngcontent-%COMP%]{font-size:1.2rem!important}#profileDiv[_ngcontent-%COMP%]{align-items:flex-start}#profileDiv[_ngcontent-%COMP%]   .fa-bell[_ngcontent-%COMP%]{color:#fff}#profileDiv[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:relative;top:-10px;left:-5px}.dropdown-menu[_ngcontent-%COMP%]{top:3.3rem!important;left:-10.6rem!important;min-width:14rem!important}.dropdown-item[_ngcontent-%COMP%]{display:block!important;width:100%;padding:1.5rem!important;clear:both;font-weight:400!important;color:#3a3b45!important;text-align:inherit;white-space:nowrap!important;background-color:transparent;border:0;font-size:20px}.nav-link[_ngcontent-%COMP%]{padding:0 1rem!important}.img-profile[_ngcontent-%COMP%]{position:absolute;left:-1rem;height:55px;width:55px;top:-.9rem}}.dropdown[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#ffffffb3!important}.dropdown[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#282828!important}']}),n})();const t5=function(n){return{mobileBtm:n}},n5=[{path:"Dashboard",component:(()=>{class n{constructor(t){this._UserService=t,this.mobileMenu=!1}logout(){this._UserService.logout()}hide(){this.mobileMenu=!1}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Uo))},n.\u0275cmp=o.Xpm({type:n,selectors:[["post-login-app-root"]],decls:47,vars:4,consts:[["id","main"],["id","logoutModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["href","login.html",1,"btn","btn-primary"],[1,"mobil-menu","container-menu",3,"ngClass"],["id","btn","type","checkbox",3,"ngModel","ngModelChange"],["for","btn"],[1,"menu"],["routerLink","/Dashboard/Home",1,"menu-item",3,"click"],["aria-hidden","true",1,"fa","fa-home"],["routerLink","/Dashboard/Members",1,"menu-item",3,"click"],["aria-hidden","true",1,"fa","fa-users"],[1,"menu-item"],[1,"icon"],["routerLink","/Dashboard/services",1,"menu-item",3,"click"],["aria-hidden","true",1,"fa","fa-bars"],[1,"menu-item",3,"click"],["aria-hidden","true",1,"fa","fa-sign-in"],["data-duration","10","data-delay","45","display","none","width","0","height","0","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["id","icon-star","width","24","height","23","viewBox","0 0 24 23"],["d","M3148.48,372.012a2.033,2.033,0,0,1-1.02-.29l-5.46-2.868-5.49,2.884a1.663,1.663,0,0,1-2.2-.326,1.751,1.751,0,0,1-.33-1.052,2.816,2.816,0,0,1,.04-0.411l1.05-6.135-4.45-4.328a1.993,1.993,0,0,1-.63-1.344,1.616,1.616,0,0,1,1.58-1.588l6.15-.894,2.75-5.565A1.653,1.653,0,0,1,3142,349a1.678,1.678,0,0,1,1.55,1.116l2.74,5.543,6.13,0.892a1.613,1.613,0,0,1,1.59,1.59,1.89,1.89,0,0,1-.63,1.335l-4.45,4.336,1.06,6.113c0.01,0.125.02,0.258,0.02,0.434a1.791,1.791,0,0,1-.32,1.048A1.455,1.455,0,0,1,3148.48,372.012Zm-6.48-5.395,5.95,3.127-1.14-6.621,4.8-4.689-6.63-.965-2.98-6.016-2.97,6.016-6.65.967,4.82,4.686-1.14,6.621Z","transform","translate(-3130 -349)",1,"cls-1"],["id","icon-email","width","26px","height","21px","viewBox","0 0 26 21"],["d","M3406.8,2205h-22.01a1.625,1.625,0,0,1-1.8-1.74V2192a1.01,1.01,0,0,1,2.02,0v11h21.79a1.248,1.248,0,0,0,.21-0.02V2192a1,1,0,1,1,1.99,0v11.26C3409,2204.3,3408.11,2205,3406.8,2205Zm-11.03-9.05a2.13,2.13,0,0,1-1.25-.39l-0.01-.01-10.69-7.85a1.954,1.954,0,0,1-.73-2.22,2.134,2.134,0,0,1,2.06-1.48h21.42a2.134,2.134,0,0,1,2.06,1.48,1.974,1.974,0,0,1-.73,2.23l-10.73,7.78A2.369,2.369,0,0,1,3395.77,2195.95Zm-0.09-2.02a0.7,0.7,0,0,0,.47-0.06l10.86-7.79v0.01a2.277,2.277,0,0,0-.44-0.09h-21.42a0.141,0.141,0,0,0-.17.1Z","transform","translate(-3383 -2184)",1,"cls-1"],["id","icon-man","width","21","height","22","viewBox","0 0 21 22"],["d","M3141.5,290a5.5,5.5,0,1,1,5.51-5.5A5.517,5.517,0,0,1,3141.5,290Zm0-8.967a3.469,3.469,0,1,0,3.48,3.469A3.478,3.478,0,0,0,3141.5,281.03ZM3151.99,301h-20.98v-0.957c0-3.89,4.7-7.055,10.49-7.055s10.49,3.165,10.49,7.055V301ZM3133,299h17c-0.76-2.348-4.44-4.1-8.5-4.1S3133.76,296.652,3133,299Z","transform","translate(-3131 -279)",1,"cls-1"],["id","icon-fly","width","22","height","21","viewBox","0 0 22 21"],["d","M3140.77,231a2.235,2.235,0,0,1-.4-0.046,1.819,1.819,0,0,1-1.07-.682A2.146,2.146,0,0,1,3139,229v-7h-7c-1.06,0-1.68-.05-1.95-1.23a1.918,1.918,0,0,1,.12-1.207,1.849,1.849,0,0,1,.87-0.9l18.25-8.474a1.9,1.9,0,0,1,2.18.37,1.834,1.834,0,0,1,.32,2.159l-9.36,17.24A1.777,1.777,0,0,1,3140.77,231Zm0.23-11v8l8.82-15.837L3133,220h8Z","transform","translate(-3130 -210)",1,"cls-1"],["id","iphone","viewBox","0 0 221 464"],["id","Page-1","stroke","none","stroke-width","1","fill","#fff","fill-rule","evenodd",0,"sketch","type","MSPage"],["d","M3,164 L0,164 L0,147 L3,147 L3,126 L0,126 L0,109 L3,109 L3,87 L0,87 L0,66 L3,66 L3,34.0058827 C3,16.3333538 17.3228613,2 34.9910061,2 L149,2 L149,0 L185,0 L185,2 L189.008994,2 C206.675354,2 221,16.3295218 221,34.0058827 L221,431.994117 C221,449.666646 206.677139,464 189.008994,464 L34.9910061,464 C17.3246455,464 3,449.670478 3,431.994117 L3,164 Z M94.0088498,40 C93.4516774,40 93,40.4433532 93,41.0093689 L93,42.9906311 C93,43.5480902 93.4508527,44 93.9996148,44 L116.404905,44 L128.992078,44 C129.548738,44 130,43.5566468 130,42.9906311 L130,41.0093689 C130,40.4519098 129.558697,40 128.99115,40 L94.0088498,40 Z M111.5,29 C113.985281,29 116,26.9852815 116,24.5 C116,22.0147185 113.985281,20 111.5,20 C109.014719,20 107,22.0147185 107,24.5 C107,26.9852815 109.014719,29 111.5,29 Z M17.9944647,66 C16.8929523,66 16,66.9024743 16,68.0096543 L16,398.990346 C16,400.100247 16.8987528,401 17.9944647,401 L206.005535,401 C207.107048,401 208,400.097526 208,398.990346 L208,68.0096543 C208,66.8997529 207.101247,66 206.005535,66 L17.9944647,66 Z M112,450 C122.493411,450 131,441.493411 131,431 C131,420.506589 122.493411,412 112,412 C101.506589,412 93,420.506589 93,431 C93,441.493411 101.506589,450 112,450 Z M81,45 C82.6568543,45 84,43.6568543 84,42 C84,40.3431457 82.6568543,39 81,39 C79.3431457,39 78,40.3431457 78,42 C78,43.6568543 79.3431457,45 81,45 Z M112,448 C121.388841,448 129,440.388841 129,431 C129,421.611159 121.388841,414 112,414 C102.611159,414 95,421.611159 95,431 C95,440.388841 102.611159,448 112,448 Z",0,"sketch","type","MSShapeGroup"]],template:function(t,r){1&t&&(o._UZ(0,"post-header"),o.TgZ(1,"main",0),o._UZ(2,"router-outlet"),o.qZA(),o.TgZ(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"h5",5),o._uU(8,"Ready to Leave?"),o.qZA(),o.TgZ(9,"button",6)(10,"span",7),o._uU(11,"\xd7"),o.qZA()()(),o.TgZ(12,"div",8),o._uU(13,' Select "Logout" below if you are ready to end your current session. '),o.qZA(),o.TgZ(14,"div",9)(15,"button",10),o._uU(16," Cancel "),o.qZA(),o.TgZ(17,"a",11),o._uU(18,"Logout"),o.qZA()()()()(),o.TgZ(19,"div",12)(20,"input",13),o.NdJ("ngModelChange",function(s){return r.mobileMenu=s}),o.qZA(),o._UZ(21,"label",14),o.TgZ(22,"div",15)(23,"div",16),o.NdJ("click",function(){return r.hide()}),o._UZ(24,"i",17),o.qZA(),o.TgZ(25,"a",18),o.NdJ("click",function(){return r.hide()}),o._UZ(26,"i",19),o.qZA(),o.TgZ(27,"div",20),o._UZ(28,"div",21),o.qZA(),o.TgZ(29,"div",22),o.NdJ("click",function(){return r.hide()}),o._UZ(30,"i",23),o.qZA(),o.TgZ(31,"a",24),o.NdJ("click",function(){return r.logout()})("click",function(){return r.hide()}),o.TgZ(32,"a"),o._UZ(33,"i",25),o.qZA()()()(),o.O4$(),o.TgZ(34,"svg",26)(35,"defs")(36,"symbol",27),o._UZ(37,"path",28),o.qZA(),o.TgZ(38,"symbol",29),o._UZ(39,"path",30),o.qZA(),o.TgZ(40,"symbol",31),o._UZ(41,"path",32),o.qZA(),o.TgZ(42,"symbol",33),o._UZ(43,"path",34),o.qZA(),o.TgZ(44,"symbol",35)(45,"g",36),o._UZ(46,"path",37),o.qZA()()()()),2&t&&(o.xp6(19),o.Q6J("ngClass",o.VKq(2,t5,r.mobileMenu)),o.xp6(1),o.Q6J("ngModel",r.mobileMenu))},dependencies:[po,ka,Ra,b_,jl,$l,Xt,e5],styles:['#content[_ngcontent-%COMP%]{height:100vh;overflow:hidden;background-color:#f2f8ff}@media (max-width: 768px){#main[_ngcontent-%COMP%]{margin-top:4rem}}.icon[_ngcontent-%COMP%]{transition:all .3s}.icon-fly[_ngcontent-%COMP%]{width:22px;height:21px}.icon-man[_ngcontent-%COMP%]{width:21px;height:22px}.icon-star[_ngcontent-%COMP%]{width:24px;height:23px}.icon-email-menu[_ngcontent-%COMP%]{width:27px;height:21px}.container-menu[_ngcontent-%COMP%]{position:fixed;left:49%;right:0;bottom:10px;width:320px;margin-left:-160px;background-color:#0d1a25}.container-menu[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{display:none}.container-menu[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{cursor:pointer;position:absolute;z-index:2;left:50%;margin-left:-36px;bottom:-6px;width:70px;height:70px;border-radius:50%;display:block;background-color:#0099616e;background:-webkit-linear-gradient(-90deg,#009961 0%,#009961 100%);box-shadow:0 0 40px 4px #327a60ba,0 0 0 2px #ffffff30 inset;transition:all .3s}.container-menu[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:hover{background:-webkit-linear-gradient(-90deg,#009961 0%,#009961 100%);box-shadow:0 0 20px 4px #327a60ba,0 0 0 2px #ffffff30 inset}.container-menu[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:before{position:absolute;top:11px;left:22px;content:"+";color:#fff;font-size:47px;font-weight:100;transform:rotate(0);display:block;line-height:1}.container-menu[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{transform:rotate(45deg)}.container-menu[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:hover{background:-webkit-linear-gradient(-90deg,#009961 0%,#009961 100%)}.container-menu[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%] + .menu[_ngcontent-%COMP%]{width:100vw;margin-left:-49vw;bottom:-5px;padding:6px;box-shadow:0 0 18px 1px #0099616e,0 0 0 2px #ffffff30 inset}.container-menu[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%] + .menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{opacity:1;animation:item .5s forwards ease-in-out;transition:all .3s}.container-menu[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%] + .menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:.5}.container-menu[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%] + .menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{opacity:1}.menu[_ngcontent-%COMP%]{position:absolute;left:50%;right:0;bottom:50%;width:35px;margin-left:-17px;background-color:#009961;text-align:center;font-size:0;padding:0 10px;border-radius:10px;box-shadow:0 0 0 4px #327a60ba,0 0 0 2px #ffffff30 inset;overflow:hidden;transition:all .3s}.menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{position:relative;display:inline-block;vertical-align:bottom;width:20%;height:100%;padding:17px 0;opacity:0;transition:all .6s}.menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#fff}@keyframes item{0%{opacity:0}40%{opacity:0}60%{opacity:1}}.menu-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;display:contents;color:#fff}']}),n})(),canActivate:[nG],children:[{path:"",component:aL},{path:"AboutUs",component:t0},{path:"Home",component:aL},{path:"Members",component:UG},{path:"Documents",component:zG},{path:"Matrimony",component:MG},{path:"Contact",component:zw},{path:"Membership",component:$G},{path:"Activities",component:rG},{path:"Profile",component:uL},{path:"Profile/View/:id",component:uL},{path:"services",component:KG}]}];let r5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[La.forChild(n5),La]}),n})(),i5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[hl],imports:[r5,oL,Zw,zl,Wl,An,sL]}),n})();var Ei=F(2011),dA=F(6787),jb=F(7770),o5=F(341),s5=F(5283);class a5 extends Nn.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new c5(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,r=t?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,s=r.length;let u;if(this.closed)throw new os.N;if(this.isStopped||this.hasError?u=yh.w.EMPTY:(this.observers.push(e),u=new s5.W(this,e)),i&&e.add(e=new jb.ht(e,i)),t)for(let h=0;h<s&&!e.closed;h++)e.next(r[h]);else for(let h=0;h<s&&!e.closed;h++)e.next(r[h].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),u}_getNow(){return(this.scheduler||o5.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,r=this._windowTime,i=this._events,s=i.length;let u=0;for(;u<s&&!(e-i[u].time<r);)u++;return s>t&&(u=Math.max(u,s-t)),u>0&&i.splice(0,u),i}}class c5{constructor(e,t){this.time=e,this.value=t}}function dL(n,e,t){let r;return r=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},i=>i.lift(function l5({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:r}){let i,u,s=0,h=!1,g=!1;return function(D){let I;s++,!i||h?(h=!1,i=new a5(n,e,r),I=i.subscribe(this),u=D.subscribe({next(O){i.next(O)},error(O){h=!0,i.error(O)},complete(){g=!0,u=void 0,i.complete()}}),g&&(u=void 0)):I=i.subscribe(this),this.add(()=>{s--,I.unsubscribe(),I=void 0,u&&!g&&t&&0===s&&(u.unsubscribe(),u=void 0,i=void 0)})}}(r))}function hL(n,e){return e?fn(()=>n,e):fn(()=>n)}var hA=F(2899),gn=F(263);F(259);var pe=F(5861),Vo=F(9681),Qc=F(4859),R=F(2090),Jc=F(1877);const pA=new Map,pL={activated:!1,tokenObservers:[]},p5={initialized:!1,enabled:!1};function qi(n){return pA.get(n)||Object.assign({},pL)}function VT(){return p5}class b5{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,pe.Z)(function*(){t.stop();try{t.pending=new R.BH,yield function C5(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new R.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Bo=new R.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function mL(n){if(!qi(n).activated)throw Bo.create("use-before-activation",{appName:n.name})}function _A(n,e){return yA.apply(this,arguments)}function yA(){return(yA=(0,pe.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const I=yield i.getHeartbeatsHeader();I&&(r["X-Firebase-Client"]=I)}const s={method:"POST",body:JSON.stringify(e),headers:r};let u,h;try{u=yield fetch(n,s)}catch(I){throw Bo.create("fetch-network-error",{originalErrorMessage:I?.message})}if(200!==u.status)throw Bo.create("fetch-status-error",{httpStatus:u.status});try{h=yield u.json()}catch(I){throw Bo.create("fetch-parse-error",{originalErrorMessage:I?.message})}const g=h.ttl.match(/^([\d.]+)(s)$/);if(!g||!g[2]||isNaN(Number(g[1])))throw Bo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const v=1e3*Number(g[1]),D=Date.now();return{token:h.token,expireTimeMillis:D+v,issuedAtTimeMillis:D}})).apply(this,arguments)}function E5(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Gb="firebase-app-check-store";let HT=null;function yL(){return HT||(HT=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Bo.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Gb,{keyPath:"compositeKey"})}}catch(t){e(Bo.create("storage-open",{originalErrorMessage:t?.message}))}}),HT)}function vA(){return(vA=(0,pe.Z)(function*(n,e){const r=(yield yL()).transaction(Gb,"readwrite"),s=r.objectStore(Gb).put({compositeKey:n,value:e});return new Promise((u,h)=>{s.onsuccess=g=>{u()},r.onerror=g=>{var v;h(Bo.create("storage-set",{originalErrorMessage:null===(v=g.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const $b=new Jc.Yd("@firebase/app-check");function wA(n,e){return(0,R.hl)()?function x5(n,e){return function vL(n,e){return vA.apply(this,arguments)}(function CL(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{$b.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function wL(){return VT().enabled}function DL(){return TA.apply(this,arguments)}function TA(){return(TA=(0,pe.Z)(function*(){const n=VT();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const R5={error:"UNKNOWN_ERROR"};function F5(n){return R.US.encodeString(JSON.stringify(n),!1)}function jT(n){return EA.apply(this,arguments)}function EA(){return(EA=(0,pe.Z)(function*(n,e=!1){const t=n.app;mL(t);const r=qi(t);let s,i=r.token;if(i&&!Cy(i)&&(r.token=void 0,i=void 0),!i){const g=yield r.cachedTokenPromise;g&&(Cy(g)?i=g:yield wA(t,void 0))}if(!e&&i&&Cy(i))return{token:i.token};let h,u=!1;if(wL()){r.exchangeTokenPromise||(r.exchangeTokenPromise=_A(E5(t,yield DL()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),u=!0);const g=yield r.exchangeTokenPromise;return yield wA(t,g),r.token=g,{token:g.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),u=!0),i=yield qi(t).exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?$b.warn(g.message):$b.error(g),s=g}return i?s?h=Cy(i)?{token:i.token,internalError:s}:IL(s):(h={token:i.token},r.token=i,yield wA(t,i)):h=IL(s),u&&EL(t,h),h})).apply(this,arguments)}function SA(n,e){const t=qi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function TL(n){const{app:e}=n,t=qi(e);let r=t.tokenRefresher;r||(r=function L5(n){const{app:e}=n;return new b5((0,pe.Z)(function*(){let r;if(r=qi(e).token?yield jT(n,!0):yield jT(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=qi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function EL(n,e){const t=qi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Cy(n){return n.expireTimeMillis-Date.now()>0}function IL(n){return{token:F5(R5),error:n}}class U5{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=qi(this.app);for(const t of e)SA(this.app,t.next);return Promise.resolve()}}const kL="app-check-internal";!function J5(){(0,Vo._registerComponent)(new Qc.wA("app-check",n=>function V5(n,e){return new U5(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(kL).initialize()})),(0,Vo._registerComponent)(new Qc.wA(kL,n=>function B5(n){return{getToken:e=>jT(n,e),addTokenListener:e=>function IA(n,e,t,r){const{app:i}=n,s=qi(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&Cy(s.token)){const h=s.token;Promise.resolve().then(()=>{t({token:h.token}),TL(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>TL(n))}(n,"INTERNAL",e),removeTokenListener:e=>SA(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Vo.registerVersion)("@firebase/app-check","0.6.0")}();class qb{constructor(){return(0,gn.vb)("app-check")}}typeof window<"u"&&window;var $T=F(9260);const PA=new o.OlP("angularfire2.auth.use-emulator"),NA=new o.OlP("angularfire2.auth.settings"),kA=new o.OlP("angularfire2.auth.tenant-id"),RA=new o.OlP("angularfire2.auth.langugage-code"),FA=new o.OlP("angularfire2.auth.use-device-language"),LA=new o.OlP("angularfire.auth.persistence"),UA=(n,e,t,r,i,s,u,h)=>(0,Ei.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=e.runOutsideAngular(()=>n.auth());if(t&&g.useEmulator(...t),r&&(g.tenantId=r),g.languageCode=i,s&&g.useDeviceLanguage(),u)for(const[v,D]of Object.entries(u))g.settings[v]=D;return h&&g.setPersistence(h),g},[t,r,i,s,u,h]);let qT=(()=>{class n{constructor(t,r,i,s,u,h,g,v,D,I,O,k){const Z=new Nn.xQ,z=(0,Qe.of)(void 0).pipe((0,jb.QV)(u.outsideAngular),fn(()=>s.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,8852)))),(0,Je.U)(()=>(0,Ei.on)(t,s,r)),(0,Je.U)(ie=>UA(ie,s,h,v,D,I,g,O)),dL({bufferSize:1,refCount:!1}));if(lc(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Qe.of)(null);else{z.pipe(Yr()).subscribe();const be=z.pipe(fn(Pe=>Pe.getRedirectResult().then(Ve=>Ve,()=>null)),gn.iC,dL({bufferSize:1,refCount:!1})),Oe=z.pipe(fn(Pe=>new fr.y(Ve=>({unsubscribe:s.runOutsideAngular(()=>Pe.onAuthStateChanged($e=>Ve.next($e),$e=>Ve.error($e),()=>Ve.complete()))})))),Le=z.pipe(fn(Pe=>new fr.y(Ve=>({unsubscribe:s.runOutsideAngular(()=>Pe.onIdTokenChanged($e=>Ve.next($e),$e=>Ve.error($e),()=>Ve.complete()))}))));this.authState=be.pipe(hL(Oe),(0,hA.R)(u.outsideAngular),(0,jb.QV)(u.insideAngular)),this.user=be.pipe(hL(Le),(0,hA.R)(u.outsideAngular),(0,jb.QV)(u.insideAngular)),this.idToken=this.user.pipe(fn(Pe=>Pe?(0,tn.D)(Pe.getIdToken()):(0,Qe.of)(null))),this.idTokenResult=this.user.pipe(fn(Pe=>Pe?(0,tn.D)(Pe.getIdTokenResult()):(0,Qe.of)(null))),this.credential=(0,dA.T)(be,Z,this.authState.pipe(U(Pe=>!Pe))).pipe((0,Je.U)(Pe=>Pe?.user?Pe:null),(0,hA.R)(u.outsideAngular),(0,jb.QV)(u.insideAngular))}return(0,Ei.pX)(this,z,s,{spy:{apply:(ie,be,Oe)=>{(ie.startsWith("signIn")||ie.startsWith("createUser"))&&Oe.then(Le=>Z.next(Le))}}})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Ei.Dh),o.LFG(Ei.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(gn.HU),o.LFG(PA,8),o.LFG(NA,8),o.LFG(kA,8),o.LFG(RA,8),o.LFG(FA,8),o.LFG(LA,8),o.LFG(qb,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),i8=(()=>{class n{constructor(){$T.Z.registerVersion("angularfire",gn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[qT]}),n})();class s8{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new a8(e,this.dueTime,this.scheduler))}}class a8 extends Qn.L{constructor(e,t,r){super(e),this.dueTime=t,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(c8,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function c8(n){n.debouncedNext()}var VA=F(3942);const FL="firebasestorage.googleapis.com",LL="storageBucket";class Ar extends R.ZR{constructor(e,t,r=0){super(BA(e),`Firebase Storage: ${t} (${BA(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ar.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return BA(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function BA(n){return"storage/"+n}function ZA(){return new Ar("unknown","An unknown error occurred, please check the error payload for server response.")}function UL(){return new Ar("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function VL(){return new Ar("canceled","User canceled the upload/download.")}function BL(){return new Ar("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function wy(n){return new Ar("invalid-argument",n)}function ZL(){return new Ar("app-deleted","The Firebase app was deleted.")}function HL(n){return new Ar("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Wb(n,e){return new Ar("invalid-format","String does not match format '"+n+"': "+e)}function zb(n){throw new Ar("internal-error","Internal error: "+n)}class vo{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=vo.makeFromUrl(e,t)}catch{return new vo(e,"")}if(""===r.path)return r;throw function y8(n){return new Ar("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+i+"(/(.*))?$","i");function v(Pe){Pe.path_=decodeURIComponent(Pe.path)}const I=t.replace(/[.]/g,"\\."),Le=[{regex:h,indices:{bucket:1,path:3},postModify:function s(Pe){"/"===Pe.path.charAt(Pe.path.length-1)&&(Pe.path_=Pe.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${I}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${t===FL?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let Pe=0;Pe<Le.length;Pe++){const Ve=Le[Pe],$e=Ve.regex.exec(e);if($e){let Zt=$e[Ve.indices.path];Zt||(Zt=""),r=new vo($e[Ve.indices.bucket],Zt),Ve.postModify(r);break}}if(null==r)throw function _8(n){return new Ar("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class D8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function WT(n){return"string"==typeof n||n instanceof String}function jL(n){return HA()&&n instanceof Blob}function HA(){return typeof Blob<"u"&&!(0,R.UG)()}function jA(n,e,t,r){if(r<e)throw wy(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw wy(`Invalid value for '${n}'. Expected ${t} or less.`)}function Td(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function GL(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var _f=(()=>{return(n=_f||(_f={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",_f;var n})();function $L(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||i||s}class x8{constructor(e,t,r,i,s,u,h,g,v,D,I,O=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=g,this.timeout_=v,this.progressCallback_=D,this.connectionFactory_=I,this.retry=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,Z)=>{this.resolve_=k,this.reject_=Z,this.start_()})}start_(){const t=(r,i)=>{const s=this.resolve_,u=this.reject_,h=i.connection;if(i.wasSuccessCode)try{const g=this.callback_(h,h.getResponse());!function I8(n){return void 0!==n}(g)?s():s(g)}catch(g){u(g)}else if(null!==h){const g=ZA();g.serverResponse=h.getErrorText(),u(this.errorCallback_?this.errorCallback_(h,g):g)}else u(i.canceled?this.appDelete_?ZL():VL():UL())};this.canceled_?t(0,new zT(!1,null,!0)):this.backoffId_=function T8(n,e,t){let r=1,i=null,s=null,u=!1,h=0;function g(){return 2===h}let v=!1;function D(...ie){v||(v=!0,e.apply(null,ie))}function I(ie){i=setTimeout(()=>{i=null,n(k,g())},ie)}function O(){s&&clearTimeout(s)}function k(ie,...be){if(v)return void O();if(ie)return O(),void D.call(null,ie,...be);if(g()||u)return O(),void D.call(null,ie,...be);let Le;r<64&&(r*=2),1===h?(h=2,Le=0):Le=1e3*(r+Math.random()),I(Le)}let Z=!1;function z(ie){Z||(Z=!0,O(),!v&&(null!==i?(ie||(h=2),clearTimeout(i),I(0)):ie||(h=1)))}return I(0),s=setTimeout(()=>{u=!0,z(!0)},t),z}((r,i)=>{if(i)return void r(!1,new zT(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const u=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(u),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(u),this.pendingConnection_=null;const h=s.getErrorCode()===_f.NO_ERROR,g=s.getStatus();if((!h||$L(g,this.additionalRetryCodes_))&&this.retry){const D=s.getErrorCode()===_f.ABORT;return void r(!1,new zT(!1,null,D))}const v=-1!==this.successCodes_.indexOf(g);r(!0,new zT(v,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function E8(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class zT{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function F8(...n){const e=function R8(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(HA())return new Blob(n);throw new Ar("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Qs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class GA{constructor(e,t){this.data=e,this.contentType=t||null}}function $A(n,e){switch(n){case Qs.RAW:return new GA(qL(e));case Qs.BASE64:case Qs.BASE64URL:return new GA(WL(n,e));case Qs.DATA_URL:return new GA(function B8(n){const e=new zL(n);return e.base64?WL(Qs.BASE64,e.rest):function V8(n){let e;try{e=decodeURIComponent(n)}catch{throw Wb(Qs.DATA_URL,"Malformed data URL.")}return qL(e)}(e.rest)}(e),function Z8(n){return new zL(n).contentType}(e))}throw ZA()}function qL(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function WL(n,e){switch(n){case Qs.BASE64:{const i=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(i||s)throw Wb(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Qs.BASE64URL:{const i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw Wb(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function U8(n){if(typeof atob>"u")throw function w8(n){return new Ar("unsupported-environment",`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:Wb(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class zL{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Wb(Qs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function H8(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class nu{constructor(e,t){let r=0,i="";jL(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(jL(this.data_)){const i=function L8(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new nu(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new nu(r,!0)}}static getBlob(...e){if(HA()){const t=e.map(r=>r instanceof nu?r.data_:r);return new nu(F8.apply(null,t))}{const t=e.map(u=>WT(u)?$A(Qs.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const i=new Uint8Array(r);let s=0;return t.forEach(u=>{for(let h=0;h<u.length;h++)i[s++]=u[h]}),new nu(i,!0)}}uploadData(){return this.data_}}function qA(n){let e;try{e=JSON.parse(n)}catch{return null}return function M8(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function KL(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function $8(n,e){return e}class Zo{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||$8}}let KT=null;function Kb(){if(KT)return KT;const n=[];n.push(new Zo("bucket")),n.push(new Zo("generation")),n.push(new Zo("metageneration")),n.push(new Zo("name","fullPath",!0));const t=new Zo("name");t.xform=function e(s,u){return function q8(n){return!WT(n)||n.length<2?n:KL(n)}(u)},n.push(t);const i=new Zo("size");return i.xform=function r(s,u){return void 0!==u?Number(u):u},n.push(i),n.push(new Zo("timeCreated")),n.push(new Zo("updated")),n.push(new Zo("md5Hash",null,!0)),n.push(new Zo("cacheControl",null,!0)),n.push(new Zo("contentDisposition",null,!0)),n.push(new Zo("contentEncoding",null,!0)),n.push(new Zo("contentLanguage",null,!0)),n.push(new Zo("contentType",null,!0)),n.push(new Zo("metadata","customMetadata",!0)),KT=n,KT}function YL(n,e,t){const r=qA(e);return null===r?null:function z8(n,e,t){const r={type:"file"},i=t.length;for(let s=0;s<i;s++){const u=t[s];r[u.local]=u.xform(r,e[u.server])}return function W8(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new vo(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(r,n),r}(n,r,t)}function WA(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const QL="prefixes";class ru{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function iu(n){if(!n)throw ZA()}function YT(n,e){return function t(r,i){const s=YL(n,i,e);return iu(null!==s),s}}function Dy(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function g8(){return new Ar("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function p8(){return new Ar("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function f8(n){return new Ar("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function m8(n){return new Ar("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function Yb(n){const e=Dy(n);return function t(r,i){let s=e(r,i);return 404===r.getStatus()&&(s=function h8(n){return new Ar("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=i.serverResponse,s}}function XL(n,e,t){const i=Td(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new ru(i,"GET",YT(n,t),u);return h.errorHandler=Yb(e),h}function e$(n,e,t,r,i){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),r&&(s.pageToken=r),i&&(s.maxResults=i);const h=Td(e.bucketOnlyServerUrl(),n.host,n._protocol),v=n.maxOperationRetryTime,D=new ru(h,"GET",function J8(n,e){return function t(r,i){const s=function Q8(n,e,t){const r=qA(t);return null===r?null:function Y8(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[QL])for(const i of t[QL]){const s=i.replace(/\/$/,""),u=n._makeStorageReference(new vo(e,s));r.prefixes.push(u)}if(t.items)for(const i of t.items){const s=n._makeStorageReference(new vo(e,i.name));r.items.push(s)}return r}(n,e,r)}(n,e,i);return iu(null!==s),s}}(n,e.bucket),v);return D.urlParams=s,D.errorHandler=Dy(e),D}function tU(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function i$(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class QT{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function zA(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{iu(!1)}return iu(!!t&&-1!==(e||["active"]).indexOf(t)),t}const c$={STATE_CHANGED:"state_changed"},Ho={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function KA(n){switch(n){case"running":case"pausing":case"canceling":return Ho.RUNNING;case"paused":return Ho.PAUSED;case"success":return Ho.SUCCESS;case"canceled":return Ho.CANCELED;default:return Ho.ERROR}}class l${constructor(e,t,r){if(function S8(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function Ty(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class d$ extends class u${constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=_f.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=_f.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=_f.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw zb("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw zb("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw zb("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw zb("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw zb("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Xc(){return new d$}class oU{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=Kb(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if($L(i.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=UL()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function o$(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),u=tU(e,r,i),h={name:u.fullPath},g=Td(s,n.host,n._protocol),D={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},I=WA(u,t),Z=new ru(g,"POST",function k(z){let ie;zA(z);try{ie=z.getResponseHeader("X-Goog-Upload-URL")}catch{iu(!1)}return iu(WT(ie)),ie},n.maxUploadRetryTime);return Z.urlParams=h,Z.headers=D,Z.body=I,Z.errorHandler=Dy(e),Z}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Xc,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function s$(n,e,t,r){const g=new ru(t,"POST",function s(v){const D=zA(v,["active","final"]);let I=null;try{I=v.getResponseHeader("X-Goog-Upload-Size-Received")}catch{iu(!1)}I||iu(!1);const O=Number(I);return iu(!isNaN(O)),new QT(O,r.size(),"final"===D)},n.maxUploadRetryTime);return g.headers={"X-Goog-Upload-Command":"query"},g.errorHandler=Dy(e),g}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Xc,t,r);this._request=s,s.getPromise().then(u=>{this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new QT(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let u;try{u=function a$(n,e,t,r,i,s,u,h){const g=new QT(0,0);if(u?(g.current=u.current,g.total=u.total):(g.current=0,g.total=r.size()),r.size()!==g.total)throw function b8(){return new Ar("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const v=g.total-g.current;let D=v;i>0&&(D=Math.min(D,i));const I=g.current;let k="";k=0===D?"finalize":v===D?"upload, finalize":"upload";const Z={"X-Goog-Upload-Command":k,"X-Goog-Upload-Offset":`${g.current}`},z=r.slice(I,I+D);if(null===z)throw BL();const Le=new ru(t,"POST",function ie(Pe,Ve){const $e=zA(Pe,["active","final"]),Dt=g.current+D,Zt=r.size();let Nr;return Nr="final"===$e?YT(e,s)(Pe,Ve):null,new QT(Dt,Zt,"final"===$e,Nr)},e.maxUploadRetryTime);return Le.headers=Z,Le.body=z.uploadData(),Le.progressCallback=h||null,Le.errorHandler=Dy(n),Le}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(g){return this._error=g,void this._transition("error")}const h=this._ref.storage._makeRequest(u,Xc,i,s,!1);this._request=h,h.getPromise().then(g=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(g.current),g.finalized?(this._metadata=g.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=XL(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Xc,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function nU(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},g=function h(){let Le="";for(let Pe=0;Pe<2;Pe++)Le+=Math.random().toString().slice(2);return Le}();u["Content-Type"]="multipart/related; boundary="+g;const v=tU(e,r,i),D=WA(v,t),k=nu.getBlob("--"+g+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+D+"\r\n--"+g+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",r,"\r\n--"+g+"--");if(null===k)throw BL();const Z={name:v.fullPath},z=Td(s,n.host,n._protocol),be=n.maxUploadRetryTime,Oe=new ru(z,"POST",YT(n,t),be);return Oe.urlParams=Z,Oe.headers=u,Oe.body=k.uploadData(),Oe.errorHandler=Dy(e),Oe}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Xc,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=VL(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=KA(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const s=new l$(t||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(KA(this._state)){case Ho.SUCCESS:Ty(this._resolve.bind(null,this.snapshot))();break;case Ho.CANCELED:case Ho.ERROR:Ty(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(KA(this._state)){case Ho.RUNNING:case Ho.PAUSED:e.next&&Ty(e.next.bind(e,this.snapshot))();break;case Ho.SUCCESS:e.complete&&Ty(e.complete.bind(e))();break;default:e.error&&Ty(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Vg{constructor(e,t){this._service=e,this._location=t instanceof vo?t:vo.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Vg(e,t)}get root(){const e=new vo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return KL(this._location.path)}get storage(){return this._service}get parent(){const e=function j8(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new vo(this._location.bucket,e);return new Vg(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw HL(e)}}function aU(n,e,t){return YA.apply(this,arguments)}function YA(){return(YA=(0,pe.Z)(function*(n,e,t){const i=yield cU(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield aU(n,e,i.nextPageToken))})).apply(this,arguments)}function cU(n,e){null!=e&&"number"==typeof e.maxResults&&jA("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=e$(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,Xc)}function D$(n){n._throwIfRoot("getDownloadURL");const e=function t$(n,e,t){const i=Td(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new ru(i,"GET",function X8(n,e){return function t(r,i){const s=YL(n,i,e);return iu(null!==s),function K8(n,e,t,r){const i=qA(e);if(null===i||!WT(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const u=encodeURIComponent;return s.split(",").map(v=>{const I=n.fullPath;return Td("/b/"+u(n.bucket)+"/o/"+u(I),t,r)+GL({alt:"media",token:v})})[0]}(s,i,n.host,n._protocol)}}(n,t),u);return h.errorHandler=Yb(e),h}(n.storage,n._location,Kb());return n.storage.makeRequestWithTokens(e,Xc).then(t=>{if(null===t)throw function C8(){return new Ar("no-download-url","The given file does not have any download URLs.")}();return t})}function lU(n,e){const t=function G8(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new vo(n._location.bucket,t);return new Vg(n.storage,r)}function uU(n,e){if(n instanceof QA){const t=n;if(null==t._bucket)throw function v8(){return new Ar("no-default-bucket","No default bucket found. Did you set the '"+LL+"' property when initializing the app?")}();const r=new Vg(t,t._bucket);return null!=e?uU(r,e):r}return void 0!==e?lU(n,e):n}function S$(n,e){if(e&&function E$(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof QA)return function I$(n,e){return new Vg(n,e)}(n,e);throw wy("To use ref(service, url), the first argument must be a Storage instance.")}return uU(n,e)}function dU(n,e){const t=e?.[LL];return null==t?null:vo.makeFromBucketSpec(t,n)}class QA{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=FL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?vo.makeFromBucketSpec(i,this._host):dU(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?vo.makeFromBucketSpec(this._url,e):dU(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){jA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){jA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,pe.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,pe.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Vg(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new D8(ZL());{const u=function k8(n,e,t,r,i,s,u=!0){const h=GL(n.urlParams),g=n.url+h,v=Object.assign({},n.headers);return function P8(n,e){e&&(n["X-Firebase-GMPID"]=e)}(v,e),function O8(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(v,t),function A8(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(v,s),function N8(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(v,r),new x8(g,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,u)}(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(e,t){var r=this;return(0,pe.Z)(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,s).getPromise()})()}}const hU="@firebase/storage";function gU(n,e){return S$(n=(0,R.m9)(n),e)}function L$(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new QA(t,r,i,e,Vo.SDK_VERSION)}!function U$(){(0,Vo._registerComponent)(new Qc.wA("storage",L$,"PUBLIC").setMultipleInstances(!0)),(0,Vo.registerVersion)(hU,"0.10.0",""),(0,Vo.registerVersion)(hU,"0.10.0","esm2017")}();class JT{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class _U{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new JT(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new JT(r,this,this._ref))},t)}on(e,t,r,i){let s;return t&&(s="function"==typeof t?u=>t(new JT(u,this,this._ref)):{next:t.next?u=>t.next(new JT(u,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)}}class yU{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Ed(e,this._service))}get items(){return this._delegate.items.map(e=>new Ed(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Ed{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function F$(n,e){return lU(n,e)}(this._delegate,e);return new Ed(t,this.storage)}get root(){return new Ed(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Ed(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new _U(function x$(n,e,t){return function y$(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new oU(n,new nu(e),t)}(n=(0,R.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Qs.RAW,r){this._throwIfRoot("putString");const i=$A(t,e),s=Object.assign({},r);return null==s.contentType&&null!=i.contentType&&(s.contentType=i.contentType),new _U(new oU(this._delegate,new nu(i.data,!0),s),this)}listAll(){return function N$(n){return function b$(n){const e={prefixes:[],items:[]};return aU(n,e).then(()=>e)}(n=(0,R.m9)(n))}(this._delegate).then(e=>new yU(e,this.storage))}list(e){return function P$(n,e){return cU(n=(0,R.m9)(n),e)}(this._delegate,e||void 0).then(t=>new yU(t,this.storage))}getMetadata(){return function O$(n){return function C$(n){n._throwIfRoot("getMetadata");const e=XL(n.storage,n._location,Kb());return n.storage.makeRequestWithTokens(e,Xc)}(n=(0,R.m9)(n))}(this._delegate)}updateMetadata(e){return function A$(n,e){return function w$(n,e){n._throwIfRoot("updateMetadata");const t=function n$(n,e,t,r){const s=Td(e.fullServerUrl(),n.host,n._protocol),h=WA(t,r),v=n.maxOperationRetryTime,D=new ru(s,"PATCH",YT(n,r),v);return D.headers={"Content-Type":"application/json; charset=utf-8"},D.body=h,D.errorHandler=Yb(e),D}(n.storage,n._location,e,Kb());return n.storage.makeRequestWithTokens(t,Xc)}(n=(0,R.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function k$(n){return D$(n=(0,R.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function R$(n){return function T$(n){n._throwIfRoot("deleteObject");const e=function r$(n,e){const r=Td(e.fullServerUrl(),n.host,n._protocol),h=new ru(r,"DELETE",function u(g,v){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=Yb(e),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Xc)}(n=(0,R.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw HL(e)}}class vU{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(bU(e))throw wy("ref() expected a child path but got a URL, use refFromURL instead.");return new Ed(gU(this._delegate,e),this)}refFromURL(e){if(!bU(e))throw wy("refFromURL() expected a full URL but got a child path, use ref() instead.");try{vo.makeFromUrl(e,this._delegate.host)}catch{throw wy("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ed(gU(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function mU(n,e,t,r={}){!function M$(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,R.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function bU(n){return/^[A-Za-z]+:\/\//.test(n)}function H$(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new vU(t,r)}function CU(n){const e=function G$(n){return new fr.y(e=>{const t=u=>e.next(u);t(n.snapshot);const s=n.on("state_changed",t);return n.then(u=>{t(u),e.complete()},u=>{t(n.snapshot),(u=>{e.error(u)})(u)}),function(){s()}}).pipe(function o8(n,e=nf.P){return t=>t.lift(new s8(n,e))}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Je.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function XT(n){return{getDownloadURL:()=>(0,Qe.of)(void 0).pipe(gn.fc,fn(()=>n.getDownloadURL()),gn.iC),getMetadata:()=>(0,Qe.of)(void 0).pipe(gn.fc,fn(()=>n.getMetadata()),gn.iC),delete:()=>(0,tn.D)(n.delete()),child:e=>XT(n.child(e)),updateMetadata:e=>(0,tn.D)(n.updateMetadata(e)),put:(e,t)=>CU(n.put(e,t)),putString:(e,t,r)=>CU(n.putString(e,t,r)),list:e=>(0,tn.D)(n.list(e)),listAll:()=>(0,tn.D)(n.listAll())}}!function j$(n){const e={TaskState:Ho,TaskEvent:c$,StringFormat:Qs,Storage:vU,Reference:Ed};n.INTERNAL.registerComponent(new Qc.wA("storage-compat",H$,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.2.0")}(VA.Z);const $$=new o.OlP("angularfire2.storageBucket"),q$=new o.OlP("angularfire2.storage.maxUploadRetryTime"),W$=new o.OlP("angularfire2.storage.maxOperationRetryTime"),z$=new o.OlP("angularfire2.storage.use-emulator");let K$=(()=>{class n{constructor(t,r,i,s,u,h,g,v,D,I){const O=(0,Ei.on)(t,u,r);this.storage=(0,Ei.cc)(`${O.name}.storage.${i}`,"AngularFireStorage",O.name,()=>{const k=u.runOutsideAngular(()=>O.storage(i||void 0)),Z=D;return Z&&k.useEmulator(...Z),g&&k.setMaxUploadRetryTime(g),v&&k.setMaxOperationRetryTime(v),k},[g,v])}ref(t){return XT(this.storage.ref(t))}refFromURL(t){return XT(this.storage.refFromURL(t))}upload(t,r,i){return XT(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Ei.Dh),o.LFG(Ei.xv,8),o.LFG($$,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(gn.HU),o.LFG(q$,8),o.LFG(W$,8),o.LFG(z$,8),o.LFG(qb,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Y$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),Q$=(()=>{class n{constructor(){$T.Z.registerVersion("angularfire",gn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[K$],imports:[Y$]}),n})();function JA(){return n=>n.lift(new J$)}class J${call(e,t){return t.subscribe(new X$(e))}}class X$ extends Qn.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}F(8852);var gt,eq=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Id={},XA=XA||{},At=eq||self;function eE(){}function tE(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Qb(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var eP="closure_uid_"+(1e9*Math.random()>>>0),nq=0;function rq(n,e,t){return n.call.apply(n.bind,arguments)}function iq(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function bo(n,e,t){return(bo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?rq:iq).apply(null,arguments)}function nE(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Wi(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,s){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return e.prototype[i].apply(r,u)}}function yf(){this.s=this.s,this.o=this.o}yf.prototype.s=!1,yf.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function tq(n){Object.prototype.hasOwnProperty.call(n,eP)&&n[eP]||(n[eP]=++nq)}(this)},yf.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const wU=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function tP(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function DU(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(tE(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let u=0;u<s;u++)n[i+u]=r[u]}else n.push(r)}}function Co(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Co.prototype.h=function(){this.defaultPrevented=!0};var sq=function(){if(!At.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{At.addEventListener("test",eE,e),At.removeEventListener("test",eE,e)}catch{}return n}();function rE(n){return/^[\s\xa0]*$/.test(n)}var TU=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function nP(n,e){return n<e?-1:n>e?1:0}function iE(){var n=At.navigator;return n&&(n=n.userAgent)?n:""}function ou(n){return-1!=iE().indexOf(n)}function rP(n){return rP[" "](n),n}rP[" "]=eE;var oE,n,cq=ou("Opera"),Ey=ou("Trident")||ou("MSIE"),EU=ou("Edge"),iP=EU||Ey,IU=ou("Gecko")&&!(-1!=iE().toLowerCase().indexOf("webkit")&&!ou("Edge"))&&!(ou("Trident")||ou("MSIE"))&&!ou("Edge"),lq=-1!=iE().toLowerCase().indexOf("webkit")&&!ou("Edge");function SU(){var n=At.document;return n?n.documentMode:void 0}e:{var oP="",sP=(n=iE(),IU?/rv:([^\);]+)(\)|;)/.exec(n):EU?/Edge\/([\d\.]+)/.exec(n):Ey?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):lq?/WebKit\/(\S+)/.exec(n):cq?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(sP&&(oP=sP?sP[1]:""),Ey){var aP=SU();if(null!=aP&&aP>parseFloat(oP)){oE=String(aP);break e}}oE=oP}var uq={};var hq=At.document&&Ey&&(SU()||parseInt(oE,10))||void 0;function Jb(n,e){if(Co.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(IU){e:{try{rP(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:fq[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Jb.X.h.call(this)}}Wi(Jb,Co);var fq={2:"touch",3:"pen",4:"mouse"};Jb.prototype.h=function(){Jb.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Xb="closure_listenable_"+(1e6*Math.random()|0),pq=0;function gq(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++pq,this.ba=this.ea=!1}function sE(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function lP(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function xU(n){const e={};for(const t in n)e[t]=n[t];return e}const OU="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function AU(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<OU.length;s++)t=OU[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function aE(n){this.src=n,this.g={},this.h=0}function uP(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=wU(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(sE(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function dP(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ba&&s.listener==e&&s.capture==!!t&&s.ha==r)return i}return-1}aE.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var u=dP(n,e,r,i);return-1<u?(e=n[u],t||(e.ea=!1)):((e=new gq(e,this.src,s,!!r,i)).ea=t,n.push(e)),e};var hP="closure_lm_"+(1e6*Math.random()|0),fP={};function PU(n,e,t,r,i){if(r&&r.once)return kU(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)PU(n,e[s],t,r,i);return null}return t=_P(t),n&&n[Xb]?n.N(e,t,Qb(r)?!!r.capture:!!r,i):NU(n,e,t,!1,r,i)}function NU(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var u=Qb(i)?!!i.capture:!!i,h=gP(n);if(h||(n[hP]=h=new aE(n)),(t=h.add(e,t,r,u,s)).proxy)return t;if(r=function mq(){const e=_q;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)sq||(i=u),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(FU(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function kU(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)kU(n,e[s],t,r,i);return null}return t=_P(t),n&&n[Xb]?n.O(e,t,Qb(r)?!!r.capture:!!r,i):NU(n,e,t,!0,r,i)}function RU(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)RU(n,e[s],t,r,i);else r=Qb(r)?!!r.capture:!!r,t=_P(t),n&&n[Xb]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=dP(s=n.g[e],t,r,i))&&(sE(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=gP(n))&&(e=n.g[e.toString()],n=-1,e&&(n=dP(e,t,r,i)),(t=-1<n?e[n]:null)&&pP(t))}function pP(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Xb])uP(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(FU(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=gP(e))?(uP(t,n),0==t.h&&(t.src=null,e[hP]=null)):sE(n)}}}function FU(n){return n in fP?fP[n]:fP[n]="on"+n}function _q(n,e){if(n.ba)n=!0;else{e=new Jb(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&pP(n),n=t.call(r,e)}return n}function gP(n){return(n=n[hP])instanceof aE?n:null}var mP="__closure_events_fn_"+(1e9*Math.random()>>>0);function _P(n){return"function"==typeof n?n:(n[mP]||(n[mP]=function(e){return n.handleEvent(e)}),n[mP])}function Pi(){yf.call(this),this.i=new aE(this),this.P=this,this.I=null}function zi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Co(e,n);else if(e instanceof Co)e.target=e.target||n;else{var i=e;AU(e=new Co(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var u=e.g=t[s];i=cE(u,r,!0,e)&&i}if(i=cE(u=e.g=n,r,!0,e)&&i,i=cE(u,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=cE(u=e.g=t[s],r,!1,e)&&i}function cE(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var u=e[s];if(u&&!u.ba&&u.capture==t){var h=u.listener,g=u.ha||u.src;u.ea&&uP(n.i,u),i=!1!==h.call(g,r)&&i}}return i&&!r.defaultPrevented}Wi(Pi,yf),Pi.prototype[Xb]=!0,Pi.prototype.removeEventListener=function(n,e,t,r){RU(this,n,e,t,r)},Pi.prototype.M=function(){if(Pi.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)sE(t[r]);delete n.g[e],n.h--}}this.I=null},Pi.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Pi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var yP=At.JSON.stringify;function yq(){var n=VU;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var vP,LU=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new bq,n=>n.reset());class bq{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Cq(n){At.setTimeout(()=>{throw n},0)}function UU(n,e){vP||function wq(){var n=At.Promise.resolve(void 0);vP=function(){n.then(Dq)}}(),bP||(vP(),bP=!0),VU.add(n,e)}var bP=!1,VU=new class vq{constructor(){this.h=this.g=null}add(e,t){const r=LU.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Dq(){for(var n;n=yq();){try{n.h.call(n.g)}catch(t){Cq(t)}var e=LU;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}bP=!1}function lE(n,e){Pi.call(this),this.h=n||1,this.g=e||At,this.j=bo(this.lb,this),this.l=Date.now()}function CP(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function wP(n,e,t){if("function"==typeof n)t&&(n=bo(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=bo(n.handleEvent,n)}return 2147483647<Number(e)?-1:At.setTimeout(n,e||0)}function BU(n){n.g=wP(()=>{n.g=null,n.i&&(n.i=!1,BU(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Wi(lE,Pi),(gt=lE.prototype).ca=!1,gt.R=null,gt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),zi(this,"tick"),this.ca&&(CP(this),this.start()))}},gt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},gt.M=function(){lE.X.M.call(this),CP(this),delete this.g};class Tq extends yf{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:BU(this)}M(){super.M(),this.g&&(At.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function e1(n){yf.call(this),this.h=n,this.g={}}Wi(e1,yf);var ZU=[];function HU(n,e,t,r){Array.isArray(t)||(t&&(ZU[0]=t.toString()),t=ZU);for(var i=0;i<t.length;i++){var s=PU(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function jU(n){lP(n.g,function(e,t){this.g.hasOwnProperty(t)&&pP(e)},n),n.g={}}function uE(){this.g=!0}function Iy(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Mq(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var u=1;u<i.length;u++)i[u]=""}}}return yP(t)}catch{return e}}(n,t)+(r?" "+r:"")})}e1.prototype.M=function(){e1.X.M.call(this),jU(this)},e1.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},uE.prototype.Aa=function(){this.g=!1},uE.prototype.info=function(){};var Bg={},GU=null;function dE(){return GU=GU||new Pi}function $U(n){Co.call(this,Bg.Pa,n)}function t1(n){const e=dE();zi(e,new $U(e))}function qU(n,e){Co.call(this,Bg.STAT_EVENT,n),this.stat=e}function jo(n){const e=dE();zi(e,new qU(e,n))}function WU(n,e){Co.call(this,Bg.Qa,n),this.size=e}function n1(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return At.setTimeout(function(){n()},e)}Bg.Pa="serverreachability",Wi($U,Co),Bg.STAT_EVENT="statevent",Wi(qU,Co),Bg.Qa="timingevent",Wi(WU,Co);var hE={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},zU={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function DP(){}function YU(){}DP.prototype.h=null;var IP,r1={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function TP(){Co.call(this,"d")}function EP(){Co.call(this,"c")}function fE(){}function i1(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new e1(this),this.O=xq,this.T=new lE(n=iP?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new QU}function QU(){this.i=null,this.g="",this.h=!1}Wi(TP,Co),Wi(EP,Co),Wi(fE,DP),fE.prototype.g=function(){return new XMLHttpRequest},fE.prototype.i=function(){return{}},IP=new fE;var xq=45e3,SP={},pE={};function MP(n,e,t){n.K=1,n.v=yE(Sd(e)),n.s=t,n.P=!0,JU(n,null)}function JU(n,e){n.F=Date.now(),o1(n),n.A=Sd(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),l3(t.i,"t",r),n.C=0,t=n.l.H,n.h=new QU,n.g=N3(n.l,t?e:null,!n.s),0<n.N&&(n.L=new Tq(bo(n.La,n,n.g),n.N)),HU(n.S,n.g,"readystatechange",n.ib),e=n.H?xU(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),t1(),function Eq(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var u="",h=s.split("&"),g=0;g<h.length;g++){var v=h[g].split("=");if(1<v.length){var D=v[0];v=v[1];var I=D.split("_");u=2<=I.length&&"type"==I[1]?u+(D+"=")+v+"&":u+(D+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function XU(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function e3(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=Oq(n,t),i==pE){4==e&&(n.o=4,jo(14),r=!1),Iy(n.j,n.m,null,"[Incomplete Response]");break}if(i==SP){n.o=4,jo(15),Iy(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Iy(n.j,n.m,i,null),xP(n,i)}XU(n)&&i!=pE&&i!=SP&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,jo(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),LP(e),e.K=!0,jo(11))):(Iy(n.j,n.m,t,"[Invalid Chunked Response]"),Zg(n),s1(n))}function Oq(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?pE:(t=Number(e.substring(t,r)),isNaN(t)?SP:(r+=1)+t>e.length?pE:(e=e.substr(r,t),n.C=r+t,e))}function o1(n){n.V=Date.now()+n.O,t3(n,n.O)}function t3(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=n1(bo(n.gb,n),e)}function gE(n){n.B&&(At.clearTimeout(n.B),n.B=null)}function s1(n){0==n.l.G||n.I||x3(n.l,n)}function Zg(n){gE(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,CP(n.T),jU(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function xP(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||OP(t.h,n)))if(!n.J&&OP(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;TE(t),wE(t)}FP(t),jo(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=n1(bo(t.cb,t),6e3));if(1>=h3(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else jg(t,11)}else if((n.J||t.g==n)&&TE(t),!rE(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let v=i[e];if(t.T=v[0],v=v[1],2==t.G)if("c"==v[0]){t.I=v[1],t.ka=v[2];const D=v[3];null!=D&&(t.ma=D,t.j.info("VER="+t.ma));const I=v[4];null!=I&&(t.Ca=I,t.j.info("SVER="+t.Ca));const O=v[5];null!=O&&"number"==typeof O&&0<O&&(t.J=r=1.5*O,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const k=n.g;if(k){const Z=k.g?k.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Z){var s=r.h;s.g||-1==Z.indexOf("spdy")&&-1==Z.indexOf("quic")&&-1==Z.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(AP(s,s.h),s.h=null))}if(r.D){const z=k.g?k.g.getResponseHeader("X-HTTP-Session-Id"):null;z&&(r.za=z,br(r.F,r.D,z))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var u=n;if((r=t).sa=P3(r,r.H?r.ka:null,r.V),u.J){f3(r.h,u);var h=u,g=r.J;g&&h.setTimeout(g),h.B&&(gE(h),o1(h)),r.g=u}else S3(r);0<t.i.length&&DE(t)}else"stop"!=v[0]&&"close"!=v[0]||jg(t,7);else 3==t.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?jg(t,7):RP(t):"noop"!=v[0]&&t.l&&t.l.wa(v),t.A=0)}t1()}catch{}}function n3(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(tE(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Pq(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(tE(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Aq(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(tE(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(gt=i1.prototype).setTimeout=function(n){this.O=n},gt.ib=function(n){n=n.target;const e=this.L;e&&3==Md(n)?e.l():this.La(n)},gt.La=function(n){try{if(n==this.g)e:{const D=Md(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>D)&&(3!=D||iP||this.g&&(this.h.h||this.g.fa()||C3(this.g)))){this.I||4!=D||7==e||t1(),gE(this);var t=this.g.aa();this.Y=t;t:if(XU(this)){var r=C3(this.g);n="";var i=r.length,s=4==Md(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Zg(this),s1(this);var u="";break t}this.h.i=new At.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==t,function Iq(n,e,t,r,i,s,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+u})}(this.j,this.u,this.A,this.m,this.U,D,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var h,g=this.g;if((h=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rE(h)){var v=h;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,jo(12),Zg(this),s1(this);break e}Iy(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,xP(this,t)}this.P?(e3(this,D,u),iP&&this.i&&3==D&&(HU(this.S,this.T,"tick",this.hb),this.T.start())):(Iy(this.j,this.m,u,null),xP(this,u)),4==D&&Zg(this),this.i&&!this.I&&(4==D?x3(this.l,this):(this.i=!1,o1(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,jo(12)):(this.o=0,jo(13)),Zg(this),s1(this)}}}catch{}},gt.hb=function(){if(this.g){var n=Md(this.g),e=this.g.fa();this.C<e.length&&(gE(this),e3(this,n,e),this.i&&4!=n&&o1(this))}},gt.cancel=function(){this.I=!0,Zg(this)},gt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function Sq(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(t1(),jo(17)),Zg(this),this.o=2,s1(this)):t3(this,this.V-n)};var r3=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hg(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Hg){this.h=void 0!==e?e:n.h,mE(this,n.j),this.s=n.s,this.g=n.g,_E(this,n.m),this.l=n.l,e=n.i;var t=new l1;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),o3(this,t),this.o=n.o}else n&&(t=String(n).match(r3))?(this.h=!!e,mE(this,t[1]||"",!0),this.s=a1(t[2]||""),this.g=a1(t[3]||"",!0),_E(this,t[4]),this.l=a1(t[5]||"",!0),o3(this,t[6]||"",!0),this.o=a1(t[7]||"")):(this.h=!!e,this.i=new l1(null,this.h))}function Sd(n){return new Hg(n)}function mE(n,e,t){n.j=t?a1(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function _E(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function o3(n,e,t){e instanceof l1?(n.i=e,function Vq(n,e){e&&!n.j&&(vf(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(a3(this,r),l3(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=c1(e,Lq)),n.i=new l1(e,n.h))}function br(n,e,t){n.i.set(e,t)}function yE(n){return br(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function a1(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function c1(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,kq),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function kq(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Hg.prototype.toString=function(){var n=[],e=this.j;e&&n.push(c1(e,s3,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(c1(e,s3,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(c1(t,"/"==t.charAt(0)?Fq:Rq,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",c1(t,Uq)),n.join("")};var s3=/[#\/\?@]/g,Rq=/[#\?:]/g,Fq=/[#\?]/g,Lq=/[#\?@]/g,Uq=/#/g;function l1(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function vf(n){n.g||(n.g=new Map,n.h=0,n.i&&function Nq(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function a3(n,e){vf(n),e=Sy(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function c3(n,e){return vf(n),e=Sy(n,e),n.g.has(e)}function l3(n,e,t){a3(n,e),0<t.length&&(n.i=null,n.g.set(Sy(n,e),tP(t)),n.h+=t.length)}function Sy(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function u3(n){this.l=n||Zq,n=At.PerformanceNavigationTiming?0<(n=At.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(At.g&&At.g.Ga&&At.g.Ga()&&At.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(gt=l1.prototype).add=function(n,e){vf(this),this.i=null,n=Sy(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},gt.forEach=function(n,e){vf(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},gt.oa=function(){vf(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},gt.W=function(n){vf(this);let e=[];if("string"==typeof n)c3(this,n)&&(e=e.concat(this.g.get(Sy(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},gt.set=function(n,e){return vf(this),this.i=null,c3(this,n=Sy(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},gt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},gt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),u=this.W(r);for(r=0;r<u.length;r++){var i=s;""!==u[r]&&(i+="="+encodeURIComponent(String(u[r]))),n.push(i)}}return this.i=n.join("&")};var Zq=10;function d3(n){return!!n.h||!!n.g&&n.g.size>=n.j}function h3(n){return n.h?1:n.g?n.g.size:0}function OP(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function AP(n,e){n.g?n.g.add(e):n.h=e}function f3(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function p3(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return tP(n.i)}function PP(){}function Hq(){this.g=new PP}function jq(n,e,t){const r=t||"";try{n3(n,function(i,s){let u=i;Qb(i)&&(u=yP(i)),e.push(r+s+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function vE(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function u1(n){this.l=n.ac||null,this.j=n.jb||!1}function bE(n,e){Pi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=NP,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}u3.prototype.cancel=function(){if(this.i=p3(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},PP.prototype.stringify=function(n){return At.JSON.stringify(n,void 0)},PP.prototype.parse=function(n){return At.JSON.parse(n,void 0)},Wi(u1,DP),u1.prototype.g=function(){return new bE(this.l,this.j)},u1.prototype.i=function(n){return function(){return n}}({}),Wi(bE,Pi);var NP=0;function g3(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function d1(n){n.readyState=4,n.l=null,n.j=null,n.A=null,h1(n)}function h1(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(gt=bE.prototype).open=function(n,e){if(this.readyState!=NP)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,h1(this)},gt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||At).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},gt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,d1(this)),this.readyState=NP},gt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,h1(this)),this.g&&(this.readyState=3,h1(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof At.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;g3(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},gt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?d1(this):h1(this),3==this.readyState&&g3(this)}},gt.Va=function(n){this.g&&(this.response=this.responseText=n,d1(this))},gt.Ua=function(n){this.g&&(this.response=n,d1(this))},gt.ga=function(){this.g&&d1(this)},gt.setRequestHeader=function(n,e){this.v.append(n,e)},gt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},gt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(bE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var $q=At.JSON.parse;function Ur(n){Pi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=m3,this.K=this.L=!1}Wi(Ur,Pi);var m3="",qq=/^https?$/i,Wq=["POST","PUT"];function _3(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,y3(n),CE(n)}function y3(n){n.D||(n.D=!0,zi(n,"complete"),zi(n,"error"))}function v3(n){if(n.h&&typeof XA<"u"&&(!n.C[1]||4!=Md(n)||2!=n.aa()))if(n.v&&4==Md(n))wP(n.Ha,0,n);else if(zi(n,"readystatechange"),4==Md(n)){n.h=!1;try{const h=n.aa();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===h){var i=String(n.H).match(r3)[1]||null;if(!i&&At.self&&At.self.location){var s=At.self.location.protocol;i=s.substr(0,s.length-1)}r=!qq.test(i?i.toLowerCase():"")}t=r}if(t)zi(n,"complete"),zi(n,"success");else{n.m=6;try{var u=2<Md(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.aa()+"]",y3(n)}}finally{CE(n)}}}function CE(n,e){if(n.g){b3(n);const t=n.g,r=n.C[0]?eE:null;n.g=null,n.C=null,e||zi(n,"ready");try{t.onreadystatechange=r}catch{}}}function b3(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(At.clearTimeout(n.A),n.A=null)}function Md(n){return n.g?n.g.readyState:0}function C3(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case m3:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function w3(n){let e="";return lP(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function kP(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=w3(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):br(n,e,t))}function f1(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function D3(n){this.Ca=0,this.i=[],this.j=new uE,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=f1("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=f1("baseRetryDelayMs",5e3,n),this.bb=f1("retryDelaySeedMs",1e4,n),this.$a=f1("forwardChannelMaxRetries",2,n),this.ta=f1("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new u3(n&&n.concurrentRequestLimit),this.Fa=new Hq,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function RP(n){if(T3(n),3==n.G){var e=n.U++,t=Sd(n.F);br(t,"SID",n.I),br(t,"RID",e),br(t,"TYPE","terminate"),p1(n,t),(e=new i1(n,n.j,e,void 0)).K=2,e.v=yE(Sd(t)),t=!1,At.navigator&&At.navigator.sendBeacon&&(t=At.navigator.sendBeacon(e.v.toString(),"")),!t&&At.Image&&((new Image).src=e.v,t=!0),t||(e.g=N3(e.l,null),e.g.da(e.v)),e.F=Date.now(),o1(e)}A3(n)}function wE(n){n.g&&(LP(n),n.g.cancel(),n.g=null)}function T3(n){wE(n),n.u&&(At.clearTimeout(n.u),n.u=null),TE(n),n.h.cancel(),n.m&&("number"==typeof n.m&&At.clearTimeout(n.m),n.m=null)}function DE(n){d3(n.h)||n.m||(n.m=!0,UU(n.Ja,n),n.C=0)}function E3(n,e){var t;t=e?e.m:n.U++;const r=Sd(n.F);br(r,"SID",n.I),br(r,"RID",t),br(r,"AID",n.T),p1(n,r),n.o&&n.s&&kP(r,n.o,n.s),t=new i1(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=I3(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),AP(n.h,t),MP(t,r,e)}function p1(n,e){n.ia&&lP(n.ia,function(t,r){br(e,r,t)}),n.l&&n3({},function(t,r){br(e,r,t)})}function I3(n,e,t){t=Math.min(n.i.length,t);var r=n.l?bo(n.l.Ra,n.l,n):null;e:{var i=n.i;let s=-1;for(;;){const u=["count="+t];-1==s?0<t?(s=i[0].h,u.push("ofs="+s)):s=0:u.push("ofs="+s);let h=!0;for(let g=0;g<t;g++){let v=i[g].h;const D=i[g].g;if(v-=s,0>v)s=Math.max(0,i[g].h-100),h=!1;else try{jq(D,u,"req"+v+"_")}catch{r&&r(D)}}if(h){r=u.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function S3(n){n.g||n.u||(n.Z=1,UU(n.Ia,n),n.A=0)}function FP(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=n1(bo(n.Ia,n),O3(n,n.A)),n.A++,0))}function LP(n){null!=n.B&&(At.clearTimeout(n.B),n.B=null)}function M3(n){n.g=new i1(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Sd(n.sa);br(e,"RID","rpc"),br(e,"SID",n.I),br(e,"CI",n.L?"0":"1"),br(e,"AID",n.T),br(e,"TYPE","xmlhttp"),p1(n,e),n.o&&n.s&&kP(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=yE(Sd(e)),t.s=null,t.P=!0,JU(t,n)}function TE(n){null!=n.v&&(At.clearTimeout(n.v),n.v=null)}function x3(n,e){var t=null;if(n.g==e){TE(n),LP(n),n.g=null;var r=2}else{if(!OP(n.h,e))return;t=e.D,f3(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;zi(r=dE(),new WU(r,t)),DE(n)}else S3(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function Kq(n,e){return!(h3(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=n1(bo(n.Ja,n,e),O3(n,n.C)),n.C++,0)))}(n,e)||2==r&&FP(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:jg(n,5);break;case 4:jg(n,10);break;case 3:jg(n,6);break;default:jg(n,2)}}function O3(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function jg(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=bo(n.kb,n);t||(t=new Hg("//www.google.com/images/cleardot.gif"),At.location&&"http"==At.location.protocol||mE(t,"https"),yE(t)),function Gq(n,e){const t=new uE;if(At.Image){const r=new Image;r.onload=nE(vE,t,r,"TestLoadImage: loaded",!0,e),r.onerror=nE(vE,t,r,"TestLoadImage: error",!1,e),r.onabort=nE(vE,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=nE(vE,t,r,"TestLoadImage: timeout",!1,e),At.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else jo(2);n.G=0,n.l&&n.l.va(e),A3(n),T3(n)}function A3(n){if(n.G=0,n.la=[],n.l){const e=p3(n.h);(0!=e.length||0!=n.i.length)&&(DU(n.la,e),DU(n.la,n.i),n.h.i.length=0,tP(n.i),n.i.length=0),n.l.ua()}}function P3(n,e,t){var r=t instanceof Hg?Sd(t):new Hg(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),_E(r,r.m);else{var i=At.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Hg(null,void 0);r&&mE(s,r),e&&(s.g=e),i&&_E(s,i),t&&(s.l=t),r=s}return e=n.za,(t=n.D)&&e&&br(r,t,e),br(r,"VER",n.ma),p1(n,r),r}function N3(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ur(t&&n.Da&&!n.ra?new u1({jb:!0}):n.ra)).Ka(n.H),e}function k3(){}function EE(){if(Ey&&!(10<=Number(hq)))throw Error("Environmental error: no available transport.")}function Js(n,e){Pi.call(this),this.g=new D3(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!rE(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!rE(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new My(this)}function R3(n){TP.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function F3(){EP.call(this),this.status=1}function My(n){this.g=n}(gt=Ur.prototype).Ka=function(n){this.L=n},gt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():IP.g(),this.C=function KU(n){return n.h||(n.h=n.i())}(this.u?this.u:IP),this.g.onreadystatechange=bo(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void _3(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=At.FormData&&n instanceof At.FormData,!(0<=wU(Wq,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,u]of t)this.g.setRequestHeader(s,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{b3(this),0<this.B&&((this.K=function zq(n){return Ey&&function dq(){return function aq(n){var e=uq;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=TU(String(oE)).split("."),t=TU("9").split("."),r=Math.max(e.length,t.length);for(let u=0;0==n&&u<r;u++){var i=e[u]||"",s=t[u]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=nP(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||nP(0==i[2].length,0==s[2].length)||nP(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=bo(this.qa,this)):this.A=wP(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){_3(this,s)}},gt.qa=function(){typeof XA<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zi(this,"timeout"),this.abort(8))},gt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,zi(this,"complete"),zi(this,"abort"),CE(this))},gt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),CE(this,!0)),Ur.X.M.call(this)},gt.Ha=function(){this.s||(this.F||this.v||this.l?v3(this):this.fb())},gt.fb=function(){v3(this)},gt.aa=function(){try{return 2<Md(this)?this.g.status:-1}catch{return-1}},gt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},gt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),$q(e)}},gt.Ea=function(){return this.m},gt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(gt=D3.prototype).ma=8,gt.G=1,gt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new i1(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=xU(s),AU(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=I3(this,i,e),br(t=Sd(this.F),"RID",n),br(t,"CVER",22),this.D&&br(t,"X-HTTP-Session-Id",this.D),p1(this,t),s&&(this.N?e="headers="+encodeURIComponent(String(w3(s)))+"&"+e:this.o&&kP(t,this.o,s)),AP(this.h,i),this.Ya&&br(t,"TYPE","init"),this.O?(br(t,"$req",e),br(t,"SID","null"),i.Z=!0,MP(i,t,null)):MP(i,t,e),this.G=2}}else 3==this.G&&(n?E3(this,n):0==this.i.length||d3(this.h)||E3(this))},gt.Ia=function(){if(this.u=null,M3(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=n1(bo(this.eb,this),n)}},gt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,jo(10),wE(this),M3(this))},gt.cb=function(){null!=this.v&&(this.v=null,wE(this),FP(this),jo(19))},gt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),jo(2)):(this.j.info("Failed to ping google.com"),jo(1))},(gt=k3.prototype).xa=function(){},gt.wa=function(){},gt.va=function(){},gt.ua=function(){},gt.Ra=function(){},EE.prototype.g=function(n,e){return new Js(n,e)},Wi(Js,Pi),Js.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;jo(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=P3(n,null,n.V),DE(n)},Js.prototype.close=function(){RP(this.g)},Js.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=yP(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&DE(e)},Js.prototype.M=function(){this.g.l=null,delete this.j,RP(this.g),delete this.g,Js.X.M.call(this)},Wi(R3,TP),Wi(F3,EP),Wi(My,k3),My.prototype.xa=function(){zi(this.g,"a")},My.prototype.wa=function(n){zi(this.g,new R3(n))},My.prototype.va=function(n){zi(this.g,new F3)},My.prototype.ua=function(){zi(this.g,"b")},EE.prototype.createWebChannel=EE.prototype.g,Js.prototype.send=Js.prototype.u,Js.prototype.open=Js.prototype.m,Js.prototype.close=Js.prototype.close,hE.NO_ERROR=0,hE.TIMEOUT=8,hE.HTTP_ERROR=6,zU.COMPLETE="complete",YU.EventType=r1,r1.OPEN="a",r1.CLOSE="b",r1.ERROR="c",r1.MESSAGE="d",Pi.prototype.listen=Pi.prototype.N,Ur.prototype.listenOnce=Ur.prototype.O,Ur.prototype.getLastError=Ur.prototype.Oa,Ur.prototype.getLastErrorCode=Ur.prototype.Ea,Ur.prototype.getStatus=Ur.prototype.aa,Ur.prototype.getResponseJson=Ur.prototype.Sa,Ur.prototype.getResponseText=Ur.prototype.fa,Ur.prototype.send=Ur.prototype.da,Ur.prototype.setWithCredentials=Ur.prototype.Ka;var Yq=Id.createWebChannelTransport=function(){return new EE},Qq=Id.getStatEventTarget=function(){return dE()},UP=Id.ErrorCode=hE,Jq=Id.EventType=zU,Xq=Id.Event=Bg,L3=Id.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},e9=Id.FetchXmlHttpFactory=u1,IE=Id.WebChannel=YU,t9=Id.XhrIo=Ur;const U3="@firebase/firestore";class Ni{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ni.UNAUTHENTICATED=new Ni(null),Ni.GOOGLE_CREDENTIALS=new Ni("google-credentials-uid"),Ni.FIRST_PARTY=new Ni("first-party-uid"),Ni.MOCK_USER=new Ni("mock-user");let xy="9.15.0";const bf=new Jc.Yd("@firebase/firestore");function VP(){return bf.logLevel}function Fe(n,...e){if(bf.logLevel<=Jc.in.DEBUG){const t=e.map(BP);bf.debug(`Firestore (${xy}): ${n}`,...t)}}function ei(n,...e){if(bf.logLevel<=Jc.in.ERROR){const t=e.map(BP);bf.error(`Firestore (${xy}): ${n}`,...t)}}function Gg(n,...e){if(bf.logLevel<=Jc.in.WARN){const t=e.map(BP);bf.warn(`Firestore (${xy}): ${n}`,...t)}}function BP(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function it(n="Unexpected state"){const e=`FIRESTORE (${xy}) INTERNAL ASSERTION FAILED: `+n;throw ei(e),new Error(e)}function ft(n,e){n||it()}function Ke(n,e){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends R.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ii{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class V3{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class i9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ni.UNAUTHENTICATED))}shutdown(){}}class o9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class s9{constructor(e){this.t=e,this.currentUser=Ni.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=v=>this.i!==i?(i=this.i,t(v)):Promise.resolve();let u=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ii,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const v=u;e.enqueueRetryable((0,pe.Z)(function*(){yield v.promise,yield s(r.currentUser)}))},g=v=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ii)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ft("string"==typeof r.accessToken),new V3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ft(null===e||"string"==typeof e),new Ni(e)}}class a9{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Ni.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(ft(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class c9{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new a9(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Ni.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class B3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class l9{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=s=>{null!=s.error&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const u=s.token!==this.A;return this.A=s.token,Fe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ft("string"==typeof t.token),this.A=t.token,new B3(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function u9(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Z3{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=u9(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function Pt(n,e){return n<e?-1:n>e?1:0}function Oy(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function H3(n){return n+"\0"}class Cr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new xe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Cr.fromMillis(Date.now())}static fromDate(e){return Cr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Cr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pt(this.nanoseconds,e.nanoseconds):Pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class yt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new yt(e)}static min(){return new yt(new Cr(0,0))}static max(){return new yt(new Cr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class g1{constructor(e,t,r){void 0===t?t=0:t>e.length&&it(),void 0===r?r=e.length-t:r>e.length-t&&it(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===g1.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof g1?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),u=t.get(i);if(s<u)return-1;if(s>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class un extends g1{construct(e,t,r){return new un(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new un(t)}static emptyPath(){return new un([])}}const d9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vr extends g1{construct(e,t,r){return new Vr(e,t,r)}static isValidIdentifier(e){return d9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Vr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new xe(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const h=e[i];if("\\"===h){if(i+1===e.length)throw new xe(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[i+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new xe(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,i+=2}else"`"===h?(u=!u,i++):"."!==h||u?(r+=h,i++):(s(),i++)}if(s(),u)throw new xe(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vr(t)}static emptyPath(){return new Vr([])}}class qe{constructor(e){this.path=e}static fromPath(e){return new qe(un.fromString(e))}static fromName(e){return new qe(un.fromString(e).popFirst(5))}static empty(){return new qe(un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===un.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return un.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new un(e.slice()))}}class SE{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function ZP(n){return n.fields.find(e=>2===e.kind)}function $g(n){return n.fields.filter(e=>2!==e.kind)}SE.UNKNOWN_ID=-1;class ME{constructor(e,t){this.fieldPath=e,this.kind=t}}class m1{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new m1(0,Xs.min())}}function j3(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=yt.fromTimestamp(1e9===r?new Cr(t+1,0):new Cr(t,r));return new Xs(i,qe.empty(),e)}function G3(n){return new Xs(n.readTime,n.key,-1)}class Xs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Xs(yt.min(),qe.empty(),-1)}static max(){return new Xs(yt.max(),qe.empty(),-1)}}function HP(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=qe.comparator(n.documentKey,e.documentKey),0!==t?t:Pt(n.largestBatchId,e.largestBatchId))}const $3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class q3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Cf(n){return jP.apply(this,arguments)}function jP(){return jP=(0,pe.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==$3)throw n;Fe("LocalStore","Unexpectedly lost primary lease")}),jP.apply(this,arguments)}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&it(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,r)=>{t(e)})}static reject(e){return new le((t,r)=>{r(e)})}static waitFor(e){return new le((t,r)=>{let i=0,s=0,u=!1;e.forEach(h=>{++i,h.next(()=>{++s,u&&s===i&&t()},g=>r(g))}),u=!0,s===i&&t()})}static or(e){let t=le.resolve(!1);for(const r of e)t=t.next(i=>i?le.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new le((r,i)=>{const s=e.length,u=new Array(s);let h=0;for(let g=0;g<s;g++){const v=g;t(e[v]).next(D=>{u[v]=D,++h,h===s&&r(u)},D=>i(D))}})}static doWhile(e,t){return new le((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}class xE{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Ii,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new _1(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=GP(r.target.error);this.P.reject(new _1(e,i))}}static open(e,t,r,i){try{return new xE(t,e.transaction(i,r))}catch(s){throw new _1(t,s)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Fe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new g9(t)}}class el{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===el.D((0,R.z$)())&&ei("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Fe("SimpleDb","Removing database:",e),qg(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,R.hl)())return!1;if(el.N())return!0;const e=(0,R.z$)(),t=el.D(e),r=0<t&&t<10,i=el.k(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,pe.Z)(function*(){return t.db||(Fe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=u=>{r(u.target.result)},s.onblocked=()=>{i(new _1(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=u=>{const h=u.target.error;i("VersionError"===h.name?new xe(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new xe(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new _1(e,h))},s.onupgradeneeded=u=>{Fe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.S.$(u.target.result,s.transaction,u.oldVersion,t.version).next(()=>{Fe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var s=this;return(0,pe.Z)(function*(){const u="readonly"===t;let h=0;for(;;){++h;try{s.db=yield s.F(e);const g=xE.open(s.db,e,u?"readonly":"readwrite",r),v=i(g).next(D=>(g.V(),D)).catch(D=>(g.abort(D),le.reject(D))).toPromise();return v.catch(()=>{}),yield g.v,v}catch(g){const v=g,D="FirebaseError"!==v.name&&h<3;if(Fe("SimpleDb","Transaction failed with error:",v.message,"Retrying:",D),s.close(),!D)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class p9{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return qg(this.q.delete())}}class _1 extends xe{constructor(e,t){super(de.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function wf(n){return"IndexedDbTransactionError"===n.name}class g9{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Fe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),qg(r)}add(e){return Fe("SimpleDb","ADD",this.store.name,e,e),qg(this.store.add(e))}get(e){return qg(this.store.get(e)).next(t=>(void 0===t&&(t=null),Fe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Fe("SimpleDb","DELETE",this.store.name,e),qg(this.store.delete(e))}count(){return Fe("SimpleDb","COUNT",this.store.name),qg(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),s=[];return this.H(i,(u,h)=>{s.push(h)}).next(()=>s)}{const i=this.store.getAll(r.range);return new le((s,u)=>{i.onerror=h=>{u(h.target.error)},i.onsuccess=h=>{s(h.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new le((i,s)=>{r.onerror=u=>{s(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}Y(e,t){Fe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(s,u,h)=>h.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new le((r,i)=>{t.onerror=s=>{const u=GP(s.target.error);i(u)},t.onsuccess=s=>{const u=s.target.result;u?e(u.primaryKey,u.value).next(h=>{h?u.continue():r()}):r()}})}H(e,t){const r=[];return new le((i,s)=>{e.onerror=u=>{s(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void i();const g=new p9(h),v=t(h.primaryKey,h.value,g);if(v instanceof le){const D=v.catch(I=>(g.done(),le.reject(I)));r.push(D)}g.isDone?i():null===g.G?h.continue():h.continue(g.G)}}).next(()=>le.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function qg(n){return new le((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=GP(r.target.error);t(i)}})}let W3=!1;function GP(n){const e=el.D((0,R.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return W3||(W3=!0,setTimeout(()=>{throw r},0)),r}}return n}class m9{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Fe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,pe.Z)(function*(){t.task=null;try{Fe("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){wf(r)?Fe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Cf(r)}yield t.nt(6e4)}))}}class _9{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,pe.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,s=!0;return le.doWhile(()=>!0===s&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!r.has(u))return Fe("IndexBackiller",`Processing collection: ${u}`),this.rt(e,u,i).next(h=>{i-=h,r.add(u)});s=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{const u=s.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ot(i,s)).next(h=>(Fe("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>u.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,s)=>{const u=G3(s);HP(u,r)>0&&(r=u)}),new Xs(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let ea=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class y9{constructor(e,t,r,i,s,u,h,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=g}}class Df{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Df("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Df&&e.projectId===this.projectId&&e.database===this.database}}function z3(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Wg(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function K3(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function y1(n){return null==n}function v1(n){return 0===n&&1/n==-1/0}function Y3(n){return"number"==typeof n&&Number.isInteger(n)&&!v1(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Si{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Si(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Si(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Si.EMPTY_BYTE_STRING=new Si("");const b9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tf(n){if(ft(!!n),"string"==typeof n){let e=0;const t=b9.exec(n);if(ft(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Br(n.seconds),nanos:Br(n.nanos)}}function Br(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function zg(n){return"string"==typeof n?Si.fromBase64String(n):Si.fromUint8Array(n)}function $P(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Q3(n){const e=n.mapValue.fields.__previous_value__;return $P(e)?Q3(e):e}function b1(n){const e=Tf(n.mapValue.fields.__local_write_time__.timestampValue);return new Cr(e.seconds,e.nanos)}const Ef={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},OE={nullValue:"NULL_VALUE"};function Kg(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$P(n)?4:tV(n)?9007199254740991:10:it()}function su(n,e){if(n===e)return!0;const t=Kg(n);if(t!==Kg(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return b1(n).isEqual(b1(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Tf(r.timestampValue),u=Tf(i.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,zg(n.bytesValue).isEqual(zg(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Br(r.geoPointValue.latitude)===Br(i.geoPointValue.latitude)&&Br(r.geoPointValue.longitude)===Br(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Br(r.integerValue)===Br(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Br(r.doubleValue),u=Br(i.doubleValue);return s===u?v1(s)===v1(u):isNaN(s)&&isNaN(u)}return!1}(n,e);case 9:return Oy(n.arrayValue.values||[],e.arrayValue.values||[],su);case 10:return function(r,i){const s=r.mapValue.fields||{},u=i.mapValue.fields||{};if(z3(s)!==z3(u))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===u[h]||!su(s[h],u[h])))return!1;return!0}(n,e);default:return it()}var i}function C1(n,e){return void 0!==(n.values||[]).find(t=>su(t,e))}function If(n,e){if(n===e)return 0;const t=Kg(n),r=Kg(e);if(t!==r)return Pt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pt(n.booleanValue,e.booleanValue);case 2:return function(i,s){const u=Br(i.integerValue||i.doubleValue),h=Br(s.integerValue||s.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,e);case 3:return J3(n.timestampValue,e.timestampValue);case 4:return J3(b1(n),b1(e));case 5:return Pt(n.stringValue,e.stringValue);case 6:return function(i,s){const u=zg(i),h=zg(s);return u.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const u=i.split("/"),h=s.split("/");for(let g=0;g<u.length&&g<h.length;g++){const v=Pt(u[g],h[g]);if(0!==v)return v}return Pt(u.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const u=Pt(Br(i.latitude),Br(s.latitude));return 0!==u?u:Pt(Br(i.longitude),Br(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const u=i.values||[],h=s.values||[];for(let g=0;g<u.length&&g<h.length;++g){const v=If(u[g],h[g]);if(v)return v}return Pt(u.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Ef.mapValue&&s===Ef.mapValue)return 0;if(i===Ef.mapValue)return 1;if(s===Ef.mapValue)return-1;const u=i.fields||{},h=Object.keys(u),g=s.fields||{},v=Object.keys(g);h.sort(),v.sort();for(let D=0;D<h.length&&D<v.length;++D){const I=Pt(h[D],v[D]);if(0!==I)return I;const O=If(u[h[D]],g[v[D]]);if(0!==O)return O}return Pt(h.length,v.length)}(n.mapValue,e.mapValue);default:throw it()}}function J3(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Pt(n,e);const t=Tf(n),r=Tf(e),i=Pt(t.seconds,r.seconds);return 0!==i?i:Pt(t.nanos,r.nanos)}function Ay(n){return qP(n)}function qP(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Tf(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?zg(n.bytesValue).toBase64():"referenceValue"in n?qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const u of r.values||[])s?s=!1:i+=",",i+=qP(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",u=!0;for(const h of i)u?u=!1:s+=",",s+=`${h}:${qP(r.fields[h])}`;return s+"}"}(n.mapValue):it();var e}function Yg(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function WP(n){return!!n&&"integerValue"in n}function w1(n){return!!n&&"arrayValue"in n}function X3(n){return!!n&&"nullValue"in n}function eV(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function AE(n){return!!n&&"mapValue"in n}function D1(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Wg(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=D1(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=D1(n.arrayValue.values[t]);return e}return Object.assign({},n)}function tV(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function C9(n){return"nullValue"in n?OE:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Yg(Df.empty(),qe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:it()}function w9(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Yg(Df.empty(),qe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Ef:it()}function nV(n,e){const t=If(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function rV(n,e){const t=If(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Sf{constructor(e,t){this.position=e,this.inclusive=t}}function iV(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],u=n.position[i];if(r=s.field.isKeyField()?qe.comparator(qe.fromName(u.referenceValue),t.key):If(u,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function oV(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!su(n.position[t],e.position[t]))return!1;return!0}class sV{}class nn extends sV{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new D9(e,t,r):"array-contains"===t?new I9(e,r):"in"===t?new pV(e,r):"not-in"===t?new S9(e,r):"array-contains-any"===t?new M9(e,r):new nn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new T9(e,r):new E9(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(If(t,this.value)):null!==t&&Kg(this.value)===Kg(t)&&this.matchesComparison(If(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return it()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class kn extends sV{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new kn(e,t)}matches(e){return Py(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Py(n){return"and"===n.op}function zP(n){return"or"===n.op}function aV(n){return cV(n)&&Py(n)}function cV(n){for(const e of n.filters)if(e instanceof kn)return!1;return!0}function lV(n){if(n instanceof nn)return n.field.canonicalString()+n.op.toString()+Ay(n.value);{const e=n.filters.map(t=>lV(t)).join(",");return`${n.op}(${e})`}}function uV(n,e){return n instanceof nn?(t=n,(r=e)instanceof nn&&t.op===r.op&&t.field.isEqual(r.field)&&su(t.value,r.value)):n instanceof kn?function(t,r){return r instanceof kn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,u)=>i&&uV(s,r.filters[u]),!0)}(n,e):void it();var t,r}function dV(n,e){const t=n.filters.concat(e);return kn.create(t,n.op)}function hV(n){return n instanceof nn?`${(e=n).field.canonicalString()} ${e.op} ${Ay(e.value)}`:n instanceof kn?function(e){return e.op.toString()+" {"+e.getFilters().map(hV).join(" ,")+"}"}(n):"Filter";var e}class D9 extends nn{constructor(e,t,r){super(e,t,r),this.key=qe.fromName(r.referenceValue)}matches(e){const t=qe.comparator(e.key,this.key);return this.matchesComparison(t)}}class T9 extends nn{constructor(e,t){super(e,"in",t),this.keys=fV(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class E9 extends nn{constructor(e,t){super(e,"not-in",t),this.keys=fV(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function fV(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>qe.fromName(r.referenceValue))}class I9 extends nn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return w1(t)&&C1(t.arrayValue,this.value)}}class pV extends nn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&C1(this.value.arrayValue,t)}}class S9 extends nn{constructor(e,t){super(e,"not-in",t)}matches(e){if(C1(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!C1(this.value.arrayValue,t)}}class M9 extends nn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!w1(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>C1(this.value.arrayValue,r))}}class Ny{constructor(e,t="asc"){this.field=e,this.dir=t}}function x9(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Zr{constructor(e,t){this.comparator=e,this.root=t||Ki.EMPTY}insert(e,t){return new Zr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ki.BLACK,null,null))}remove(e){return new Zr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ki.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new PE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new PE(this.root,e,this.comparator,!1)}getReverseIterator(){return new PE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new PE(this.root,e,this.comparator,!0)}}class PE{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ki{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Ki.RED,this.left=i??Ki.EMPTY,this.right=s??Ki.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Ki(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ki.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Ki.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ki.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ki.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw it();const e=this.left.check();if(e!==this.right.check())throw it();return e+(this.isRed()?0:1)}}Ki.EMPTY=null,Ki.RED=!0,Ki.BLACK=!1,Ki.EMPTY=new class{constructor(){this.size=0}get key(){throw it()}get value(){throw it()}get color(){throw it()}get left(){throw it()}get right(){throw it()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Ki(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vn{constructor(e){this.comparator=e,this.data=new Zr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gV(this.data.getIterator())}getIteratorFrom(e){return new gV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Vn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Vn(this.comparator);return t.data=e,t}}class gV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ky(n){return n.hasNext()?n.getNext():void 0}class ta{constructor(e){this.fields=e,e.sort(Vr.comparator)}static empty(){return new ta([])}unionWith(e){let t=new Vn(Vr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ta(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Oy(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Yi{constructor(e){this.value=e}static empty(){return new Yi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!AE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=D1(t)}setAll(e){let t=Vr.emptyPath(),r={},i=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const g=this.getFieldsMap(t);this.applyChanges(g,r,i),r={},i=[],t=h.popLast()}u?r[h.lastSegment()]=D1(u):i.push(h.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());AE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return su(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];AE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Wg(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Yi(D1(this.value))}}function mV(n){const e=[];return Wg(n.fields,(t,r)=>{const i=new Vr([t]);if(AE(r)){const s=mV(r.mapValue).fields;if(0===s.length)e.push(i);else for(const u of s)e.push(i.child(u))}else e.push(i)}),new ta(e)}class rr{constructor(e,t,r,i,s,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=u,this.documentState=h}static newInvalidDocument(e){return new rr(e,0,yt.min(),yt.min(),yt.min(),Yi.empty(),0)}static newFoundDocument(e,t,r,i){return new rr(e,1,t,yt.min(),r,i,0)}static newNoDocument(e,t){return new rr(e,2,t,yt.min(),yt.min(),Yi.empty(),0)}static newUnknownDocument(e,t){return new rr(e,3,t,yt.min(),yt.min(),Yi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(yt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof rr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class O9{constructor(e,t=null,r=[],i=[],s=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=u,this.endAt=h,this.ft=null}}function KP(n,e=null,t=[],r=[],i=null,s=null,u=null){return new O9(n,e,t,r,i,s,u)}function Qg(n){const e=Ke(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>lV(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),y1(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ay(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ay(r)).join(",")),e.ft=t}return e.ft}function T1(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!x9(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!uV(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!oV(n.startAt,e.startAt)&&oV(n.endAt,e.endAt)}function NE(n){return qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function kE(n,e){return n.filters.filter(t=>t instanceof nn&&t.field.isEqual(e))}function _V(n,e,t){let r=OE,i=!0;for(const s of kE(n,e)){let u=OE,h=!0;switch(s.op){case"<":case"<=":u=C9(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,h=!1;break;case"!=":case"not-in":u=OE}nV({value:r,inclusive:i},{value:u,inclusive:h})<0&&(r=u,i=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const u=t.position[s];nV({value:r,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}function yV(n,e,t){let r=Ef,i=!0;for(const s of kE(n,e)){let u=Ef,h=!0;switch(s.op){case">=":case">":u=w9(s.value),h=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,h=!1;break;case"!=":case"not-in":u=Ef}rV({value:r,inclusive:i},{value:u,inclusive:h})>0&&(r=u,i=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const u=t.position[s];rV({value:r,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}class xd{constructor(e,t=null,r=[],i=[],s=null,u="F",h=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=u,this.startAt=h,this.endAt=g,this.dt=null,this._t=null}}function vV(n,e,t,r,i,s,u,h){return new xd(n,e,t,r,i,s,u,h)}function Ry(n){return new xd(n)}function bV(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function YP(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function RE(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function QP(n){return null!==n.collectionGroup}function Jg(n){const e=Ke(n);if(null===e.dt){e.dt=[];const t=RE(e),r=YP(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new Ny(t)),e.dt.push(new Ny(Vr.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Ny(Vr.keyField(),s))}}}return e.dt}function Go(n){const e=Ke(n);if(!e._t)if("F"===e.limitType)e._t=KP(e.path,e.collectionGroup,Jg(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Jg(e))t.push(new Ny(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Sf(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Sf(e.startAt.position,e.startAt.inclusive):null;e._t=KP(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function JP(n,e){e.getFirstInequalityField(),RE(n);const t=n.filters.concat([e]);return new xd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function FE(n,e,t){return new xd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function E1(n,e){return T1(Go(n),Go(e))&&n.limitType===e.limitType}function CV(n){return`${Qg(Go(n))}|lt:${n.limitType}`}function XP(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>hV(r)).join(", ")}]`),y1(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ay(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ay(r)).join(",")),`Target(${t})`}(Go(n))}; limitType=${n.limitType})`}function eN(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):qe.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Jg(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,u){const h=iV(i,s,u);return i.inclusive?h<=0:h<0}(t.startAt,Jg(t),r)||t.endAt&&!function(i,s,u){const h=iV(i,s,u);return i.inclusive?h>=0:h>0}(t.endAt,Jg(t),r)));var t,r}function wV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function DV(n){return(e,t)=>{let r=!1;for(const i of Jg(n)){const s=A9(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function A9(n,e,t){const r=n.field.isKeyField()?qe.comparator(e.key,t.key):function(i,s,u){const h=s.data.field(i),g=u.data.field(i);return null!==h&&null!==g?If(h,g):it()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return it()}}function TV(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:v1(e)?"-0":e}}function EV(n){return{integerValue:""+n}}function IV(n,e){return Y3(e)?EV(e):TV(n,e)}class LE{constructor(){this._=void 0}}function P9(n,e,t){return n instanceof Fy?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Xg?MV(n,e):n instanceof em?xV(n,e):function(r,i){const s=SV(r,i),u=OV(s)+OV(r.gt);return WP(s)&&WP(r.gt)?EV(u):TV(r.yt,u)}(n,e)}function N9(n,e,t){return n instanceof Xg?MV(n,e):n instanceof em?xV(n,e):t}function SV(n,e){return n instanceof Ly?WP(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Fy extends LE{}class Xg extends LE{constructor(e){super(),this.elements=e}}function MV(n,e){const t=AV(e);for(const r of n.elements)t.some(i=>su(i,r))||t.push(r);return{arrayValue:{values:t}}}class em extends LE{constructor(e){super(),this.elements=e}}function xV(n,e){let t=AV(e);for(const r of n.elements)t=t.filter(i=>!su(i,r));return{arrayValue:{values:t}}}class Ly extends LE{constructor(e,t){super(),this.yt=e,this.gt=t}}function OV(n){return Br(n.integerValue||n.doubleValue)}function AV(n){return w1(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class I1{constructor(e,t){this.field=e,this.transform=t}}class R9{constructor(e,t){this.version=e,this.transformResults=t}}class wr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new wr}static exists(e){return new wr(void 0,e)}static updateTime(e){return new wr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function UE(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class VE{}function PV(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Vy(n.key,wr.none()):new Uy(n.key,n.data,wr.none());{const t=n.data,r=Yi.empty();let i=new Vn(Vr.comparator);for(let s of e.fields)if(!i.has(s)){let u=t.field(s);null===u&&s.length>1&&(s=s.popLast(),u=t.field(s)),null===u?r.delete(s):r.set(s,u),i=i.add(s)}return new Od(n.key,r,new ta(i.toArray()),wr.none())}}function F9(n,e,t){n instanceof Uy?function(r,i,s){const u=r.value.clone(),h=RV(r.fieldTransforms,i,s.transformResults);u.setAll(h),i.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Od?function(r,i,s){if(!UE(r.precondition,i))return void i.convertToUnknownDocument(s.version);const u=RV(r.fieldTransforms,i,s.transformResults),h=i.data;h.setAll(kV(r)),h.setAll(u),i.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function S1(n,e,t,r){return n instanceof Uy?function(i,s,u,h){if(!UE(i.precondition,s))return u;const g=i.value.clone(),v=FV(i.fieldTransforms,h,s);return g.setAll(v),s.convertToFoundDocument(s.version,g).setHasLocalMutations(),null}(n,e,t,r):n instanceof Od?function(i,s,u,h){if(!UE(i.precondition,s))return u;const g=FV(i.fieldTransforms,h,s),v=s.data;return v.setAll(kV(i)),v.setAll(g),s.convertToFoundDocument(s.version,v).setHasLocalMutations(),null===u?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(D=>D.field))}(n,e,t,r):(u=t,UE(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u);var s,u}function L9(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=SV(r.transform,i||null);null!=s&&(null===t&&(t=Yi.empty()),t.set(r.field,s))}return t||null}function NV(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Oy(t,r,(i,s)=>function k9(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Xg&&r instanceof Xg||t instanceof em&&r instanceof em?Oy(t.elements,r.elements,su):t instanceof Ly&&r instanceof Ly?su(t.gt,r.gt):t instanceof Fy&&r instanceof Fy);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Uy extends VE{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Od extends VE{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function kV(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function RV(n,e,t){const r=new Map;ft(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],u=s.transform,h=e.data.field(s.field);r.set(s.field,N9(u,h,t[i]))}return r}function FV(n,e,t){const r=new Map;for(const i of n){const s=i.transform,u=t.data.field(i.field);r.set(i.field,P9(s,u,e))}return r}class Vy extends VE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tN extends VE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class U9{constructor(e){this.count=e}}var hi,dn;function LV(n){switch(n){default:return it();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function UV(n){if(void 0===n)return ei("GRPC error has no .code"),de.UNKNOWN;switch(n){case hi.OK:return de.OK;case hi.CANCELLED:return de.CANCELLED;case hi.UNKNOWN:return de.UNKNOWN;case hi.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case hi.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case hi.INTERNAL:return de.INTERNAL;case hi.UNAVAILABLE:return de.UNAVAILABLE;case hi.UNAUTHENTICATED:return de.UNAUTHENTICATED;case hi.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case hi.NOT_FOUND:return de.NOT_FOUND;case hi.ALREADY_EXISTS:return de.ALREADY_EXISTS;case hi.PERMISSION_DENIED:return de.PERMISSION_DENIED;case hi.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case hi.ABORTED:return de.ABORTED;case hi.OUT_OF_RANGE:return de.OUT_OF_RANGE;case hi.UNIMPLEMENTED:return de.UNIMPLEMENTED;case hi.DATA_LOSS:return de.DATA_LOSS;default:return it()}}(dn=hi||(hi={}))[dn.OK=0]="OK",dn[dn.CANCELLED=1]="CANCELLED",dn[dn.UNKNOWN=2]="UNKNOWN",dn[dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dn[dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dn[dn.NOT_FOUND=5]="NOT_FOUND",dn[dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",dn[dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",dn[dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",dn[dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dn[dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dn[dn.ABORTED=10]="ABORTED",dn[dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",dn[dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",dn[dn.INTERNAL=13]="INTERNAL",dn[dn.UNAVAILABLE=14]="UNAVAILABLE",dn[dn.DATA_LOSS=15]="DATA_LOSS";class Mf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Wg(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return K3(this.inner)}size(){return this.innerSize}}const V9=new Zr(qe.comparator);function ys(){return V9}const VV=new Zr(qe.comparator);function M1(...n){let e=VV;for(const t of n)e=e.insert(t.key,t);return e}function BV(n){let e=VV;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function au(){return x1()}function ZV(){return x1()}function x1(){return new Mf(n=>n.toString(),(n,e)=>n.isEqual(e))}const B9=new Zr(qe.comparator),Z9=new Vn(qe.comparator);function Ut(...n){let e=Z9;for(const t of n)e=e.add(t);return e}const H9=new Vn(Pt);function BE(){return H9}class O1{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,A1.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new O1(yt.min(),i,BE(),ys(),Ut())}}class A1{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new A1(r,t,Ut(),Ut(),Ut())}}class ZE{constructor(e,t,r,i){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=i}}class HV{constructor(e,t){this.targetId=e,this.Et=t}}class jV{constructor(e,t,r=Si.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class GV{constructor(){this.At=0,this.Rt=qV(),this.bt=Si.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=Ut(),t=Ut(),r=Ut();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:it()}}),new A1(this.bt,this.Pt,e,t,r)}xt(){this.vt=!1,this.Rt=qV()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class j9{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=ys(),this.qt=$V(),this.Ut=new Vn(Pt)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const r=this.Wt(t);switch(e.state){case 0:this.zt(t)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:it()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,i)=>{this.zt(i)&&t(i)})}Jt(e){const t=e.targetId,r=e.Et.count,i=this.Yt(t);if(i){const s=i.target;if(NE(s))if(0===r){const u=new qe(s.path);this.Qt(t,u,rr.newNoDocument(u,yt.min()))}else ft(1===r);else this.Xt(t)!==r&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((s,u)=>{const h=this.Yt(u);if(h){if(s.current&&NE(h.target)){const g=new qe(h.target.path);null!==this.Lt.get(g)||this.te(u,g)||this.Qt(u,g,rr.newNoDocument(g,e))}s.St&&(t.set(u,s.Ct()),s.xt())}});let r=Ut();this.qt.forEach((s,u)=>{let h=!0;u.forEachWhile(g=>{const v=this.Yt(g);return!v||2===v.purpose||(h=!1,!1)}),h&&(r=r.add(s))}),this.Lt.forEach((s,u)=>u.setReadTime(e));const i=new O1(e,t,this.Ut,this.Lt,r);return this.Lt=ys(),this.qt=$V(),this.Ut=new Vn(Pt),i}Gt(e,t){if(!this.zt(e))return;const r=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,t)?i.Nt(t,1):i.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new GV,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new Vn(Pt),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||Fe("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new GV),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function $V(){return new Zr(qe.comparator)}function qV(){return new Zr(qe.comparator)}const G9={asc:"ASCENDING",desc:"DESCENDING"},$9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},q9={and:"AND",or:"OR"};class W9{constructor(e,t){this.databaseId=e,this.wt=t}}function By(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WV(n,e){return n.wt?e.toBase64():e.toUint8Array()}function z9(n,e){return By(n,e.toTimestamp())}function ti(n){return ft(!!n),yt.fromTimestamp(function(e){const t=Tf(e);return new Cr(t.seconds,t.nanos)}(n))}function nN(n,e){return(t=n,new un(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function zV(n){const e=un.fromString(n);return ft(rB(e)),e}function P1(n,e){return nN(n.databaseId,e.path)}function cu(n,e){const t=zV(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new qe(YV(t))}function rN(n,e){return nN(n.databaseId,e)}function KV(n){const e=zV(n);return 4===e.length?un.emptyPath():YV(e)}function N1(n){return new un(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function YV(n){return ft(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function QV(n,e,t){return{name:P1(n,e),fields:t.value.mapValue.fields}}function JV(n,e,t){const r=cu(n,e.name),i=ti(e.updateTime),s=e.createTime?ti(e.createTime):yt.min(),u=new Yi({mapValue:{fields:e.fields}}),h=rr.newFoundDocument(r,i,s,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function k1(n,e){let t;if(e instanceof Uy)t={update:QV(n,e.key,e.value)};else if(e instanceof Vy)t={delete:P1(n,e.key)};else if(e instanceof Od)t={update:QV(n,e.key,e.data),updateMask:n7(e.fieldMask)};else{if(!(e instanceof tN))return it();t={verify:P1(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const u=s.transform;if(u instanceof Fy)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Xg)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof em)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Ly)return{fieldPath:s.field.canonicalString(),increment:u.gt};throw it()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:z9(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:it()),t;var i}function iN(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?wr.updateTime(ti(i.updateTime)):void 0!==i.exists?wr.exists(i.exists):wr.none():wr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,u){let h=null;"setToServerValue"in u?(ft("REQUEST_TIME"===u.setToServerValue),h=new Fy):"appendMissingElements"in u?h=new Xg(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new em(u.removeAllFromArray.values||[]):"increment"in u?h=new Ly(s,u.increment):it();const g=Vr.fromServerFormat(u.fieldPath);return new I1(g,h)}(n,i)):[];var i;if(e.update){const i=cu(n,e.update.name),s=new Yi({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new ta((e.updateMask.fieldPaths||[]).map(v=>Vr.fromServerFormat(v)));return new Od(i,s,u,t,r)}return new Uy(i,s,t,r)}if(e.delete){const i=cu(n,e.delete);return new Vy(i,t)}if(e.verify){const i=cu(n,e.verify);return new tN(i,t)}return it()}function XV(n,e){return{documents:[rN(n,e.path)]}}function oN(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=rN(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=rN(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(g){if(0!==g.length)return nB(kn.create(g,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(g){if(0!==g.length)return g.map(v=>{return{field:Zy((D=v).field),direction:X9(D.dir)};var D})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const u=(v=e.limit,n.wt||y1(v)?v:{value:v});var v,h,g;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(g=e.endAt).inclusive,values:g.position}),t}function eB(n){let e=KV(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){ft(1===r);const D=t.from[0];D.allDescendants?i=D.collectionId:e=e.child(D.collectionId)}let s=[];t.where&&(s=function(D){const I=tB(D);return I instanceof kn&&aV(I)?I.getFilters():[I]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(D=>{return new Ny(Hy((I=D).field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let h=null;t.limit&&(h=function(D){let I;return I="object"==typeof D?D.value:D,y1(I)?null:I}(t.limit));let g=null;var D;t.startAt&&(g=new Sf((D=t.startAt).values||[],!!D.before));let v=null;return t.endAt&&(v=function(D){return new Sf(D.values||[],!D.before)}(t.endAt)),vV(e,i,u,s,h,"F",g,v)}function tB(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Hy(e.unaryFilter.field);return nn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Hy(e.unaryFilter.field);return nn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Hy(e.unaryFilter.field);return nn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Hy(e.unaryFilter.field);return nn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return it()}}(n):void 0!==n.fieldFilter?nn.create(Hy((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return it()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return kn.create(e.compositeFilter.filters.map(t=>tB(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return it()}}(e.compositeFilter.op))}(n):it();var e}function X9(n){return G9[n]}function e7(n){return $9[n]}function t7(n){return q9[n]}function Zy(n){return{fieldPath:n.canonicalString()}}function Hy(n){return Vr.fromServerFormat(n.fieldPath)}function nB(n){return n instanceof nn?function(e){if("=="===e.op){if(eV(e.value))return{unaryFilter:{field:Zy(e.field),op:"IS_NAN"}};if(X3(e.value))return{unaryFilter:{field:Zy(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(eV(e.value))return{unaryFilter:{field:Zy(e.field),op:"IS_NOT_NAN"}};if(X3(e.value))return{unaryFilter:{field:Zy(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zy(e.field),op:e7(e.op),value:e.value}}}(n):n instanceof kn?function(e){const t=e.getFilters().map(r=>nB(r));return 1===t.length?t[0]:{compositeFilter:{op:t7(e.op),filters:t}}}(n):it()}function n7(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function rB(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function $o(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=iB(e)),e=r7(n.get(t),e);return iB(e)}function r7(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function iB(n){return n+"\x01\x01"}function lu(n){const e=n.length;if(ft(e>=2),2===e)return ft("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),un.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const u=n.indexOf("\x01",s);switch((u<0||u>t)&&it(),n.charAt(u+1)){case"\x01":const h=n.substring(s,u);let g;0===i.length?g=h:(i+=h,g=i,i=""),r.push(g);break;case"\x10":i+=n.substring(s,u),i+="\0";break;case"\x11":i+=n.substring(s,u+1);break;default:it()}s=u+2}return new un(r)}const oB=["userId","batchId"];function HE(n,e){return[n,$o(e)]}function sB(n,e,t){return[n,$o(e),t]}const i7={},o7=["prefixPath","collectionGroup","readTime","documentId"],s7=["prefixPath","collectionGroup","documentId"],a7=["collectionGroup","readTime","prefixPath","documentId"],c7=["canonicalId","targetId"],l7=["targetId","path"],u7=["path","targetId"],d7=["collectionId","parent"],h7=["indexId","uid"],f7=["uid","sequenceNumber"],p7=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],g7=["indexId","uid","orderedDocumentKey"],m7=["userId","collectionPath","documentId"],_7=["userId","collectionPath","largestBatchId"],y7=["userId","collectionGroup","largestBatchId"],aB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],v7=[...aB,"documentOverlays"],cB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],lB=cB,b7=[...lB,"indexConfiguration","indexState","indexEntries"];class sN extends q3{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function ki(n,e){const t=Ke(n);return el.M(t.se,e)}class aN{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&F9(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=S1(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=S1(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=ZV();return this.mutations.forEach(i=>{const s=e.get(i.key),u=s.overlayedDocument;let h=this.applyToLocalView(u,s.mutatedFields);h=t.has(i.key)?null:h;const g=PV(u,h);null!==g&&r.set(i.key,g),u.isValidDocument()||u.convertToNoDocument(yt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ut())}isEqual(e){return this.batchId===e.batchId&&Oy(this.mutations,e.mutations,(t,r)=>NV(t,r))&&Oy(this.baseMutations,e.baseMutations,(t,r)=>NV(t,r))}}class cN{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ft(e.mutations.length===r.length);let i=B9;const s=e.mutations;for(let u=0;u<s.length;u++)i=i.insert(s[u].key,r[u].version);return new cN(e,t,r,i)}}class lN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class xf{constructor(e,t,r,i,s=yt.min(),u=yt.min(),h=Si.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(e){return new xf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new xf(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new xf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class uB{constructor(e){this.ie=e}}function dB(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:jE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:P1(i=n.ie,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:By(i,s.version.toTimestamp()),createTime:By(i,s.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:tm(e.version)};else{if(!e.isUnknownDocument())return it();r.unknownDocument={path:t.path.toArray(),version:tm(e.version)}}var i,s;return r}function jE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function tm(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function nm(n){const e=new Cr(n.seconds,n.nanoseconds);return yt.fromTimestamp(e)}function rm(n,e){const t=(e.baseMutations||[]).map(s=>iN(n.ie,s));for(let s=0;s<e.mutations.length-1;++s){const u=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(u.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const r=e.mutations.map(s=>iN(n.ie,s)),i=Cr.fromMillis(e.localWriteTimeMs);return new aN(e.batchId,i,t,r)}function R1(n){const e=nm(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?nm(n.lastLimboFreeSnapshotVersion):yt.min();let r;var i;return void 0!==n.query.documents?(ft(1===(i=n.query).documents.length),r=Go(Ry(KV(i.documents[0])))):r=Go(eB(n.query)),new xf(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Si.fromBase64String(n.resumeToken))}function hB(n,e){const t=tm(e.snapshotVersion),r=tm(e.lastLimboFreeSnapshotVersion);let i;i=NE(e.target)?XV(n.ie,e.target):oN(n.ie,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Qg(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function uN(n){const e=eB({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?FE(e,e.limit,"L"):e}function dN(n,e){return new lN(e.largestBatchId,iN(n.ie,e.overlayMutation))}function fB(n,e){const t=e.path.lastSegment();return[n,$o(e.path.popLast()),t]}function pB(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:tm(r.readTime),documentKey:$o(r.documentKey.path),largestBatchId:r.largestBatchId}}class w7{getBundleMetadata(e,t){return gB(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:nm(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return gB(e).put({bundleId:(r=t).id,createTime:tm(ti(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return mB(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:uN(i.bundledQuery),readTime:nm(i.readTime)};var i})}saveNamedQuery(e,t){return mB(e).put({name:(r=t).name,readTime:tm(ti(r.readTime)),bundledQuery:r.bundledQuery});var r}}function gB(n){return ki(n,"bundles")}function mB(n){return ki(n,"namedQueries")}class GE{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new GE(e,t.uid||"")}getOverlay(e,t){return F1(e).get(fB(this.userId,t)).next(r=>r?dN(this.yt,r):null)}getOverlays(e,t){const r=au();return le.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((s,u)=>{const h=new lN(t,u);i.push(this.oe(e,h))}),le.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add($o(u.getCollectionPath())));const s=[];return i.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);s.push(F1(e).Y("collectionPathOverlayIndex",h))}),le.waitFor(s)}getOverlaysForCollection(e,t,r){const i=au(),s=$o(t),u=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return F1(e).W("collectionPathOverlayIndex",u).next(h=>{for(const g of h){const v=dN(this.yt,g);i.set(v.getKey(),v)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=au();let u;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return F1(e).Z({index:"collectionGroupOverlayIndex",range:h},(g,v,D)=>{const I=dN(this.yt,v);s.size()<i||I.largestBatchId===u?(s.set(I.getKey(),I),u=I.largestBatchId):D.done()}).next(()=>s)}oe(e,t){return F1(e).put(function(r,i,s){const[u,h,g]=fB(i,s.mutation.key);return{userId:i,collectionPath:h,documentId:g,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:k1(r.ie,s.mutation)}}(this.yt,this.userId,t))}}function F1(n){return ki(n,"documentOverlays")}class im{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(Br(e.integerValue));else if("doubleValue"in e){const r=Br(e.doubleValue);isNaN(r)?this.he(t,13):(this.he(t,15),v1(r)?t.le(0):t.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe(`${r.seconds||""}`),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(zg(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(t,45),t.le(r.latitude||0),t.le(r.longitude||0)}else"mapValue"in e?tV(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):it()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const r=e.fields||{};this.he(t,55);for(const i of Object.keys(r))this.de(i,t),this.ce(r[i],t)}ye(e,t){const r=e.values||[];this.he(t,50);for(const i of r)this.ce(i,t)}me(e,t){this.he(t,37),qe.fromName(e).path.forEach(r=>{this.he(t,60),this.pe(r,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function D7(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function _B(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const s=D7(255&t[i]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(e/8)}im.Ie=new im;class T7{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ee(r.value),r=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.be(r.value),r=t.next();this.Pe()}ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ee(r);else if(r<2048)this.Ee(960|r>>>6),this.Ee(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r);else{const i=t.codePointAt(0);this.Ee(240|i>>>18),this.Ee(128|63&i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i)}}this.Ae()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.be(r);else if(r<2048)this.be(960|r>>>6),this.be(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.be(480|r>>>12),this.be(128|63&r>>>6),this.be(128|63&r);else{const i=t.codePointAt(0);this.be(240|i>>>18),this.be(128|63&i>>>12),this.be(128|63&i>>>6),this.be(128|63&i)}}this.Pe()}Se(e){const t=this.De(e),r=_B(t);this.Ce(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}xe(e){const t=this.De(e),r=_B(t);this.Ce(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class E7{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class I7{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class L1{constructor(){this.$e=new T7,this.Be=new E7(this.$e),this.Le=new I7(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class om{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new om(this.indexId,this.documentKey,this.arrayValue,r)}}function Of(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=yB(n.arrayValue,e.arrayValue),0!==t?t:(t=yB(n.directionalValue,e.directionalValue),0!==t?t:qe.comparator(n.documentKey,e.documentKey)))}function yB(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class S7{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const r=t;r.isInequality()?this.Qe=r:this.Ge.push(r)}}je(e){ft(e.collectionGroup===this.collectionId);const t=ZP(e);if(void 0!==t&&!this.We(t))return!1;const r=$g(e);let i=0,s=0;for(;i<r.length&&this.We(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Qe){const u=r[i];if(!this.ze(this.Qe,u)||!this.He(this.Ke[s++],u))return!1;++i}for(;i<r.length;++i){const u=r[i];if(s>=this.Ke.length||!this.He(this.Ke[s++],u))return!1}return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function vB(n){var e,t;if(ft(n instanceof nn||n instanceof kn),n instanceof nn){if(n instanceof pV){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>nn.create(n.field,"==",s)))||[];return kn.create(i,"or")}return n}const r=n.filters.map(i=>vB(i));return kn.create(r,n.op)}function M7(n){if(0===n.getFilters().length)return[];const e=pN(vB(n));return ft(bB(e)),hN(e)||fN(e)?[e]:e.getFilters()}function hN(n){return n instanceof nn}function fN(n){return n instanceof kn&&aV(n)}function bB(n){return hN(n)||fN(n)||function(e){if(e instanceof kn&&zP(e)){for(const t of e.getFilters())if(!hN(t)&&!fN(t))return!1;return!0}return!1}(n)}function pN(n){if(ft(n instanceof nn||n instanceof kn),n instanceof nn)return n;if(1===n.filters.length)return pN(n.filters[0]);const e=n.filters.map(r=>pN(r));let t=kn.create(e,n.op);return t=$E(t),bB(t)?t:(ft(t instanceof kn),ft(Py(t)),ft(t.filters.length>1),t.filters.reduce((r,i)=>gN(r,i)))}function gN(n,e){let t;return ft(n instanceof nn||n instanceof kn),ft(e instanceof nn||e instanceof kn),t=n instanceof nn?e instanceof nn?kn.create([n,e],"and"):CB(n,e):e instanceof nn?CB(e,n):function(r,i){if(ft(r.filters.length>0&&i.filters.length>0),Py(r)&&Py(i))return dV(r,i.getFilters());const s=zP(r)?r:i,u=zP(r)?i:r,h=s.filters.map(g=>gN(g,u));return kn.create(h,"or")}(n,e),$E(t)}function CB(n,e){if(Py(e))return dV(e,n.getFilters());{const t=e.filters.map(r=>gN(n,r));return kn.create(t,"or")}}function $E(n){if(ft(n instanceof nn||n instanceof kn),n instanceof nn)return n;const e=n.getFilters();if(1===e.length)return $E(e[0]);if(cV(n))return n;const t=e.map(i=>$E(i)),r=[];return t.forEach(i=>{i instanceof nn?r.push(i):i instanceof kn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:kn.create(r,n.op)}class x7{constructor(){this.Je=new mN}addToCollectionParentIndex(e,t){return this.Je.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(Xs.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(Xs.min())}updateCollectionGroup(e,t,r){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class mN{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Vn(un.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Vn(un.comparator)).toArray()}}const qE=new Uint8Array(0);class O7{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new mN,this.Xe=new Mf(r=>Qg(r),(r,i)=>T1(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const s={collectionId:r,parent:$o(i)};return wB(e).put(s)}return le.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[H3(t),""],!1,!0);return wB(e).W(i).next(s=>{for(const u of s){if(u.collectionId!==t)break;r.push(lu(u.parent))}return r})}addFieldIndex(e,t){const r=WE(e),i={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;delete i.indexId;const s=r.add(i);if(t.indexState){const u=V1(e);return s.next(h=>{u.put(pB(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const r=WE(e),i=V1(e),s=U1(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=U1(e);let i=!0;const s=new Map;return le.forEach(this.Ze(t),u=>this.tn(e,u).next(h=>{i&&(i=!!h),s.set(u,h)})).next(()=>{if(i){let u=Ut();const h=[];return le.forEach(s,(g,v)=>{var D;Fe("IndexedDbIndexManager",`Using index ${D=g,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(Le=>`${Le.fieldPath}:${Le.kind}`).join(",")}`} to execute ${Qg(t)}`);const I=function(Le,Pe){const Ve=ZP(Pe);if(void 0===Ve)return null;for(const $e of kE(Le,Ve.fieldPath))switch($e.op){case"array-contains-any":return $e.value.arrayValue.values||[];case"array-contains":return[$e.value]}return null}(v,g),O=function(Le,Pe){const Ve=new Map;for(const $e of $g(Pe))for(const Dt of kE(Le,$e.fieldPath))switch(Dt.op){case"==":case"in":Ve.set($e.fieldPath.canonicalString(),Dt.value);break;case"not-in":case"!=":return Ve.set($e.fieldPath.canonicalString(),Dt.value),Array.from(Ve.values())}return null}(v,g),k=function(Le,Pe){const Ve=[];let $e=!0;for(const Dt of $g(Pe)){const Zt=0===Dt.kind?_V(Le,Dt.fieldPath,Le.startAt):yV(Le,Dt.fieldPath,Le.startAt);Ve.push(Zt.value),$e&&($e=Zt.inclusive)}return new Sf(Ve,$e)}(v,g),Z=function(Le,Pe){const Ve=[];let $e=!0;for(const Dt of $g(Pe)){const Zt=0===Dt.kind?yV(Le,Dt.fieldPath,Le.endAt):_V(Le,Dt.fieldPath,Le.endAt);Ve.push(Zt.value),$e&&($e=Zt.inclusive)}return new Sf(Ve,$e)}(v,g),z=this.en(g,v,k),ie=this.en(g,v,Z),be=this.nn(g,v,O),Oe=this.sn(g.indexId,I,z,k.inclusive,ie,Z.inclusive,be);return le.forEach(Oe,Le=>r.J(Le,t.limit).next(Pe=>{Pe.forEach(Ve=>{const $e=qe.fromSegments(Ve.documentKey);u.has($e)||(u=u.add($e),h.push($e))})}))}).next(()=>h)}return le.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:M7(kn.create(e.filters,"and")).map(r=>KP(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,r,i,s,u,h){const g=(null!=t?t.length:1)*Math.max(r.length,s.length),v=g/(null!=t?t.length:1),D=[];for(let I=0;I<g;++I){const O=t?this.rn(t[I/v]):qE,k=this.on(e,O,r[I%v],i),Z=this.un(e,O,s[I%v],u),z=h.map(ie=>this.on(e,O,ie,!0));D.push(...this.createRange(k,Z,z))}return D}on(e,t,r,i){const s=new om(e,qe.empty(),t,r);return i?s:s.Ue()}un(e,t,r,i){const s=new om(e,qe.empty(),t,r);return i?s.Ue():s}tn(e,t){const r=new S7(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let u=null;for(const h of s)r.je(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(e,t){let r=2;const i=this.Ze(t);return le.forEach(i,s=>this.tn(e,s).next(u=>{u?0!==r&&u.fields.length<function(h){let g=new Vn(Vr.comparator),v=!1;for(const D of h.filters)for(const I of D.getFlattenedFilters())I.field.isKeyField()||("array-contains"===I.op||"array-contains-any"===I.op?v=!0:g=g.add(I.field));for(const D of h.orderBy)D.field.isKeyField()||(g=g.add(D.field));return g.size+(v?1:0)}(s)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}cn(e,t){const r=new L1;for(const i of $g(e)){const s=t.data.field(i.fieldPath);if(null==s)return null;const u=r.qe(i.kind);im.Ie.ue(s,u)}return r.Fe()}rn(e){const t=new L1;return im.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const r=new L1;return im.Ie.ue(Yg(this.databaseId,t),r.qe(function(i){const s=$g(i);return 0===s.length?0:s[s.length-1].kind}(e))),r.Fe()}nn(e,t,r){if(null===r)return[];let i=[];i.push(new L1);let s=0;for(const u of $g(e)){const h=r[s++];for(const g of i)if(this.hn(t,u.fieldPath)&&w1(h))i=this.ln(i,u,h);else{const v=g.qe(u.kind);im.Ie.ue(h,v)}}return this.fn(i)}en(e,t,r){return this.nn(e,t,r.position)}fn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Fe();return t}ln(e,t,r){const i=[...e],s=[];for(const u of r.arrayValue.values||[])for(const h of i){const g=new L1;g.seed(h.Fe()),im.Ie.ue(u,g.qe(t.kind)),s.push(g)}return s}hn(e,t){return!!e.filters.find(r=>r instanceof nn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=WE(e),i=V1(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(s=>{const u=[];return le.forEach(s,h=>i.get([h.indexId,this.uid]).next(g=>{u.push(function(v,D){const I=D?new m1(D.sequenceNumber,new Xs(nm(D.readTime),new qe(lu(D.documentKey)),D.largestBatchId)):m1.empty(),O=v.fields.map(([k,Z])=>new ME(Vr.fromServerFormat(k),Z));return new SE(v.indexId,v.collectionGroup,O,I)}(h,g))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:Pt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=WE(e),s=V1(e);return this.dn(e).next(u=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>le.forEach(h,g=>s.put(pB(g.indexId,this.user,u,r)))))}updateIndexEntries(e,t){const r=new Map;return le.forEach(t,(i,s)=>{const u=r.get(i.collectionGroup);return(u?le.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(h=>(r.set(i.collectionGroup,h),le.forEach(h,g=>this._n(e,i,g).next(v=>{const D=this.wn(s,g);return v.isEqual(D)?le.resolve():this.mn(e,s,g,v,D)}))))})}gn(e,t,r,i){return U1(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.an(r,t.key),documentKey:t.key.path.toArray()})}yn(e,t,r,i){return U1(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.an(r,t.key),t.key.path.toArray()])}_n(e,t,r){const i=U1(e);let s=new Vn(Of);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.an(r,t)])},(u,h)=>{s=s.add(new om(r.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>s)}wn(e,t){let r=new Vn(Of);const i=this.cn(t,e);if(null==i)return r;const s=ZP(t);if(null!=s){const u=e.data.field(s.fieldPath);if(w1(u))for(const h of u.arrayValue.values||[])r=r.add(new om(t.indexId,e.key,this.rn(h),i))}else r=r.add(new om(t.indexId,e.key,qE,i));return r}mn(e,t,r,i,s){Fe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(h,g,v,D,I){const O=h.getIterator(),k=g.getIterator();let Z=ky(O),z=ky(k);for(;Z||z;){let ie=!1,be=!1;if(Z&&z){const Oe=v(Z,z);Oe<0?be=!0:Oe>0&&(ie=!0)}else null!=Z?be=!0:ie=!0;ie?(D(z),z=ky(k)):be?(I(Z),Z=ky(O)):(Z=ky(O),z=ky(k))}}(i,s,Of,h=>{u.push(this.gn(e,t,r,h))},h=>{u.push(this.yn(e,t,r,h))}),le.waitFor(u)}dn(e){let t=1;return V1(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,h)=>Of(u,h)).filter((u,h,g)=>!h||0!==Of(u,g[h-1]));const i=[];i.push(e);for(const u of r){const h=Of(u,e),g=Of(u,t);if(0===h)i[0]=e.Ue();else if(h>0&&g<0)i.push(u),i.push(u.Ue());else if(g>0)break}i.push(t);const s=[];for(let u=0;u<i.length;u+=2){if(this.pn(i[u],i[u+1]))return[];s.push(IDBKeyRange.bound([i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,qE,[]],[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,qE,[]]))}return s}pn(e,t){return Of(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(DB)}getMinOffset(e,t){return le.mapArray(this.Ze(t),r=>this.tn(e,r).next(i=>i||it())).next(DB)}}function wB(n){return ki(n,"collectionParents")}function U1(n){return ki(n,"indexEntries")}function WE(n){return ki(n,"indexConfiguration")}function V1(n){return ki(n,"indexState")}function DB(n){ft(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;HP(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Xs(e.readTime,e.documentKey,t)}const TB={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class vs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new vs(e,vs.DEFAULT_COLLECTION_PERCENTILE,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function EB(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),s=[],u=IDBKeyRange.only(t.batchId);let h=0;const g=r.Z({range:u},(D,I,O)=>(h++,O.delete()));s.push(g.next(()=>{ft(1===h)}));const v=[];for(const D of t.mutations){const I=sB(e,D.key.path,t.batchId);s.push(i.delete(I)),v.push(D.key)}return le.waitFor(s).next(()=>v)}function zE(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw it();e=n.noDocument}return JSON.stringify(e).length}vs.DEFAULT_COLLECTION_PERCENTILE=10,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vs.DEFAULT=new vs(41943040,vs.DEFAULT_COLLECTION_PERCENTILE,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vs.DISABLED=new vs(-1,0,0);class KE{constructor(e,t,r,i){this.userId=e,this.yt=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static re(e,t,r,i){ft(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new KE(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Af(e).Z({index:"userMutationsIndex",range:r},(i,s,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=jy(e),u=Af(e);return u.add({}).next(h=>{ft("number"==typeof h);const g=new aN(h,t,r,i),v=function(O,k,Z){const z=Z.baseMutations.map(be=>k1(O.ie,be)),ie=Z.mutations.map(be=>k1(O.ie,be));return{userId:k,batchId:Z.batchId,localWriteTimeMs:Z.localWriteTime.toMillis(),baseMutations:z,mutations:ie}}(this.yt,this.userId,g),D=[];let I=new Vn((O,k)=>Pt(O.canonicalString(),k.canonicalString()));for(const O of i){const k=sB(this.userId,O.key.path,h);I=I.add(O.key.path.popLast()),D.push(u.put(v)),D.push(s.put(k,i7))}return I.forEach(O=>{D.push(this.indexManager.addToCollectionParentIndex(e,O))}),e.addOnCommittedListener(()=>{this.In[h]=g.keys()}),le.waitFor(D).next(()=>g)})}lookupMutationBatch(e,t){return Af(e).get(t).next(r=>r?(ft(r.userId===this.userId),rm(this.yt,r)):null)}Tn(e,t){return this.In[t]?le.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Af(e).Z({index:"userMutationsIndex",range:i},(u,h,g)=>{h.userId===this.userId&&(ft(h.batchId>=r),s=rm(this.yt,h)),g.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Af(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,s,u)=>{r=s.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Af(e).W("userMutationsIndex",t).next(r=>r.map(i=>rm(this.yt,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=HE(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return jy(e).Z({range:i},(u,h,g)=>{const[v,D,I]=u,O=lu(D);if(v===this.userId&&t.path.isEqual(O))return Af(e).get(I).next(k=>{if(!k)throw it();ft(k.userId===this.userId),s.push(rm(this.yt,k))});g.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Vn(Pt);const i=[];return t.forEach(s=>{const u=HE(this.userId,s.path),h=IDBKeyRange.lowerBound(u),g=jy(e).Z({range:h},(v,D,I)=>{const[O,k,Z]=v,z=lu(k);O===this.userId&&s.path.isEqual(z)?r=r.add(Z):I.done()});i.push(g)}),le.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=HE(this.userId,r),u=IDBKeyRange.lowerBound(s);let h=new Vn(Pt);return jy(e).Z({range:u},(g,v,D)=>{const[I,O,k]=g,Z=lu(O);I===this.userId&&r.isPrefixOf(Z)?Z.length===i&&(h=h.add(k)):D.done()}).next(()=>this.En(e,h))}En(e,t){const r=[],i=[];return t.forEach(s=>{i.push(Af(e).get(s).next(u=>{if(null===u)throw it();ft(u.userId===this.userId),r.push(rm(this.yt,u))}))}),le.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return EB(e.se,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),le.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return le.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return jy(e).Z({range:r},(s,u,h)=>{if(s[0]===this.userId){const g=lu(s[1]);i.push(g)}else h.done()}).next(()=>{ft(0===i.length)})})}containsKey(e,t){return IB(e,this.userId,t)}Rn(e){return SB(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function IB(n,e,t){const r=HE(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let u=!1;return jy(n).Z({range:s,X:!0},(h,g,v)=>{const[D,I,O]=h;D===e&&I===i&&(u=!0),v.done()}).next(()=>u)}function Af(n){return ki(n,"mutations")}function jy(n){return ki(n,"documentMutations")}function SB(n){return ki(n,"mutationQueues")}class sm{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new sm(0)}static vn(){return new sm(-1)}}class A7{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new sm(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>yt.fromTimestamp(new Cr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Gy(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(ft(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return Gy(e).Z((u,h)=>{const g=R1(h);g.sequenceNumber<=t&&null===r.get(g.targetId)&&(i++,s.push(this.removeTargetData(e,g)))}).next(()=>le.waitFor(s)).next(()=>i)}forEachTarget(e,t){return Gy(e).Z((r,i)=>{const s=R1(i);t(s)})}Vn(e){return MB(e).get("targetGlobalKey").next(t=>(ft(null!==t),t))}Sn(e,t){return MB(e).put("targetGlobalKey",t)}Dn(e,t){return Gy(e).put(hB(this.yt,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Qg(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Gy(e).Z({range:i,index:"queryTargetsIndex"},(u,h,g)=>{const v=R1(h);T1(t,v.target)&&(s=v,g.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=Pf(e);return t.forEach(u=>{const h=$o(u.path);i.push(s.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(e,r,u))}),le.waitFor(i)}removeMatchingKeys(e,t,r){const i=Pf(e);return le.forEach(t,s=>{const u=$o(s.path);return le.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=Pf(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Pf(e);let s=Ut();return i.Z({range:r,X:!0},(u,h,g)=>{const v=lu(u[1]),D=new qe(v);s=s.add(D)}).next(()=>s)}containsKey(e,t){const r=$o(t.path),i=IDBKeyRange.bound([r],[H3(r)],!1,!0);let s=0;return Pf(e).Z({index:"documentTargetsIndex",X:!0,range:i},([u,h],g,v)=>{0!==u&&(s++,v.done())}).next(()=>s>0)}ne(e,t){return Gy(e).get(t).next(r=>r?R1(r):null)}}function Gy(n){return ki(n,"targets")}function MB(n){return ki(n,"targetGlobal")}function Pf(n){return ki(n,"targetDocuments")}function xB([n,e],[t,r]){const i=Pt(n,t);return 0===i?Pt(e,r):i}class P7{constructor(e){this.xn=e,this.buffer=new Vn(xB),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();xB(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class N7{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Fe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,pe.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){wf(r)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Cf(r)}yield t.Fn(3e5)}))}}class k7{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return le.resolve(ea.at);const r=new P7(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(TB)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TB):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let r,i,s,u,h,g,v;const D=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),i=this.params.maximumSequenceNumbersToCollect):i=I,u=Date.now(),this.nthSequenceNumber(e,i))).next(I=>(r=I,h=Date.now(),this.removeTargets(e,r,t))).next(I=>(s=I,g=Date.now(),this.removeOrphanedDocuments(e,r))).next(I=>(v=Date.now(),VP()<=Jc.in.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-D}ms\n\tDetermined least recently used ${i} in `+(h-u)+`ms\n\tRemoved ${s} targets in `+(g-h)+`ms\n\tRemoved ${I} documents in `+(v-g)+`ms\nTotal Duration: ${v-D}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:I})))}}class R7{constructor(e,t){this.db=e,this.garbageCollector=new k7(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Un(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return YE(e,r)}removeReference(e,t,r){return YE(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return YE(e,t)}Gn(e,t){return function(r,i){let s=!1;return SB(r).tt(u=>IB(r,u,i).next(h=>(h&&(s=!0),le.resolve(!h)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Kn(e,(u,h)=>{if(h<=t){const g=this.Gn(e,u).next(v=>{if(!v)return s++,r.getEntry(e,u).next(()=>(r.removeEntry(u,yt.min()),Pf(e).delete([0,$o(u.path)])))});i.push(g)}}).next(()=>le.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return YE(e,t)}Kn(e,t){const r=Pf(e);let i,s=ea.at;return r.Z({index:"documentTargetsIndex"},([u,h],{path:g,sequenceNumber:v})=>{0===u?(s!==ea.at&&t(new qe(lu(i)),s),s=v,i=g):s=ea.at}).next(()=>{s!==ea.at&&t(new qe(lu(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function YE(n,e){return Pf(n).put((r=n.currentSequenceNumber,{targetId:0,path:$o(e.path),sequenceNumber:r}));var r}class OB{constructor(){this.changes=new Mf(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?le.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class F7{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return am(e).put(r)}removeEntry(e,t,r){return am(e).delete(function(i,s){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],jE(s),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=rr.newInvalidDocument(t);return am(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(B1(t))},(i,s)=>{r=this.jn(t,s)}).next(()=>r)}Wn(e,t){let r={size:0,document:rr.newInvalidDocument(t)};return am(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(B1(t))},(i,s)=>{r={document:this.jn(t,s),size:zE(s)}}).next(()=>r)}getEntries(e,t){let r=ys();return this.zn(e,t,(i,s)=>{const u=this.jn(i,s);r=r.insert(i,u)}).next(()=>r)}Hn(e,t){let r=ys(),i=new Zr(qe.comparator);return this.zn(e,t,(s,u)=>{const h=this.jn(s,u);r=r.insert(s,h),i=i.insert(s,zE(u))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return le.resolve();let i=new Vn(kB);t.forEach(g=>i=i.add(g));const s=IDBKeyRange.bound(B1(i.first()),B1(i.last())),u=i.getIterator();let h=u.getNext();return am(e).Z({index:"documentKeyIndex",range:s},(g,v,D)=>{const I=qe.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;h&&kB(h,I)<0;)r(h,null),h=u.getNext();h&&h.isEqual(I)&&(r(h,v),h=u.hasNext()?u.getNext():null),h?D.j(B1(h)):D.done()}).next(()=>{for(;h;)r(h,null),h=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),jE(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],s=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return am(e).W(IDBKeyRange.bound(i,s,!0)).next(u=>{let h=ys();for(const g of u){const v=this.jn(qe.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);h=h.insert(v.key,v)}return h})}getAllFromCollectionGroup(e,t,r,i){let s=ys();const u=NB(t,r),h=NB(t,Xs.max());return am(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(g,v,D)=>{const I=this.jn(qe.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);s=s.insert(I.key,I),s.size===i&&D.done()}).next(()=>s)}newChangeBuffer(e){return new L7(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return PB(e).get("remoteDocumentGlobalKey").next(t=>(ft(!!t),t))}Qn(e,t){return PB(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function C7(n,e){let t;if(e.document)t=JV(n.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=qe.fromSegments(e.noDocument.path),i=nm(e.noDocument.readTime);t=rr.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return it();{const r=qe.fromSegments(e.unknownDocument.path),i=nm(e.unknownDocument.version);t=rr.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Cr(r[0],r[1]);return yt.fromTimestamp(i)}(e.readTime)),t}(this.yt,t);if(!r.isNoDocument()||!r.version.isEqual(yt.min()))return r}return rr.newInvalidDocument(e)}}function AB(n){return new F7(n)}class L7 extends OB{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Mf(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Vn((s,u)=>Pt(s.canonicalString(),u.canonicalString()));return this.changes.forEach((s,u)=>{const h=this.Xn.get(s);if(t.push(this.Yn.removeEntry(e,s,h.readTime)),u.isValidDocument()){const g=dB(this.Yn.yt,u);i=i.add(s.path.popLast()),r+=zE(g)-h.size,t.push(this.Yn.addEntry(e,s,g))}else if(r-=h.size,this.trackRemovals){const g=dB(this.Yn.yt,u.convertToNoDocument(yt.min()));t.push(this.Yn.addEntry(e,s,g))}}),i.forEach(s=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Yn.updateMetadata(e,r)),le.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((s,u)=>{this.Xn.set(s,{size:u,readTime:r.get(s).readTime})}),r))}}function PB(n){return ki(n,"remoteDocumentGlobal")}function am(n){return ki(n,"remoteDocumentsV14")}function B1(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function NB(n,e){const t=e.documentKey.path.toArray();return[n,jE(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function kB(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=Pt(t[s],r[s]),i)return i;return i=Pt(t.length,r.length),i||(i=Pt(t[t.length-2],r[r.length-2]),i||Pt(t[t.length-1],r[r.length-1]))}class U7{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class RB{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&S1(r.mutation,i,ta.empty(),Cr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ut()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ut()){const i=au();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let u=M1();return s.forEach((h,g)=>{u=u.insert(h,g.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=au();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ut()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,i){let s=ys();const u=x1(),h=x1();return t.forEach((g,v)=>{const D=r.get(v.key);i.has(v.key)&&(void 0===D||D.mutation instanceof Od)?s=s.insert(v.key,v):void 0!==D&&(u.set(v.key,D.mutation.getFieldMask()),S1(D.mutation,v,D.mutation.getFieldMask(),Cr.now()))}),this.recalculateAndSaveOverlays(e,s).next(g=>(g.forEach((v,D)=>u.set(v,D)),t.forEach((v,D)=>{var I;return h.set(v,new U7(D,null!==(I=u.get(v))&&void 0!==I?I:null))}),h))}recalculateAndSaveOverlays(e,t){const r=x1();let i=new Zr((u,h)=>u-h),s=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(g=>{const v=t.get(g);if(null===v)return;let D=r.get(g)||ta.empty();D=h.applyToLocalView(v,D),r.set(g,D);const I=(i.get(h.batchId)||Ut()).add(g);i=i.insert(h.batchId,I)})}).next(()=>{const u=[],h=i.getReverseIterator();for(;h.hasNext();){const g=h.getNext(),v=g.key,D=g.value,I=ZV();D.forEach(O=>{if(!s.has(O)){const k=PV(t.get(O),r.get(O));null!==k&&I.set(O,k),s=s.add(O)}}),u.push(this.documentOverlayCache.saveOverlays(e,v,I))}return le.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return qe.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):QP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const u=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):le.resolve(au());let h=-1,g=s;return u.next(v=>le.forEach(v,(D,I)=>(h<I.largestBatchId&&(h=I.largestBatchId),s.get(D)?le.resolve():this.remoteDocumentCache.getEntry(e,D).next(O=>{g=g.insert(D,O)}))).next(()=>this.populateOverlays(e,v,s)).next(()=>this.computeViews(e,g,v,Ut())).next(D=>({batchId:h,changes:BV(D)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new qe(t)).next(r=>{let i=M1();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=M1();return this.indexManager.getCollectionParents(e,i).next(u=>le.forEach(u,h=>{const g=(v=t,D=h.child(i),new xd(D,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,D;return this.getDocumentsMatchingCollectionQuery(e,g,r).next(v=>{v.forEach((D,I)=>{s=s.insert(D,I)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(s=>{s.forEach((h,g)=>{const v=g.getKey();null===i.get(v)&&(i=i.insert(v,rr.newInvalidDocument(v)))});let u=M1();return i.forEach((h,g)=>{const v=s.get(h);void 0!==v&&S1(v.mutation,g,ta.empty(),Cr.now()),eN(t,g)&&(u=u.insert(h,g))}),u})}}class V7{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return le.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:ti(r.createTime)}),le.resolve()}getNamedQuery(e,t){return le.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:uN(r.bundledQuery),readTime:ti(r.readTime)}),le.resolve();var r}}class B7{constructor(){this.overlays=new Zr(qe.comparator),this.es=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const r=au();return le.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.oe(e,t,s)}),le.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),le.resolve()}getOverlaysForCollection(e,t,r){const i=au(),s=t.length+1,u=new qe(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const g=h.getNext().value,v=g.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===s&&g.largestBatchId>r&&i.set(g.getKey(),g)}return le.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Zr((v,D)=>v-D);const u=this.overlays.getIterator();for(;u.hasNext();){const v=u.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>r){let D=s.get(v.largestBatchId);null===D&&(D=au(),s=s.insert(v.largestBatchId,D)),D.set(v.getKey(),v)}}const h=au(),g=s.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,D)=>h.set(v,D)),!(h.size()>=i)););return le.resolve(h)}oe(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const u=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new lN(t,r));let s=this.es.get(t);void 0===s&&(s=Ut(),this.es.set(t,s)),this.es.set(t,s.add(r.key))}}class _N{constructor(){this.ns=new Vn(Ri.ss),this.rs=new Vn(Ri.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Ri(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Ri(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new qe(new un([])),r=new Ri(t,e),i=new Ri(t,e+1),s=[];return this.rs.forEachInRange([r,i],u=>{this.cs(u),s.push(u.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new qe(new un([])),r=new Ri(t,e),i=new Ri(t,e+1);let s=Ut();return this.rs.forEachInRange([r,i],u=>{s=s.add(u.key)}),s}containsKey(e){const t=new Ri(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ri{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return qe.comparator(e.key,t.key)||Pt(e._s,t._s)}static os(e,t){return Pt(e._s,t._s)||qe.comparator(e.key,t.key)}}class Z7{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Vn(Ri.ss)}checkEmpty(e){return le.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.ws;this.ws++;const u=new aN(s,t,r,i);this.mutationQueue.push(u);for(const h of i)this.gs=this.gs.add(new Ri(h.key,s)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return le.resolve(u)}lookupMutationBatch(e,t){return le.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),s=i<0?0:i;return le.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ri(t,0),i=new Ri(t,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],u=>{const h=this.ys(u._s);s.push(h)}),le.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Vn(Pt);return t.forEach(i=>{const s=new Ri(i,0),u=new Ri(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,u],h=>{r=r.add(h._s)})}),le.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;qe.isDocumentKey(s)||(s=s.child(""));const u=new Ri(new qe(s),0);let h=new Vn(Pt);return this.gs.forEachWhile(g=>{const v=g.key.path;return!!r.isPrefixOf(v)&&(v.length===i&&(h=h.add(g._s)),!0)},u),le.resolve(this.Is(h))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){ft(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return le.forEach(t.mutations,i=>{const s=new Ri(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Ri(t,0),i=this.gs.firstAfterOrEqual(r);return le.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return le.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class H7{constructor(e){this.Es=e,this.docs=new Zr(qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,u=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return le.resolve(r?r.document.mutableCopy():rr.newInvalidDocument(t))}getEntries(e,t){let r=ys();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():rr.newInvalidDocument(i))}),le.resolve(r)}getAllFromCollection(e,t,r){let i=ys();const s=new qe(t.child("")),u=this.docs.getIteratorFrom(s);for(;u.hasNext();){const{key:h,value:{document:g}}=u.getNext();if(!t.isPrefixOf(h.path))break;h.path.length>t.length+1||HP(G3(g),r)<=0||(i=i.insert(g.key,g.mutableCopy()))}return le.resolve(i)}getAllFromCollectionGroup(e,t,r,i){it()}As(e,t){return le.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new j7(this)}getSize(e){return le.resolve(this.size)}}class j7 extends OB{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),le.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class G7{constructor(e){this.persistence=e,this.Rs=new Mf(t=>Qg(t),T1),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new _N,this.targetCount=0,this.vs=sm.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),le.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new sm(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.Dn(t),le.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Rs.forEach((u,h)=>{h.sequenceNumber<=t&&null===r.get(h.targetId)&&(this.Rs.delete(u),s.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),le.waitFor(s).next(()=>i)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return le.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),le.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(u=>{s.push(i.markPotentiallyOrphaned(e,u))}),le.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),le.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return le.resolve(r)}containsKey(e,t){return le.resolve(this.Ps.containsKey(t))}}class FB{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new ea(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new G7(this),this.indexManager=new x7,this.remoteDocumentCache=new H7(r=>this.referenceDelegate.xs(r)),this.yt=new uB(t),this.Ns=new V7(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new B7,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new Z7(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Fe("MemoryPersistence","Starting transaction:",e);const i=new $7(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,t){return le.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class $7 extends q3{constructor(e){super(),this.currentSequenceNumber=e}}class QE{constructor(e){this.persistence=e,this.Fs=new _N,this.$s=null}static Bs(e){return new QE(e)}get Ls(){if(this.$s)return this.$s;throw it()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),le.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),le.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Ls,r=>{const i=qe.fromPath(r);return this.qs(e,i).next(s=>{s||t.removeEntry(i,yt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return le.or([()=>le.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class q7{constructor(e){this.yt=e}$(e,t,r,i){const s=new xE("createOrUpgrade",t);var h;r<1&&i>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",oB,{unique:!0}),h.createObjectStore("documentMutations"),LB(e),function(h){h.createObjectStore("remoteDocuments")}(e));let u=le.resolve();return r<3&&i>=3&&(0!==r&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),LB(e)),u=u.next(()=>function(h){const g=h.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:yt.min().toTimestamp(),targetCount:0};return g.put("targetGlobalKey",v)}(s))),r<4&&i>=4&&(0!==r&&(u=u.next(()=>function(h,g){return g.store("mutations").W().next(v=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",oB,{unique:!0});const D=g.store("mutations"),I=v.map(O=>D.put(O));return le.waitFor(I)})}(e,s))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(u=u.next(()=>this.Us(s))),r<6&&i>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(s)))),r<7&&i>=7&&(u=u.next(()=>this.Gs(s))),r<8&&i>=8&&(u=u.next(()=>this.Qs(e,s))),r<9&&i>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(u=u.next(()=>this.js(s))),r<11&&i>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(u=u.next(()=>{!function(h){const g=h.createObjectStore("documentOverlays",{keyPath:m7});g.createIndex("collectionPathOverlayIndex",_7,{unique:!1}),g.createIndex("collectionGroupOverlayIndex",y7,{unique:!1})}(e)})),r<13&&i>=13&&(u=u.next(()=>function(h){const g=h.createObjectStore("remoteDocumentsV14",{keyPath:o7});g.createIndex("documentKeyIndex",s7),g.createIndex("collectionGroupIndex",a7)}(e)).next(()=>this.Ws(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(u=u.next(()=>this.zs(e,s))),r<15&&i>=15&&(u=u.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:h7}).createIndex("sequenceNumberIndex",f7,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:p7}).createIndex("documentKeyIndex",g7,{unique:!1})}(e))),u}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=zE(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Us(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>le.forEach(i,s=>{const u=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",u).next(h=>le.forEach(h,g=>{ft(g.userId===s.userId);const v=rm(this.yt,g);return EB(e,s.userId,v).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Z((u,h)=>{const g=new un(u),v=[0,$o(g)];s.push(t.get(v).next(D=>D?le.resolve():t.put({targetId:0,path:$o(g),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>le.waitFor(s))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:d7});const r=t.store("collectionParents"),i=new mN,s=u=>{if(i.add(u)){const h=u.lastSegment(),g=u.popLast();return r.put({collectionId:h,parent:$o(g)})}};return t.store("remoteDocuments").Z({X:!0},(u,h)=>{const g=new un(u);return s(g.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([u,h,g],v)=>{const D=lu(h);return s(D.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const s=R1(i),u=hB(this.yt,s);return t.put(u)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((s,u)=>{const h=t.store("remoteDocumentsV14"),g=(v=u,v.document?new qe(un.fromString(v.document.name).popFirst(5)):v.noDocument?qe.fromSegments(v.noDocument.path):v.unknownDocument?qe.fromSegments(v.unknownDocument.path):it()).path.toArray();var v;const D={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(h.put(D))}).next(()=>le.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=AB(this.yt),s=new FB(QE.Bs,this.yt.ie);return r.W().next(u=>{const h=new Map;return u.forEach(g=>{var v;let D=null!==(v=h.get(g.userId))&&void 0!==v?v:Ut();rm(this.yt,g).keys().forEach(I=>D=D.add(I)),h.set(g.userId,D)}),le.forEach(h,(g,v)=>{const D=new Ni(v),I=GE.re(this.yt,D),O=s.getIndexManager(D),k=KE.re(D,this.yt,O,s.referenceDelegate);return new RB(i,k,I,O).recalculateAndSaveOverlaysForDocumentKeys(new sN(t,ea.at),g).next()})})}}function LB(n){n.createObjectStore("targetDocuments",{keyPath:l7}).createIndex("documentTargetsIndex",u7,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",c7,{unique:!0}),n.createObjectStore("targetGlobal")}const yN="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class vN{constructor(e,t,r,i,s,u,h,g,v,D,I=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=s,this.window=u,this.document=h,this.Js=v,this.Ys=D,this.Xs=I,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=O=>Promise.resolve(),!vN.C())throw new xe(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new R7(this,i),this.ii=t+"main",this.yt=new uB(g),this.ri=new el(this.ii,this.Xs,new q7(this.yt)),this.Cs=new A7(this.referenceDelegate,this.yt),this.remoteDocumentCache=AB(this.yt),this.Ns=new w7,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===D&&ei("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xe(de.FAILED_PRECONDITION,yN);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new ea(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,pe.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,pe.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,pe.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>JE(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(wf(e))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Z1(e).get("owner").next(t=>le.resolve(this.mi(t)))}gi(e){return JE(e).delete(this.clientId)}yi(){var e=this;return(0,pe.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=ki(r,"clientMetadata");return i.W().next(s=>{const u=e.Ii(s,18e5),h=s.filter(g=>-1===u.indexOf(g));return le.forEach(h,g=>i.delete(g.clientId)).next(()=>h)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?le.resolve(!0):Z1(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new xe(de.FAILED_PRECONDITION,yN);return!1}}return!(!this.networkEnabled||!this.inForeground)||JE(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const u=!this.inForeground&&i.inForeground,h=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||u&&h)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Fe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,pe.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new sN(t,ea.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>JE(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return KE.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new O7(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return GE.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Fe("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",s=15===(u=this.Xs)?b7:14===u?lB:13===u?cB:12===u?v7:11===u?aB:void it();var u;let h;return this.ri.runTransaction(e,i,s,g=>(h=new sN(g,this.Ss?this.Ss.next():ea.at),"readwrite-primary"===t?this.fi(h).next(v=>!!v||this.di(h)).next(v=>{if(!v)throw ei(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new xe(de.FAILED_PRECONDITION,$3);return r(h)}).next(v=>this.wi(h).next(()=>v)):this.Vi(h).next(()=>r(h)))).then(g=>(h.raiseOnCommittedEvent(),g))}Vi(e){return Z1(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new xe(de.FAILED_PRECONDITION,yN)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Z1(e).put("owner",t)}static C(){return el.C()}_i(e){const t=Z1(e);return t.get("owner").next(r=>this.mi(r)?(Fe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):le.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(ei(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,R.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Fe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ei("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){ei("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Z1(n){return ki(n,"owner")}function JE(n){return ki(n,"clientMetadata")}function bN(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class CN{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=Ut(),i=Ut();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new CN(e,t.fromCache,r,i)}}class UB{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(s=>s||this.Oi(e,t,i,r)).next(s=>s||this.Mi(e,t))}ki(e,t){if(bV(t))return le.resolve(null);let r=Go(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=FE(t,null,"F"),r=Go(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const u=Ut(...s);return this.Ni.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(g=>{const v=this.Fi(t,h);return this.$i(t,v,u,g.readTime)?this.ki(e,FE(t,null,"F")):this.Bi(e,v,t,g)}))})))}Oi(e,t,r,i){return bV(t)||i.isEqual(yt.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(s=>{const u=this.Fi(t,s);return this.$i(t,u,r,i)?this.Mi(e,t):(VP()<=Jc.in.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),XP(t)),this.Bi(e,u,t,j3(i,-1)))})}Fi(e,t){let r=new Vn(DV(e));return t.forEach((i,s)=>{eN(e,s)&&(r=r.add(s))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,t){return VP()<=Jc.in.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",XP(t)),this.Ni.getDocumentsMatchingQuery(e,t,Xs.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(u=>{s=s.insert(u.key,u)}),s))}}class W7{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.yt=i,this.qi=new Zr(Pt),this.Ui=new Mf(s=>Qg(s),T1),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RB(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function VB(n,e,t,r){return new W7(n,e,t,r)}function BB(n,e){return wN.apply(this,arguments)}function wN(){return wN=(0,pe.Z)(function*(n,e){const t=Ke(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const u=[],h=[];let g=Ut();for(const v of i){u.push(v.batchId);for(const D of v.mutations)g=g.add(D.key)}for(const v of s){h.push(v.batchId);for(const D of v.mutations)g=g.add(D.key)}return t.localDocuments.getDocuments(r,g).next(v=>({ji:v,removedBatchIds:u,addedBatchIds:h}))})})}),wN.apply(this,arguments)}function z7(n,e){const t=Ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Gi.newChangeBuffer({trackRemovals:!0});return function(u,h,g,v){const D=g.batch,I=D.keys();let O=le.resolve();return I.forEach(k=>{O=O.next(()=>v.getEntry(h,k)).next(Z=>{const z=g.docVersions.get(k);ft(null!==z),Z.version.compareTo(z)<0&&(D.applyToRemoteDocument(Z,g),Z.isValidDocument()&&(Z.setReadTime(g.commitVersion),v.addEntry(Z)))})}),O.next(()=>u.mutationQueue.removeMutationBatch(h,D))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let h=Ut();for(let g=0;g<u.mutationResults.length;++g)u.mutationResults[g].transformResults.length>0&&(h=h.add(u.batch.mutations[g].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function ZB(n){const e=Ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function K7(n,e){const t=Ke(n),r=e.snapshotVersion;let i=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const u=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.qi;const h=[];e.targetChanges.forEach((D,I)=>{const O=i.get(I);if(!O)return;h.push(t.Cs.removeMatchingKeys(s,D.removedDocuments,I).next(()=>t.Cs.addMatchingKeys(s,D.addedDocuments,I)));let k=O.withSequenceNumber(s.currentSequenceNumber);var Z,z,ie;e.targetMismatches.has(I)?k=k.withResumeToken(Si.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):D.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(D.resumeToken,r)),i=i.insert(I,k),z=k,ie=D,(0===(Z=O).resumeToken.approximateByteSize()||z.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=3e8||ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0)&&h.push(t.Cs.updateTargetData(s,k))});let g=ys(),v=Ut();if(e.documentUpdates.forEach(D=>{e.resolvedLimboDocuments.has(D)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(s,D))}),h.push(HB(s,u,e.documentUpdates).next(D=>{g=D.Wi,v=D.zi})),!r.isEqual(yt.min())){const D=t.Cs.getLastRemoteSnapshotVersion(s).next(I=>t.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));h.push(D)}return le.waitFor(h).next(()=>u.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,g,v)).next(()=>g)}).then(s=>(t.qi=i,s))}function HB(n,e,t){let r=Ut(),i=Ut();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let u=ys();return t.forEach((h,g)=>{const v=s.get(h);g.isFoundDocument()!==v.isFoundDocument()&&(i=i.add(h)),g.isNoDocument()&&g.version.isEqual(yt.min())?(e.removeEntry(h,g.readTime),u=u.insert(h,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||0===g.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(g),u=u.insert(h,g)):Fe("LocalStore","Ignoring outdated watch update for ",h,". Current version:",v.version," Watch version:",g.version)}),{Wi:u,zi:i}})}function Y7(n,e){const t=Ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function $y(n,e){const t=Ke(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(s=>s?(i=s,le.resolve(i)):t.Cs.allocateTargetId(r).next(u=>(i=new xf(e,u,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qi=t.qi.insert(r.targetId,r),t.Ui.set(e,r.targetId)),r})}function qy(n,e,t){return DN.apply(this,arguments)}function DN(){return DN=(0,pe.Z)(function*(n,e,t){const r=Ke(n),i=r.qi.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!wf(u))throw u;Fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),DN.apply(this,arguments)}function XE(n,e,t){const r=Ke(n);let i=yt.min(),s=Ut();return r.persistence.runTransaction("Execute query","readonly",u=>function(h,g,v){const D=Ke(h),I=D.Ui.get(v);return void 0!==I?le.resolve(D.qi.get(I)):D.Cs.getTargetData(g,v)}(r,u,Go(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(u,h.targetId).next(g=>{s=g})}).next(()=>r.Li.getDocumentsMatchingQuery(u,e,t?i:yt.min(),t?s:Ut())).next(h=>($B(r,wV(e),h),{documents:h,Hi:s})))}function jB(n,e){const t=Ke(n),r=Ke(t.Cs),i=t.qi.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r.ne(s,e).next(u=>u?u.target:null))}function GB(n,e){const t=Ke(n),r=t.Ki.get(e)||yt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,j3(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>($B(t,e,i),i))}function $B(n,e,t){let r=n.Ki.get(e)||yt.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Ki.set(e,r)}function TN(){return TN=(0,pe.Z)(function*(n,e,t,r){const i=Ke(n);let s=Ut(),u=ys();for(const v of t){const D=e.Ji(v.metadata.name);v.document&&(s=s.add(D));const I=e.Yi(v);I.setReadTime(e.Xi(v.metadata.readTime)),u=u.insert(D,I)}const h=i.Gi.newChangeBuffer({trackRemovals:!0}),g=yield $y(i,(v=r,Go(Ry(un.fromString(`__bundle__/docs/${v}`)))));var v;return i.persistence.runTransaction("Apply bundle documents","readwrite",v=>HB(v,h,u).next(D=>(h.apply(v),D)).next(D=>i.Cs.removeMatchingKeysForTargetId(v,g.targetId).next(()=>i.Cs.addMatchingKeys(v,s,g.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(v,D.Wi,D.zi)).next(()=>D.Wi)))}),TN.apply(this,arguments)}function J7(n,e){return EN.apply(this,arguments)}function EN(){return EN=(0,pe.Z)(function*(n,e,t=Ut()){const r=yield $y(n,Go(uN(e.bundledQuery))),i=Ke(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const u=ti(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Ns.saveNamedQuery(s,e);const h=r.withResumeToken(Si.EMPTY_BYTE_STRING,u);return i.qi=i.qi.insert(h.targetId,h),i.Cs.updateTargetData(s,h).next(()=>i.Cs.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Cs.addMatchingKeys(s,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(s,e))})}),EN.apply(this,arguments)}function qB(n,e){return`firestore_clients_${n}_${e}`}function WB(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function IN(n,e){return`firestore_targets_${n}_${e}`}class eI{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let s,u="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(s=new xe(i.error.code,i.error.message))),u?new eI(e,t,i.state,s):(ei("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class H1{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new xe(r.error.code,r.error.message))),s?new H1(e,r.state,i):(ei("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class tI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=BE();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=Y3(r.activeTargetIds[u]),s=s.add(r.activeTargetIds[u]);return i?new tI(e,s):(ei("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class SN{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new SN(t.clientId,t.onlineState):(ei("SharedClientState",`Failed to parse online state: ${e}`),null)}}class MN{constructor(){this.activeTargetIds=BE()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xN{constructor(e,t,r,i,s){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Zr(Pt),this.started=!1,this.cr=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ar=qB(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new MN),this.lr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,pe.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const s=e.getItem(qB(e.persistenceKey,i));if(s){const u=tI.Zi(i,s);u&&(e.ur=e.ur.insert(u.clientId,u))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(IN(this.persistenceKey,e));if(r){const i=H1.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(IN(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Fe("SharedClientState","READ",e,t),t}setItem(e,t){Fe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Fe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Fe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void ei("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,pe.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(s){let u=ea.at;if(null!=s)try{const h=JSON.parse(s);ft("number"==typeof h),u=h}catch(h){ei("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(r.newValue);i!==ea.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(s=>t.syncEngine.Mr(s)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new eI(this.currentUser,e,t,r),s=WB(this.persistenceKey,this.currentUser,e);this.setItem(s,i.tr())}Er(e){const t=WB(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=IN(this.persistenceKey,e),s=new H1(e,t,r);this.setItem(i,s.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return tI.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return eI.Zi(new Ni(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return H1.Zi(i,t)}yr(e){return SN.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,pe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Fe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),s=this.Ir(r),u=[],h=[];return s.forEach(g=>{i.has(g)||u.push(g)}),i.forEach(g=>{s.has(g)||h.push(g)}),this.syncEngine.Br(u,h).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=BE();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class zB{constructor(){this.Lr=new MN,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new MN,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class X7{Ur(e){}shutdown(){}}class KB{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const eW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tW{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class nW extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,s){const u=this.ho(e,t);Fe("RestConnection","Sending: ",u,r);const h={};return this.lo(h,i,s),this.fo(e,u,h,r).then(g=>(Fe("RestConnection","Received: ",g),g),g=>{throw Gg("RestConnection",`${e} failed with error: `,g,"url: ",u,"request:",r),g})}_o(e,t,r,i,s,u){return this.ao(e,t,r,i,s)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+xy,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,t){return`${this.oo}/v1/${t}:${eW[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((s,u)=>{const h=new t9;h.setWithCredentials(!0),h.listenOnce(Jq.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case UP.NO_ERROR:const v=h.getResponseJson();Fe("Connection","XHR received:",JSON.stringify(v)),s(v);break;case UP.TIMEOUT:Fe("Connection",'RPC "'+e+'" timed out'),u(new xe(de.DEADLINE_EXCEEDED,"Request time out"));break;case UP.HTTP_ERROR:const D=h.getStatus();if(Fe("Connection",'RPC "'+e+'" failed with status:',D,"response text:",h.getResponseText()),D>0){let I=h.getResponseJson();Array.isArray(I)&&(I=I[0]);const O=I?.error;if(O&&O.status&&O.message){const k=function(Z){const z=Z.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(z)>=0?z:de.UNKNOWN}(O.status);u(new xe(k,O.message))}else u(new xe(de.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new xe(de.UNAVAILABLE,"Connection failed."));break;default:it()}}finally{Fe("Connection",'RPC "'+e+'" completed.')}});const g=JSON.stringify(i);h.send(t,"POST",g,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Yq(),u=Qq(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new e9({})),this.lo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const g=i.join("");Fe("Connection","Creating WebChannel: "+g,h);const v=s.createWebChannel(g,h);let D=!1,I=!1;const O=new tW({Hr:Z=>{I?Fe("Connection","Not sending because WebChannel is closed:",Z):(D||(Fe("Connection","Opening WebChannel transport."),v.open(),D=!0),Fe("Connection","WebChannel sending:",Z),v.send(Z))},Jr:()=>v.close()}),k=(Z,z,ie)=>{Z.listen(z,be=>{try{ie(be)}catch(Oe){setTimeout(()=>{throw Oe},0)}})};return k(v,IE.EventType.OPEN,()=>{I||Fe("Connection","WebChannel transport opened.")}),k(v,IE.EventType.CLOSE,()=>{I||(I=!0,Fe("Connection","WebChannel transport closed"),O.io())}),k(v,IE.EventType.ERROR,Z=>{I||(I=!0,Gg("Connection","WebChannel transport errored:",Z),O.io(new xe(de.UNAVAILABLE,"The operation could not be completed")))}),k(v,IE.EventType.MESSAGE,Z=>{var z;if(!I){const ie=Z.data[0];ft(!!ie);const be=ie,Oe=be.error||(null===(z=be[0])||void 0===z?void 0:z.error);if(Oe){Fe("Connection","WebChannel received error:",Oe);const Le=Oe.status;let Pe=function($e){const Dt=hi[$e];if(void 0!==Dt)return UV(Dt)}(Le),Ve=Oe.message;void 0===Pe&&(Pe=de.INTERNAL,Ve="Unknown error status: "+Le+" with message "+Oe.message),I=!0,O.io(new xe(Pe,Ve)),v.close()}else Fe("Connection","WebChannel received:",ie),O.ro(ie)}}),k(u,Xq.STAT_EVENT,Z=>{Z.stat===L3.PROXY?Fe("Connection","Detected buffering proxy"):Z.stat===L3.NOPROXY&&Fe("Connection","Detected no buffering proxy")}),setTimeout(()=>{O.so()},0),O}}function YB(){return typeof window<"u"?window:null}function nI(){return typeof document<"u"?document:null}function j1(n){return new W9(n,!0)}class ON{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&Fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class QB{constructor(e,t,r,i,s,u,h,g){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=g,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new ON(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,pe.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,pe.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,pe.Z)(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(ei(t.toString()),ei("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===de.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new xe(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,pe.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rW extends QB{constructor(e,t,r,i,s,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.yt=s}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function Y9(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(g=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:it(),i=e.targetChange.targetIds||[],s=function(g,v){return g.wt?(ft(void 0===v||"string"==typeof v),Si.fromBase64String(v||"")):(ft(void 0===v||v instanceof Uint8Array),Si.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(g){const v=void 0===g.code?de.UNKNOWN:UV(g.code);return new xe(v,g.message||"")}(u);t=new jV(r,i,s,h||null)}else if("documentChange"in e){const r=e.documentChange,i=cu(n,r.document.name),s=ti(r.document.updateTime),u=r.document.createTime?ti(r.document.createTime):yt.min(),h=new Yi({mapValue:{fields:r.document.fields}}),g=rr.newFoundDocument(i,s,u,h);t=new ZE(r.targetIds||[],r.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const r=e.documentDelete,i=cu(n,r.document),s=r.readTime?ti(r.readTime):yt.min(),u=rr.newNoDocument(i,s);t=new ZE([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,i=cu(n,r.document);t=new ZE([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return it();{const r=e.filter,s=new U9(r.count||0);t=new HV(r.targetId,s)}}var g;return t}(this.yt,e),r=function(i){if(!("targetChange"in i))return yt.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?yt.min():s.readTime?ti(s.readTime):yt.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=N1(this.yt),t.addTarget=function(i,s){let u;const h=s.target;return u=NE(h)?{documents:XV(i,h)}:{query:oN(i,h)},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?u.resumeToken=WV(i,s.resumeToken):s.snapshotVersion.compareTo(yt.min())>0&&(u.readTime=By(i,s.snapshotVersion.toTimestamp())),u}(this.yt,e);const r=function J9(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return it()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=N1(this.yt),t.removeTarget=e,this.Bo(t)}}class iW extends QB{constructor(e,t,r,i,s,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function Q9(n,e){return n&&n.length>0?(ft(void 0!==e),n.map(t=>function(r,i){let s=ti(r.updateTime?r.updateTime:i);return s.isEqual(yt.min())&&(s=ti(i)),new R9(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ti(e.commitTime);return this.listener.Zo(r,t)}return ft(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=N1(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>k1(this.yt,r))};this.Bo(t)}}class oW extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new xe(de.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new xe(de.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection._o(e,t,r,s,u,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new xe(de.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class aW{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ei(t),this.ou=!1):Fe("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class cW{constructor(e,t,r,i,s){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(h=>{r.enqueueAndForget((0,pe.Z)(function*(){var g;Ad(u)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,pe.Z)(function*(v){const D=Ke(v);D._u.add(4),yield Wy(D),D.gu.set("Unknown"),D._u.delete(4),yield G1(D)}),function(v){return g.apply(this,arguments)})(u))}))}),this.gu=new aW(r,i)}}function G1(n){return PN.apply(this,arguments)}function PN(){return PN=(0,pe.Z)(function*(n){if(Ad(n))for(const e of n.wu)yield e(!0)}),PN.apply(this,arguments)}function Wy(n){return NN.apply(this,arguments)}function NN(){return NN=(0,pe.Z)(function*(n){for(const e of n.wu)yield e(!1)}),NN.apply(this,arguments)}function rI(n,e){const t=Ke(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),FN(t)?RN(t):Ky(t).ko()&&kN(t,e))}function $1(n,e){const t=Ke(n),r=Ky(t);t.du.delete(e),r.ko()&&JB(t,e),0===t.du.size&&(r.ko()?r.Fo():Ad(t)&&t.gu.set("Unknown"))}function kN(n,e){n.yu.Ot(e.targetId),Ky(n).zo(e)}function JB(n,e){n.yu.Ot(e),Ky(n).Ho(e)}function RN(n){n.yu=new j9({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),Ky(n).start(),n.gu.uu()}function FN(n){return Ad(n)&&!Ky(n).No()&&n.du.size>0}function Ad(n){return 0===Ke(n)._u.size}function XB(n){n.yu=void 0}function lW(n){return LN.apply(this,arguments)}function LN(){return LN=(0,pe.Z)(function*(n){n.du.forEach((e,t)=>{kN(n,e)})}),LN.apply(this,arguments)}function uW(n,e){return UN.apply(this,arguments)}function UN(){return UN=(0,pe.Z)(function*(n,e){XB(n),FN(n)?(n.gu.hu(e),RN(n)):n.gu.set("Unknown")}),UN.apply(this,arguments)}function dW(n,e,t){return VN.apply(this,arguments)}function VN(){return VN=(0,pe.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof jV&&2===e.state&&e.cause)try{yield(r=(0,pe.Z)(function*(i,s){const u=s.cause;for(const h of s.targetIds)i.du.has(h)&&(yield i.remoteSyncer.rejectListen(h,u),i.du.delete(h),i.yu.removeTarget(h))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){Fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield iI(n,r)}else if(e instanceof ZE?n.yu.Kt(e):e instanceof HV?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(yt.min()))try{const r=yield ZB(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const u=i.yu.Zt(s);return u.targetChanges.forEach((h,g)=>{if(h.resumeToken.approximateByteSize()>0){const v=i.du.get(g);v&&i.du.set(g,v.withResumeToken(h.resumeToken,s))}}),u.targetMismatches.forEach(h=>{const g=i.du.get(h);if(!g)return;i.du.set(h,g.withResumeToken(Si.EMPTY_BYTE_STRING,g.snapshotVersion)),JB(i,h);const v=new xf(g.target,h,1,g.sequenceNumber);kN(i,v)}),i.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(r){Fe("RemoteStore","Failed to raise snapshot:",r),yield iI(n,r)}var r}),VN.apply(this,arguments)}function iI(n,e,t){return BN.apply(this,arguments)}function BN(){return BN=(0,pe.Z)(function*(n,e,t){if(!wf(e))throw e;n._u.add(1),yield Wy(n),n.gu.set("Offline"),t||(t=()=>ZB(n.localStore)),n.asyncQueue.enqueueRetryable((0,pe.Z)(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield G1(n)}))}),BN.apply(this,arguments)}function e4(n,e){return e().catch(t=>iI(n,t,e))}function zy(n){return ZN.apply(this,arguments)}function ZN(){return ZN=(0,pe.Z)(function*(n){const e=Ke(n),t=Nf(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;hW(e);)try{const i=yield Y7(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,fW(e,i)}catch(i){yield iI(e,i)}t4(e)&&n4(e)}),ZN.apply(this,arguments)}function hW(n){return Ad(n)&&n.fu.length<10}function fW(n,e){n.fu.push(e);const t=Nf(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function t4(n){return Ad(n)&&!Nf(n).No()&&n.fu.length>0}function n4(n){Nf(n).start()}function pW(n){return HN.apply(this,arguments)}function HN(){return HN=(0,pe.Z)(function*(n){Nf(n).eu()}),HN.apply(this,arguments)}function gW(n){return jN.apply(this,arguments)}function jN(){return jN=(0,pe.Z)(function*(n){const e=Nf(n);for(const t of n.fu)e.Xo(t.mutations)}),jN.apply(this,arguments)}function mW(n,e,t){return GN.apply(this,arguments)}function GN(){return GN=(0,pe.Z)(function*(n,e,t){const r=n.fu.shift(),i=cN.from(r,e,t);yield e4(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield zy(n)}),GN.apply(this,arguments)}function _W(n,e){return $N.apply(this,arguments)}function $N(){return $N=(0,pe.Z)(function*(n,e){var t;e&&Nf(n).Yo&&(yield(t=(0,pe.Z)(function*(r,i){if(LV(s=i.code)&&s!==de.ABORTED){const u=r.fu.shift();Nf(r).Mo(),yield e4(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,i)),yield zy(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),t4(n)&&n4(n)}),$N.apply(this,arguments)}function r4(n,e){return qN.apply(this,arguments)}function qN(){return qN=(0,pe.Z)(function*(n,e){const t=Ke(n);t.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const r=Ad(t);t._u.add(3),yield Wy(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield G1(t)}),qN.apply(this,arguments)}function WN(n,e){return zN.apply(this,arguments)}function zN(){return zN=(0,pe.Z)(function*(n,e){const t=Ke(n);e?(t._u.delete(2),yield G1(t)):e||(t._u.add(2),yield Wy(t),t.gu.set("Unknown"))}),zN.apply(this,arguments)}function Ky(n){return n.pu||(n.pu=function(e,t,r){const i=Ke(e);return i.su(),new rW(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:lW.bind(null,n),Zr:uW.bind(null,n),Wo:dW.bind(null,n)}),n.wu.push(function(){var e=(0,pe.Z)(function*(t){t?(n.pu.Mo(),FN(n)?RN(n):n.gu.set("Unknown")):(yield n.pu.stop(),XB(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Nf(n){return n.Iu||(n.Iu=function(e,t,r){const i=Ke(e);return i.su(),new iW(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:pW.bind(null,n),Zr:_W.bind(null,n),tu:gW.bind(null,n),Zo:mW.bind(null,n)}),n.wu.push(function(){var e=(0,pe.Z)(function*(t){t?(n.Iu.Mo(),yield zy(n)):(yield n.Iu.stop(),n.fu.length>0&&(Fe("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class KN{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,r,i,s){const u=Date.now()+r,h=new KN(e,t,u,i,s);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xe(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yy(n,e){if(ei("AsyncQueue",`${e}: ${n}`),wf(n))return new xe(de.UNAVAILABLE,`${e}: ${n}`);throw n}class Qy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||qe.comparator(t.key,r.key):(t,r)=>qe.comparator(t.key,r.key),this.keyedMap=M1(),this.sortedSet=new Zr(this.comparator)}static emptySet(e){return new Qy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Qy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Qy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class i4{constructor(){this.Tu=new Zr(qe.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):it():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Jy{constructor(e,t,r,i,s,u,h,g,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,t,r,i,s){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new Jy(e,t,Qy.emptySet(t),u,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&E1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class yW{constructor(){this.Au=void 0,this.listeners=[]}}class vW{constructor(){this.queries=new Mf(e=>CV(e),E1),this.onlineState="Unknown",this.Ru=new Set}}function YN(n,e){return QN.apply(this,arguments)}function QN(){return QN=(0,pe.Z)(function*(n,e){const t=Ke(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new yW),i)try{s.Au=yield t.onListen(r)}catch(u){const h=Yy(u,`Initialization of query '${XP(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,s),s.listeners.push(e),e.bu(t.onlineState),s.Au&&e.Pu(s.Au)&&ek(t)}),QN.apply(this,arguments)}function JN(n,e){return XN.apply(this,arguments)}function XN(){return XN=(0,pe.Z)(function*(n,e){const t=Ke(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const u=s.listeners.indexOf(e);u>=0&&(s.listeners.splice(u,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),XN.apply(this,arguments)}function bW(n,e){const t=Ke(n);let r=!1;for(const i of e){const u=t.queries.get(i.query);if(u){for(const h of u.listeners)h.Pu(i)&&(r=!0);u.Au=i}}r&&ek(t)}function CW(n,e,t){const r=Ke(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function ek(n){n.Ru.forEach(e=>{e.next()})}class tk{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Jy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Jy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class wW{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class o4{constructor(e){this.yt=e}Ji(e){return cu(this.yt,e)}Yi(e){return e.metadata.exists?JV(this.yt,e.document,!1):rr.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return ti(e)}}class DW{constructor(e,t,r){this.Mu=e,this.localStore=t,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=s4(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const r=un.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new o4(this.yt);for(const i of e)if(i.metadata.queries){const s=r.Ji(i.metadata.name);for(const u of i.metadata.queries){const h=(t.get(u)||Ut()).add(s);t.set(u,h)}}return t}complete(){var e=this;return(0,pe.Z)(function*(){const t=yield function Q7(n,e,t,r){return TN.apply(this,arguments)}(e.localStore,new o4(e.yt),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield J7(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function s4(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class a4{constructor(e){this.key=e}}class c4{constructor(e){this.key=e}}class l4{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Ut(),this.mutatedKeys=Ut(),this.Gu=DV(e),this.Qu=new Qy(this.Gu)}get ju(){return this.qu}Wu(e,t){const r=t?t.zu:new i4,i=t?t.Qu:this.Qu;let s=t?t.mutatedKeys:this.mutatedKeys,u=i,h=!1;const g="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,v="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((D,I)=>{const O=i.get(D),k=eN(this.query,I)?I:null,Z=!!O&&this.mutatedKeys.has(O.key),z=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let ie=!1;O&&k?O.data.isEqual(k.data)?Z!==z&&(r.track({type:3,doc:k}),ie=!0):this.Hu(O,k)||(r.track({type:2,doc:k}),ie=!0,(g&&this.Gu(k,g)>0||v&&this.Gu(k,v)<0)&&(h=!0)):!O&&k?(r.track({type:0,doc:k}),ie=!0):O&&!k&&(r.track({type:1,doc:O}),ie=!0,(g||v)&&(h=!0)),ie&&(k?(u=u.add(k),s=z?s.add(D):s.delete(D)):(u=u.delete(D),s=s.delete(D)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const D="F"===this.query.limitType?u.last():u.first();u=u.delete(D.key),s=s.delete(D.key),r.track({type:1,doc:D})}return{Qu:u,zu:r,$i:h,mutatedKeys:s}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((v,D)=>function(I,O){const k=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return it()}};return k(I)-k(O)}(v.type,D.type)||this.Gu(v.doc,D.doc)),this.Ju(r);const u=t?this.Yu():[],h=0===this.Ku.size&&this.current?1:0,g=h!==this.Uu;return this.Uu=h,0!==s.length||g?{snapshot:new Jy(this.query,e.Qu,i,s,e.mutatedKeys,0===h,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:u}:{Xu:u}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new i4,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Ut(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new c4(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new a4(r))}),t}tc(e){this.qu=e.Hi,this.Ku=Ut();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Jy.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class TW{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class EW{constructor(e){this.key=e,this.nc=!1}}class IW{constructor(e,t,r,i,s,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.sc={},this.ic=new Mf(h=>CV(h),E1),this.rc=new Map,this.oc=new Set,this.uc=new Zr(qe.comparator),this.cc=new Map,this.ac=new _N,this.hc={},this.lc=new Map,this.fc=sm.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function SW(n,e){return nk.apply(this,arguments)}function nk(){return nk=(0,pe.Z)(function*(n,e){const t=Ek(n);let r,i;const s=t.ic.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const u=yield $y(t.localStore,Go(e));t.isPrimaryClient&&rI(t.remoteStore,u);const h=t.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,i=yield rk(t,e,r,"current"===h,u.resumeToken)}return i}),nk.apply(this,arguments)}function rk(n,e,t,r,i){return ik.apply(this,arguments)}function ik(){return ik=(0,pe.Z)(function*(n,e,t,r,i){n._c=(I,O,k)=>{return(Z=(0,pe.Z)(function*(z,ie,be,Oe){let Le=ie.view.Wu(be);Le.$i&&(Le=yield XE(z.localStore,ie.query,!1).then(({documents:$e})=>ie.view.Wu($e,Le)));const Pe=Oe&&Oe.targetChanges.get(ie.targetId),Ve=ie.view.applyChanges(Le,z.isPrimaryClient,Pe);return pk(z,ie.targetId,Ve.Xu),Ve.snapshot}),function(z,ie,be,Oe){return Z.apply(this,arguments)})(n,I,O,k);var Z};const s=yield XE(n.localStore,e,!0),u=new l4(e,s.Hi),h=u.Wu(s.documents),g=A1.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),v=u.applyChanges(h,n.isPrimaryClient,g);pk(n,t,v.Xu);const D=new TW(e,t,u);return n.ic.set(e,D),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),v.snapshot}),ik.apply(this,arguments)}function MW(n,e){return ok.apply(this,arguments)}function ok(){return ok=(0,pe.Z)(function*(n,e){const t=Ke(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(s=>!E1(s,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield qy(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),$1(t.remoteStore,r.targetId),Xy(t,r.targetId)}).catch(Cf))):(Xy(t,r.targetId),yield qy(t.localStore,r.targetId,!0))}),ok.apply(this,arguments)}function sk(){return sk=(0,pe.Z)(function*(n,e,t){const r=Ik(n);try{const i=yield function(s,u){const h=Ke(s),g=Cr.now(),v=u.reduce((O,k)=>O.add(k.key),Ut());let D,I;return h.persistence.runTransaction("Locally write mutations","readwrite",O=>{let k=ys(),Z=Ut();return h.Gi.getEntries(O,v).next(z=>{k=z,k.forEach((ie,be)=>{be.isValidDocument()||(Z=Z.add(ie))})}).next(()=>h.localDocuments.getOverlayedDocuments(O,k)).next(z=>{D=z;const ie=[];for(const be of u){const Oe=L9(be,D.get(be.key).overlayedDocument);null!=Oe&&ie.push(new Od(be.key,Oe,mV(Oe.value.mapValue),wr.exists(!0)))}return h.mutationQueue.addMutationBatch(O,g,ie,u)}).next(z=>{I=z;const ie=z.applyToLocalDocumentSet(D,Z);return h.documentOverlayCache.saveOverlays(O,z.batchId,ie)})}).then(()=>({batchId:I.batchId,changes:BV(D)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,u,h){let g=s.hc[s.currentUser.toKey()];g||(g=new Zr(Pt)),g=g.insert(u,h),s.hc[s.currentUser.toKey()]=g}(r,i.batchId,t),yield Pd(r,i.changes),yield zy(r.remoteStore)}catch(i){const s=Yy(i,"Failed to persist write");t.reject(s)}}),sk.apply(this,arguments)}function u4(n,e){return ak.apply(this,arguments)}function ak(){return ak=(0,pe.Z)(function*(n,e){const t=Ke(n);try{const r=yield K7(t.localStore,e);e.targetChanges.forEach((i,s)=>{const u=t.cc.get(s);u&&(ft(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.nc=!0:i.modifiedDocuments.size>0?ft(u.nc):i.removedDocuments.size>0&&(ft(u.nc),u.nc=!1))}),yield Pd(t,r,e)}catch(r){yield Cf(r)}}),ak.apply(this,arguments)}function d4(n,e,t){const r=Ke(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((s,u)=>{const h=u.view.bu(e);h.snapshot&&i.push(h.snapshot)}),function(s,u){const h=Ke(s);h.onlineState=u;let g=!1;h.queries.forEach((v,D)=>{for(const I of D.listeners)I.bu(u)&&(g=!0)}),g&&ek(h)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function OW(n,e,t){return ck.apply(this,arguments)}function ck(){return ck=(0,pe.Z)(function*(n,e,t){const r=Ke(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),s=i&&i.key;if(s){let u=new Zr(qe.comparator);u=u.insert(s,rr.newNoDocument(s,yt.min()));const h=Ut().add(s),g=new O1(yt.min(),new Map,new Vn(Pt),u,h);yield u4(r,g),r.uc=r.uc.remove(s),r.cc.delete(e),gk(r)}else yield qy(r.localStore,e,!1).then(()=>Xy(r,e,t)).catch(Cf)}),ck.apply(this,arguments)}function AW(n,e){return lk.apply(this,arguments)}function lk(){return lk=(0,pe.Z)(function*(n,e){const t=Ke(n),r=e.batch.batchId;try{const i=yield z7(t.localStore,e);fk(t,r,null),hk(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Pd(t,i)}catch(i){yield Cf(i)}}),lk.apply(this,arguments)}function PW(n,e,t){return uk.apply(this,arguments)}function uk(){return uk=(0,pe.Z)(function*(n,e,t){const r=Ke(n);try{const i=yield function(s,u){const h=Ke(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return h.mutationQueue.lookupMutationBatch(g,u).next(D=>(ft(null!==D),v=D.keys(),h.mutationQueue.removeMutationBatch(g,D))).next(()=>h.mutationQueue.performConsistencyCheck(g)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(g,v,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>h.localDocuments.getDocuments(g,v))})}(r.localStore,e);fk(r,e,t),hk(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Pd(r,i)}catch(i){yield Cf(i)}}),uk.apply(this,arguments)}function dk(){return dk=(0,pe.Z)(function*(n,e){const t=Ke(n);Ad(t.remoteStore)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const u=Ke(s);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.mutationQueue.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=Yy(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),dk.apply(this,arguments)}function hk(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function fk(n,e,t){const r=Ke(n);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Xy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||h4(n,r)})}function h4(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&($1(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),gk(n))}function pk(n,e,t){for(const r of t)r instanceof a4?(n.ac.addReference(r.key,e),kW(n,r)):r instanceof c4?(Fe("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||h4(n,r.key)):it()}function kW(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(Fe("SyncEngine","New document in limbo: "+t),n.oc.add(r),gk(n))}function gk(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new qe(un.fromString(e)),r=n.fc.next();n.cc.set(r,new EW(t)),n.uc=n.uc.insert(t,r),rI(n.remoteStore,new xf(Go(Ry(t.path)),r,2,ea.at))}}function Pd(n,e,t){return mk.apply(this,arguments)}function mk(){return mk=(0,pe.Z)(function*(n,e,t){const r=Ke(n),i=[],s=[],u=[];var h;r.ic.isEmpty()||(r.ic.forEach((h,g)=>{u.push(r._c(g,e,t).then(v=>{if((v||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(g.targetId,v?.fromCache?"not-current":"current"),v){i.push(v);const D=CN.Ci(g.targetId,v);s.push(D)}}))}),yield Promise.all(u),r.sc.Wo(i),yield(h=(0,pe.Z)(function*(g,v){const D=Ke(g);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>le.forEach(v,O=>le.forEach(O.Si,k=>D.persistence.referenceDelegate.addReference(I,O.targetId,k)).next(()=>le.forEach(O.Di,k=>D.persistence.referenceDelegate.removeReference(I,O.targetId,k)))))}catch(I){if(!wf(I))throw I;Fe("LocalStore","Failed to update sequence numbers: "+I)}for(const I of v){const O=I.targetId;if(!I.fromCache){const k=D.qi.get(O),z=k.withLastLimboFreeSnapshotVersion(k.snapshotVersion);D.qi=D.qi.insert(O,z)}}}),function(g,v){return h.apply(this,arguments)})(r.localStore,s))}),mk.apply(this,arguments)}function RW(n,e){return _k.apply(this,arguments)}function _k(){return _k=(0,pe.Z)(function*(n,e){const t=Ke(n);if(!t.currentUser.isEqual(e)){Fe("SyncEngine","User change. New user:",e.toKey());const r=yield BB(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(u=>{u.forEach(h=>{h.reject(new xe(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Pd(t,r.ji)}var i}),_k.apply(this,arguments)}function FW(n,e){const t=Ke(n),r=t.cc.get(e);if(r&&r.nc)return Ut().add(r.key);{let i=Ut();const s=t.rc.get(e);if(!s)return i;for(const u of s){const h=t.ic.get(u);i=i.unionWith(h.view.ju)}return i}}function LW(n,e){return yk.apply(this,arguments)}function yk(){return yk=(0,pe.Z)(function*(n,e){const t=Ke(n),r=yield XE(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&pk(t,e.targetId,i.Xu),i}),yk.apply(this,arguments)}function UW(n,e){return vk.apply(this,arguments)}function vk(){return vk=(0,pe.Z)(function*(n,e){const t=Ke(n);return GB(t.localStore,e).then(r=>Pd(t,r))}),vk.apply(this,arguments)}function VW(n,e,t,r){return bk.apply(this,arguments)}function bk(){return bk=(0,pe.Z)(function*(n,e,t,r){const i=Ke(n),s=yield function(u,h){const g=Ke(u),v=Ke(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",D=>v.Tn(D,h).next(I=>I?g.localDocuments.getDocuments(D,I):le.resolve(null)))}(i.localStore,e);var h;null!==s?("pending"===t?yield zy(i.remoteStore):"acknowledged"===t||"rejected"===t?(fk(i,e,r||null),hk(i,e),h=e,Ke(Ke(i.localStore).mutationQueue).An(h)):it(),yield Pd(i,s)):Fe("SyncEngine","Cannot apply mutation batch with id: "+e)}),bk.apply(this,arguments)}function Ck(){return Ck=(0,pe.Z)(function*(n,e){const t=Ke(n);if(Ek(t),Ik(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield f4(t,r.toArray());t.dc=!0,yield WN(t.remoteStore,!0);for(const s of i)rI(t.remoteStore,s)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((s,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(Xy(t,u),qy(t.localStore,u,!0))),$1(t.remoteStore,u)}),yield i,yield f4(t,r),function(s){const u=Ke(s);u.cc.forEach((h,g)=>{$1(u.remoteStore,g)}),u.ac.fs(),u.cc=new Map,u.uc=new Zr(qe.comparator)}(t),t.dc=!1,yield WN(t.remoteStore,!1)}}),Ck.apply(this,arguments)}function f4(n,e,t){return wk.apply(this,arguments)}function wk(){return wk=(0,pe.Z)(function*(n,e,t){const r=Ke(n),i=[],s=[];for(const u of e){let h;const g=r.rc.get(u);if(g&&0!==g.length){h=yield $y(r.localStore,Go(g[0]));for(const v of g){const D=r.ic.get(v),I=yield LW(r,D);I.snapshot&&s.push(I.snapshot)}}else{const v=yield jB(r.localStore,u);h=yield $y(r.localStore,v),yield rk(r,p4(v),u,!1,h.resumeToken)}i.push(h)}return r.sc.Wo(s),i}),wk.apply(this,arguments)}function p4(n){return vV(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function ZW(n){const e=Ke(n);return Ke(Ke(e.localStore).persistence).vi()}function HW(n,e,t,r){return Dk.apply(this,arguments)}function Dk(){return Dk=(0,pe.Z)(function*(n,e,t,r){const i=Ke(n);if(i.dc)return void Fe("SyncEngine","Ignoring unexpected query state notification.");const s=i.rc.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const u=yield GB(i.localStore,wV(s[0])),h=O1.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Si.EMPTY_BYTE_STRING);yield Pd(i,u,h);break}case"rejected":yield qy(i.localStore,e,!0),Xy(i,e,r);break;default:it()}}),Dk.apply(this,arguments)}function jW(n,e,t){return Tk.apply(this,arguments)}function Tk(){return Tk=(0,pe.Z)(function*(n,e,t){const r=Ek(n);if(r.dc){for(const i of e){if(r.rc.has(i)){Fe("SyncEngine","Adding an already active target "+i);continue}const s=yield jB(r.localStore,i),u=yield $y(r.localStore,s);yield rk(r,p4(s),u.targetId,!1,u.resumeToken),rI(r.remoteStore,u)}for(const i of t)r.rc.has(i)&&(yield qy(r.localStore,i,!1).then(()=>{$1(r.remoteStore,i),Xy(r,i)}).catch(Cf))}}),Tk.apply(this,arguments)}function Ek(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=u4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OW.bind(null,e),e.sc.Wo=bW.bind(null,e.eventManager),e.sc.wc=CW.bind(null,e.eventManager),e}function Ik(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PW.bind(null,e),e}class g4{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,pe.Z)(function*(){t.yt=j1(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return VB(this.persistence,new UB,e.initialUser,this.yt)}yc(e){return new FB(QE.Bs,this.yt)}gc(e){return new zB}terminate(){var e=this;return(0,pe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class m4 extends g4{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,pe.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield Ik(r.Ac.syncEngine),yield zy(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return VB(this.persistence,new UB,e.initialUser,this.yt)}Tc(e,t){return new N7(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new _9(t,this.persistence);return new m9(e.asyncQueue,r)}yc(e){const t=bN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?vs.withCacheSize(this.cacheSizeBytes):vs.DEFAULT;return new vN(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,YB(),nI(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new zB}}class $W extends m4{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,pe.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof xN&&(r.sharedClientState.syncEngine={Fr:VW.bind(null,i),$r:HW.bind(null,i),Br:jW.bind(null,i),vi:ZW.bind(null,i),Mr:UW.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var s=(0,pe.Z)(function*(u){yield function BW(n,e){return Ck.apply(this,arguments)}(r.Ac.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start():u||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(u&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():u||r.indexBackfillerScheduler.stop())});return function(u){return s.apply(this,arguments)}}())})()}gc(e){const t=YB();if(!xN.C(t))throw new xe(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=bN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new xN(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Sk{initialize(e,t){var r=this;return(0,pe.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>d4(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=RW.bind(null,r.syncEngine),yield WN(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new vW}createDatastore(e){const t=j1(e.databaseInfo.databaseId),r=new nW(e.databaseInfo);return new oW(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=h=>d4(this.syncEngine,h,0),u=KB.C()?new KB:new X7,new cW(t,r,i,s,u);var t,r,i,s,u}createSyncEngine(e,t){return function(r,i,s,u,h,g,v){const D=new IW(r,i,s,u,h,g);return v&&(D.dc=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,pe.Z)(function*(t){const r=Ke(t);Fe("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield Wy(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Mk(n,e,t){if(!t)throw new xe(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function _4(n,e,t,r){if(!0===e&&!0===r)throw new xe(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function y4(n){if(!qe.isDocumentKey(n))throw new xe(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function v4(n){if(qe.isDocumentKey(n))throw new xe(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function oI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":it()}function rn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=oI(n);throw new xe(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function b4(n,e){if(e<=0)throw new xe(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const C4=new Map;class w4{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new xe(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new xe(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,_4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class q1{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w4({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new xe(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new xe(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w4(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new i9;switch(t.type){case"gapi":return new c9(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new xe(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=C4.get(e);t&&(Fe("ComponentProvider","Removing Datastore"),C4.delete(e),t.terminate())}(this),Promise.resolve()}}class ir{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ir(this.firestore,e,this._key)}}class Qi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qi(this.firestore,e,this._query)}}class uu extends Qi{constructor(e,t,r){super(e,t,Ry(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ir(this.firestore,null,new qe(e))}withConverter(e){return new uu(this.firestore,e,this._path)}}function T4(n,e,...t){if(n=(0,R.m9)(n),Mk("collection","path",e),n instanceof q1){const r=un.fromString(e,...t);return v4(r),new uu(n,null,r)}{if(!(n instanceof ir||n instanceof uu))throw new xe(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(un.fromString(e,...t));return v4(r),new uu(n.firestore,null,r)}}function sI(n,e,...t){if(n=(0,R.m9)(n),1===arguments.length&&(e=Z3.R()),Mk("doc","path",e),n instanceof q1){const r=un.fromString(e,...t);return y4(r),new ir(n,null,new qe(r))}{if(!(n instanceof ir||n instanceof uu))throw new xe(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(un.fromString(e,...t));return y4(r),new ir(n.firestore,n instanceof uu?n.converter:null,new qe(r))}}function E4(n,e){return n=(0,R.m9)(n),e=(0,R.m9)(e),(n instanceof ir||n instanceof uu)&&(e instanceof ir||e instanceof uu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function xk(n,e){return n=(0,R.m9)(n),e=(0,R.m9)(e),n instanceof Qi&&e instanceof Qi&&n.firestore===e.firestore&&E1(n._query,e._query)&&n.converter===e.converter}function I4(n,e=10240){let t=0;return{read:()=>(0,pe.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,pe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class aI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):ei("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class WW{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new Ii,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,pe.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,pe.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,pe.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const s=yield e.Cc(i);return new wW(JSON.parse(s),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,pe.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,pe.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,pe.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class YW{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,pe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new xe(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,pe.Z)(function*(s,u){const h=Ke(s),g=N1(h.yt)+"/documents",v={documents:u.map(k=>P1(h.yt,k))},D=yield h._o("BatchGetDocuments",g,v,u.length),I=new Map;D.forEach(k=>{const Z=function K9(n,e){return"found"in e?function(t,r){ft(!!r.found);const i=cu(t,r.found.name),s=ti(r.found.updateTime),u=r.found.createTime?ti(r.found.createTime):yt.min(),h=new Yi({mapValue:{fields:r.found.fields}});return rr.newFoundDocument(i,s,u,h)}(n,e):"missing"in e?function(t,r){ft(!!r.missing),ft(!!r.readTime);const i=cu(t,r.missing),s=ti(r.readTime);return rr.newNoDocument(i,s)}(n,e):it()}(h.yt,k);I.set(Z.key.toString(),Z)});const O=[];return u.forEach(k=>{const Z=I.get(k.toString());ft(!!Z),O.push(Z)}),O}),function(s,u){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Vy(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,pe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const s=qe.fromPath(i);e.mutations.push(new tN(s,e.precondition(s)))}),yield(r=(0,pe.Z)(function*(i,s){const u=Ke(i),h=N1(u.yt)+"/documents",g={writes:s.map(v=>k1(u.yt,v))};yield u.ao("Commit",h,g)}),function(i,s){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw it();t=yt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new xe(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(yt.min())?wr.exists(!1):wr.updateTime(t):wr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(yt.min()))throw new xe(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return wr.updateTime(t)}return wr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class QW{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.kc=r.maxAttempts,this.xo=new ON(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,pe.Z)(function*(){const t=new YW(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.Fc(s)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!y1(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!LV(t)}return!1}}class JW{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ni.UNAUTHENTICATED,this.clientId=Z3.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,pe.Z)(function*(h){Fe("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(Fe("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,pe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xe(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,pe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Yy(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function S4(n,e){return Ok.apply(this,arguments)}function Ok(){return Ok=(0,pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,pe.Z)(function*(s){r.isEqual(s)||(yield BB(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Ok.apply(this,arguments)}function M4(n,e){return Ak.apply(this,arguments)}function Ak(){return Ak=(0,pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Pk(n);Fe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>r4(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>r4(e.remoteStore,s)),n.onlineComponents=e}),Ak.apply(this,arguments)}function Pk(n){return Nk.apply(this,arguments)}function Nk(){return Nk=(0,pe.Z)(function*(n){return n.offlineComponents||(Fe("FirestoreClient","Using default OfflineComponentProvider"),yield S4(n,new g4)),n.offlineComponents}),Nk.apply(this,arguments)}function cI(n){return kk.apply(this,arguments)}function kk(){return kk=(0,pe.Z)(function*(n){return n.onlineComponents||(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield M4(n,new Sk)),n.onlineComponents}),kk.apply(this,arguments)}function x4(n){return Pk(n).then(e=>e.persistence)}function lI(n){return Pk(n).then(e=>e.localStore)}function Rk(n){return cI(n).then(e=>e.remoteStore)}function Fk(n){return cI(n).then(e=>e.syncEngine)}function ev(n){return Lk.apply(this,arguments)}function Lk(){return Lk=(0,pe.Z)(function*(n){const e=yield cI(n),t=e.eventManager;return t.onListen=SW.bind(null,e.syncEngine),t.onUnlisten=MW.bind(null,e.syncEngine),t}),Lk.apply(this,arguments)}function A4(n,e,t={}){const r=new Ii;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(i,s,u,h,g){const v=new aI({next:I=>{s.enqueueAndForget(()=>JN(i,D));const O=I.docs.has(u);!O&&I.fromCache?g.reject(new xe(de.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&I.fromCache&&h&&"server"===h.source?g.reject(new xe(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(I)},error:I=>g.reject(I)}),D=new tk(Ry(u.path),v,{includeMetadataChanges:!0,Nu:!0});return YN(i,D)}(yield ev(n),n.asyncQueue,e,t,r)})),r.promise}function P4(n,e,t={}){const r=new Ii;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(i,s,u,h,g){const v=new aI({next:I=>{s.enqueueAndForget(()=>JN(i,D)),I.fromCache&&"server"===h.source?g.reject(new xe(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(I)},error:I=>g.reject(I)}),D=new tk(u,v,{includeMetadataChanges:!0,Nu:!0});return YN(i,D)}(yield ev(n),n.asyncQueue,e,t,r)})),r.promise}class sz{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new ON(this,"async_queue_retry"),this.Wc=()=>{const t=nI();t&&Fe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=nI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=nI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new Ii;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,pe.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!wf(t))throw t;Fe("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,ei("INTERNAL UNHANDLED ERROR: ",function(s){let u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),u}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=KN.createAndSchedule(this,e,t,r,s=>this.Yc(s));return this.Uc.push(i),i}zc(){this.Kc&&it()}verifyOperationInProgress(){}Xc(){var e=this;return(0,pe.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function Uk(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class az{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ii,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class or extends q1{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new sz,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||N4(this),this._firestoreClient.terminate()}}function ni(n){return n._firestoreClient||N4(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function N4(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new y9(n._databaseId,s,n._persistenceKey,(h=t).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var s,h;n._firestoreClient=new JW(n._authCredentials,n._appCheckCredentials,n._queue,r)}function k4(n,e,t){const r=new Ii;return n.asyncQueue.enqueue((0,pe.Z)(function*(){try{yield S4(n,t),yield M4(n,e),r.resolve()}catch(i){const s=i;if(!("FirebaseError"===(u=s).name?u.code===de.FAILED_PRECONDITION||u.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw s;Gg("Error enabling offline persistence. Falling back to persistence disabled: "+s),r.reject(s)}var u})).then(()=>r.promise)}function R4(n){if(n._initialized||n._terminated)throw new xe(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class du{constructor(e){this._byteString=e}static fromBase64String(e){try{return new du(Si.fromBase64String(e))}catch(t){throw new xe(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new du(Si.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Nd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new xe(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cm{constructor(e){this._methodName=e}}class uI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pt(this._lat,e._lat)||Pt(this._long,e._long)}}const _z=/^__.*__$/;class yz{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Od(e,this.data,this.fieldMask,t,this.fieldTransforms):new Uy(e,this.data,t,this.fieldTransforms)}}class F4{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Od(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function L4(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw it()}}class dI{constructor(e,t,r,i,s,u){this.settings=e,this.databaseId=t,this.yt=r,this.ignoreUndefinedProperties=i,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=u||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new dI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return pI(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(L4(this.sa)&&_z.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class vz{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=r||j1(e)}da(e,t,r,i=!1){return new dI({sa:e,methodName:t,fa:r,path:Vr.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function lm(n){const e=n._freezeSettings(),t=j1(n._databaseId);return new vz(n._databaseId,!!e.ignoreUndefinedProperties,t)}function hI(n,e,t,r,i,s={}){const u=n.da(s.merge||s.mergeFields?2:0,e,t,i);Hk("Data must be an object, but it was:",u,r);const h=B4(r,u);let g,v;if(s.merge)g=new ta(u.fieldMask),v=u.fieldTransforms;else if(s.mergeFields){const D=[];for(const I of s.mergeFields){const O=jk(e,I,t);if(!u.contains(O))throw new xe(de.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);H4(D,O)||D.push(O)}g=new ta(D),v=u.fieldTransforms.filter(I=>g.covers(I.field))}else g=null,v=u.fieldTransforms;return new yz(new Yi(h),g,v)}class W1 extends cm{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof W1}}function U4(n,e,t){return new dI({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class Vk extends cm{_toFieldTransform(e){return new I1(e.path,new Fy)}isEqual(e){return e instanceof Vk}}class bz extends cm{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=U4(this,e,!0),r=this._a.map(s=>um(s,t)),i=new Xg(r);return new I1(e.path,i)}isEqual(e){return this===e}}class Cz extends cm{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=U4(this,e,!0),r=this._a.map(s=>um(s,t)),i=new em(r);return new I1(e.path,i)}isEqual(e){return this===e}}class wz extends cm{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Ly(e.yt,IV(e.yt,this.wa));return new I1(e.path,t)}isEqual(e){return this===e}}function Bk(n,e,t,r){const i=n.da(1,e,t);Hk("Data must be an object, but it was:",i,r);const s=[],u=Yi.empty();Wg(r,(g,v)=>{const D=fI(e,g,t);v=(0,R.m9)(v);const I=i.ca(D);if(v instanceof W1)s.push(D);else{const O=um(v,I);null!=O&&(s.push(D),u.set(D,O))}});const h=new ta(s);return new F4(u,h,i.fieldTransforms)}function Zk(n,e,t,r,i,s){const u=n.da(1,e,t),h=[jk(e,r,t)],g=[i];if(s.length%2!=0)throw new xe(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<s.length;O+=2)h.push(jk(e,s[O])),g.push(s[O+1]);const v=[],D=Yi.empty();for(let O=h.length-1;O>=0;--O)if(!H4(v,h[O])){const k=h[O];let Z=g[O];Z=(0,R.m9)(Z);const z=u.ca(k);if(Z instanceof W1)v.push(k);else{const ie=um(Z,z);null!=ie&&(v.push(k),D.set(k,ie))}}const I=new ta(v);return new F4(D,I,u.fieldTransforms)}function V4(n,e,t,r=!1){return um(t,n.da(r?4:3,e))}function um(n,e){if(Z4(n=(0,R.m9)(n)))return Hk("Unsupported field value:",e,n),B4(n,e);if(n instanceof cm)return function(t,r){if(!L4(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const u of t){let h=um(u,r.aa(s));null==h&&(h={nullValue:"NULL_VALUE"}),i.push(h),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,R.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return IV(r.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Cr.fromDate(t);return{timestampValue:By(r.yt,i)}}if(t instanceof Cr){const i=new Cr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:By(r.yt,i)}}if(t instanceof uI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof du)return{bytesValue:WV(r.yt,t._byteString)};if(t instanceof ir){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:nN(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${oI(t)}`)}(n,e)}function B4(n,e){const t={};return K3(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wg(n,(r,i)=>{const s=um(i,e.ra(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function Z4(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Cr||n instanceof uI||n instanceof du||n instanceof ir||n instanceof cm)}function Hk(n,e,t){if(!Z4(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=oI(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function jk(n,e,t){if((e=(0,R.m9)(e))instanceof Nd)return e._internalPath;if("string"==typeof e)return fI(n,e);throw pI("Field path arguments must be of type string or ",n,!1,void 0,t)}const Dz=new RegExp("[~\\*/\\[\\]]");function fI(n,e,t){if(e.search(Dz)>=0)throw pI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Nd(...e.split("."))._internalPath}catch{throw pI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function pI(n,e,t,r,i){const s=r&&!r.isEmpty(),u=void 0!==i;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let g="";return(s||u)&&(g+=" (found",s&&(g+=` in field ${r}`),u&&(g+=` in document ${i}`),g+=")"),new xe(de.INVALID_ARGUMENT,h+n+g)}function H4(n,e){return n.some(t=>t.isEqual(e))}class z1{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ir(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Tz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(gI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Tz extends z1{data(){return super.data()}}function gI(n,e){return"string"==typeof e?fI(n,e):e instanceof Nd?e._internalPath:e._delegate._internalPath}function j4(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new xe(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gk{}class K1 extends Gk{}function kf(n,e,...t){let r=[];e instanceof Gk&&r.push(e),r=r.concat(t),function(i){const s=i.filter(h=>h instanceof tv).length,u=i.filter(h=>h instanceof Y1).length;if(s>1||s>0&&u>0)throw new xe(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Y1 extends K1{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Y1(e,t,r)}_apply(e){const t=this._parse(e);return W4(e._query,t),new Qi(e.firestore,e.converter,JP(e._query,t))}_parse(e){const t=lm(e.firestore);return function(i,s,u,h,g,v,D){let I;if(g.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new xe(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){q4(D,v);const O=[];for(const k of D)O.push($4(h,i,k));I={arrayValue:{values:O}}}else I=$4(h,i,D)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||q4(D,v),I=V4(u,"where",D,"in"===v||"not-in"===v);return nn.create(g,v,I)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class tv extends Gk{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new tv(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:kn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let s=r;const u=i.getFlattenedFilters();for(const h of u)W4(s,h),s=JP(s,h)}(e._query,t),new Qi(e.firestore,e.converter,JP(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class $k extends K1{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new $k(e,t)}_apply(e){const t=function(r,i,s){if(null!==r.startAt)throw new xe(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new xe(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Ny(i,s);return function(h,g){if(null===YP(h)){const v=RE(h);null!==v&&z4(0,v,g.field)}}(r,u),u}(e._query,this._field,this._direction);return new Qi(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new xd(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class mI extends K1{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new mI(e,t,r)}_apply(e){return new Qi(e.firestore,e.converter,FE(e._query,this._limit,this._limitType))}}class _I extends K1{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new _I(e,t,r)}_apply(e){const t=G4(e,this.type,this._docOrFields,this._inclusive);return new Qi(e.firestore,e.converter,(i=t,new xd((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class yI extends K1{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new yI(e,t,r)}_apply(e){const t=G4(e,this.type,this._docOrFields,this._inclusive);return new Qi(e.firestore,e.converter,(i=t,new xd((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function G4(n,e,t,r){if(t[0]=(0,R.m9)(t[0]),t[0]instanceof z1)return function(i,s,u,h,g){if(!h)throw new xe(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const v=[];for(const D of Jg(i))if(D.field.isKeyField())v.push(Yg(s,h.key));else{const I=h.data.field(D.field);if($P(I))throw new xe(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+D.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const O=D.field.canonicalString();throw new xe(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}v.push(I)}return new Sf(v,g)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=lm(n.firestore);return function(s,u,h,g,v,D){const I=s.explicitOrderBy;if(v.length>I.length)throw new xe(de.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let k=0;k<v.length;k++){const Z=v[k];if(I[k].field.isKeyField()){if("string"!=typeof Z)throw new xe(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof Z}`);if(!QP(s)&&-1!==Z.indexOf("/"))throw new xe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${Z}' contains a slash.`);const z=s.path.child(un.fromString(Z));if(!qe.isDocumentKey(z))throw new xe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${z}' is not because it contains an odd number of segments.`);const ie=new qe(z);O.push(Yg(u,ie))}else{const z=V4(h,g,Z);O.push(z)}}return new Sf(O,D)}(n._query,n.firestore._databaseId,i,e,t,r)}}function $4(n,e,t){if("string"==typeof(t=(0,R.m9)(t))){if(""===t)throw new xe(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QP(e)&&-1!==t.indexOf("/"))throw new xe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(un.fromString(t));if(!qe.isDocumentKey(r))throw new xe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Yg(n,new qe(r))}if(t instanceof ir)return Yg(n,t._key);throw new xe(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oI(t)}.`)}function q4(n,e){if(!Array.isArray(n)||0===n.length)throw new xe(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new xe(de.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function W4(n,e){if(e.isInequality()){const r=RE(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new xe(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=YP(n);null!==s&&z4(0,i,s)}const t=function(r,i){for(const s of r)for(const u of s.getFlattenedFilters())if(i.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new xe(de.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function z4(n,e,t){if(!t.isEqual(e))throw new xe(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class qk{convertValue(e,t="none"){switch(Kg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Br(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zg(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw it()}}convertObject(e,t){const r={};return Wg(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new uI(Br(e.latitude),Br(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Q3(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(b1(e));default:return null}}convertTimestamp(e){const t=Tf(e);return new Cr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=un.fromString(e);ft(rB(r));const i=new Df(r.get(1),r.get(3)),s=new qe(r.popFirst(5));return i.isEqual(t)||ei(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function vI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Nz extends qk{constructor(e){super(),this.firestore=e}convertBytes(e){return new du(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ir(this.firestore,null,t)}}class dm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kd extends z1{constructor(e,t,r,i,s,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Q1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(gI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Q1 extends kd{data(e={}){return super.data(e)}}class Rf{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new dm(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Q1(this._firestore,this._userDataWriter,r.key,r,new dm(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new Q1(r._firestore,r._userDataWriter,u.doc.key,u.doc,new dm(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>i||3!==u.type).map(u=>{const h=new Q1(r._firestore,r._userDataWriter,u.doc.key,u.doc,new dm(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let g=-1,v=-1;return 0!==u.type&&(g=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),1!==u.type&&(s=s.add(u.doc),v=s.indexOf(u.doc.key)),{type:kz(u.type),doc:h,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function kz(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return it()}}function Y4(n,e){return n instanceof kd&&e instanceof kd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Rf&&e instanceof Rf&&n._firestore===e._firestore&&xk(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Ff extends qk{constructor(e){super(),this.firestore=e}convertBytes(e){return new du(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ir(this.firestore,null,t)}}function Q4(n,e,t){n=rn(n,ir);const r=rn(n.firestore,or),i=vI(n.converter,e,t);return nv(r,[hI(lm(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,wr.none())])}function J4(n,e,t,...r){n=rn(n,ir);const i=rn(n.firestore,or),s=lm(i);let u;return u="string"==typeof(e=(0,R.m9)(e))||e instanceof Nd?Zk(s,"updateDoc",n._key,e,t,r):Bk(s,"updateDoc",n._key,e),nv(i,[u.toMutation(n._key,wr.exists(!0))])}function X4(n,...e){var t,r,i;n=(0,R.m9)(n);let s={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||Uk(e[u])||(s=e[u],u++);const h={includeMetadataChanges:s.includeMetadataChanges};if(Uk(e[u])){const I=e[u];e[u]=null===(t=I.next)||void 0===t?void 0:t.bind(I),e[u+1]=null===(r=I.error)||void 0===r?void 0:r.bind(I),e[u+2]=null===(i=I.complete)||void 0===i?void 0:i.bind(I)}let g,v,D;if(n instanceof ir)v=rn(n.firestore,or),D=Ry(n._key.path),g={next:I=>{e[u]&&e[u](Wk(v,n,I))},error:e[u+1],complete:e[u+2]};else{const I=rn(n,Qi);v=rn(I.firestore,or),D=I._query;const O=new Ff(v);g={next:k=>{e[u]&&e[u](new Rf(v,O,I,k))},error:e[u+1],complete:e[u+2]},j4(n._query)}return function(I,O,k,Z){const z=new aI(Z),ie=new tk(O,z,k);return I.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return YN(yield ev(I),ie)})),()=>{z.bc(),I.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return JN(yield ev(I),ie)}))}}(ni(v),D,h,g)}function nv(n,e){return function(t,r){const i=new Ii;return t.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function xW(n,e,t){return sk.apply(this,arguments)}(yield Fk(t),r,i)})),i.promise}(ni(n),e)}function Wk(n,e,t){const r=t.docs.get(e._key),i=new Ff(n);return new kd(n,i,e._key,r,new dm(t.hasPendingWrites,t.fromCache),e.converter)}const Gz={maxAttempts:5};class e6{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=lm(e)}set(e,t,r){this._verifyNotCommitted();const i=Lf(e,this._firestore),s=vI(i.converter,t,r),u=hI(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(u.toMutation(i._key,wr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=Lf(e,this._firestore);let u;return u="string"==typeof(t=(0,R.m9)(t))||t instanceof Nd?Zk(this._dataReader,"WriteBatch.update",s._key,t,r,i):Bk(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(u.toMutation(s._key,wr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Lf(e,this._firestore);return this._mutations=this._mutations.concat(new Vy(t._key,wr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Lf(n,e){if((n=(0,R.m9)(n)).firestore!==e)throw new xe(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class $z extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=lm(e)}get(e){const t=Lf(e,this._firestore),r=new Nz(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return it();const s=i[0];if(s.isFoundDocument())return new z1(this._firestore,r,s.key,s,t.converter);if(s.isNoDocument())return new z1(this._firestore,r,t._key,null,t.converter);throw it()})}set(e,t,r){const i=Lf(e,this._firestore),s=vI(i.converter,t,r),u=hI(this._dataReader,"Transaction.set",i._key,s,null!==i.converter,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const s=Lf(e,this._firestore);let u;return u="string"==typeof(t=(0,R.m9)(t))||t instanceof Nd?Zk(this._dataReader,"Transaction.update",s._key,t,r,i):Bk(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,u),this}delete(e){const t=Lf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Lf(e,this._firestore),r=new Ff(this._firestore);return super.get(e).then(i=>new kd(this._firestore,r,t._key,i._document,new dm(!1,!1),t.converter))}}function zk(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new xe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function n6(){if(typeof Uint8Array>"u")throw new xe("unimplemented","Uint8Arrays are not available in this environment.")}function r6(){if(!function v9(){return typeof atob<"u"}())throw new xe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){xy=Vo.SDK_VERSION,(0,Vo._registerComponent)(new Qc.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),u=new or(new s9(t.getProvider("auth-internal")),new l9(t.getProvider("app-check-internal")),function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new xe(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Df(h.options.projectId,g)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),(0,Vo.registerVersion)(U3,"3.8.0",n),(0,Vo.registerVersion)(U3,"3.8.0","esm2017")}();class J1{constructor(e){this._delegate=e}static fromBase64String(e){return r6(),new J1(du.fromBase64String(e))}static fromUint8Array(e){return n6(),new J1(du.fromUint8Array(e))}toBase64(){return r6(),this._delegate.toBase64()}toUint8Array(){return n6(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Kk(n){return function eK(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class tK{enableIndexedDbPersistence(e,t){return function lz(n,e){R4(n=rn(n,or));const t=ni(n),r=n._freezeSettings(),i=new Sk;return k4(t,i,new m4(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function uz(n){R4(n=rn(n,or));const e=ni(n),t=n._freezeSettings(),r=new Sk;return k4(e,r,new $W(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function dz(n){if(n._initialized&&!n._terminated)throw new xe(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ii;return n._queue.enqueueAndForgetEvenWhileRestricted((0,pe.Z)(function*(){try{yield(t=(0,pe.Z)(function*(r){if(!el.C())return Promise.resolve();const i=r+"main";yield el.delete(i)}),function(r){return t.apply(this,arguments)})(bN(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class i6{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Df||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Gg("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function D4(n,e,t,r={}){var i;const s=(n=rn(n,q1))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Gg("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let u,h;if("string"==typeof r.mockUserToken)u=r.mockUserToken,h=Ni.MOCK_USER;else{u=(0,R.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new xe(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ni(g)}n._authCredentials=new o9(new V3(u,h))}}(this._delegate,e,t,r)}enableNetwork(){return function fz(n){return function XW(n){return n.asyncQueue.enqueue((0,pe.Z)(function*(){const e=yield x4(n),t=yield Rk(n);return e.setNetworkEnabled(!0),function(r){const i=Ke(r);return i._u.delete(0),G1(i)}(t)}))}(ni(n=rn(n,or)))}(this._delegate)}disableNetwork(){return function pz(n){return function ez(n){return n.asyncQueue.enqueue((0,pe.Z)(function*(){const e=yield x4(n),t=yield Rk(n);return e.setNetworkEnabled(!1),(r=(0,pe.Z)(function*(i){const s=Ke(i);s._u.add(0),yield Wy(s),s.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(ni(n=rn(n,or)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,_4("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function hz(n){return function(e){const t=new Ii;return e.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function NW(n,e){return dk.apply(this,arguments)}(yield Fk(e),t)})),t.promise}(ni(n=rn(n,or)))}(this._delegate)}onSnapshotsInSync(e){return function jz(n,e){return function rz(n,e){const t=new aI(e);return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return r=yield ev(n),i=t,Ke(r).Ru.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return r=yield ev(n),i=t,void Ke(r).Ru.delete(i);var r,i}))}}(ni(n=rn(n,or)),Uk(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new xe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new rv(this,T4(this._delegate,e))}catch(t){throw qo(t,"collection()","Firestore.collection()")}}doc(e){try{return new Xa(this,sI(this._delegate,e))}catch(t){throw qo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Wo(this,function qW(n,e){if(n=rn(n,q1),Mk("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xe(de.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Qi(n,null,(t=e,new xd(un.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw qo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function qz(n,e,t){n=rn(n,or);const r=Object.assign(Object.assign({},Gz),t);return function(i){if(i.maxAttempts<1)throw new xe(de.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,s,u){const h=new Ii;return i.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){const g=yield function O4(n){return cI(n).then(e=>e.datastore)}(i);new QW(i.asyncQueue,g,u,s,h).run()})),h.promise}(ni(n),i=>e(new $z(n,i)),r)}(this._delegate,t=>e(new o6(this,t)))}batch(){return ni(this._delegate),new s6(new e6(this._delegate,e=>nv(this._delegate,e)))}loadBundle(e){return function gz(n,e){const t=ni(n=rn(n,or)),r=new az;return function iz(n,e,t,r){const i=function(s,u){let h;return h="string"==typeof s?(new TextEncoder).encode(s):s,g=function(g,v){if(g instanceof Uint8Array)return I4(g,v);if(g instanceof ArrayBuffer)return I4(new Uint8Array(g),v);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new WW(g,u);var g}(t,j1(e));n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){!function GW(n,e,t){const r=Ke(n);var i;(i=(0,pe.Z)(function*(s,u,h){try{const g=yield u.getMetadata();if(yield function(O,k){const Z=Ke(O),z=ti(k.createTime);return Z.persistence.runTransaction("hasNewerBundle","readonly",ie=>Z.Ns.getBundleMetadata(ie,k.id)).then(ie=>!!ie&&ie.createTime.compareTo(z)>=0)}(s.localStore,g))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(O=g).totalDocuments,bytesLoaded:O.totalBytes,totalDocuments:O.totalDocuments,totalBytes:O.totalBytes}),Promise.resolve(new Set);h._updateProgress(s4(g));const v=new DW(g,s.localStore,u.yt);let D=yield u.mc();for(;D;){const O=yield v.Fu(D);O&&h._updateProgress(O),D=yield u.mc()}const I=yield v.complete();return yield Pd(s,I.Lu,void 0),yield function(O,k){const Z=Ke(O);return Z.persistence.runTransaction("Save bundle","readwrite",z=>Z.Ns.saveBundleMetadata(z,k))}(s.localStore,g),h._completeWith(I.progress),Promise.resolve(I.Bu)}catch(g){return Gg("SyncEngine",`Loading bundle failed with ${g}`),h._failWith(g),Promise.resolve(new Set)}var O}),function(s,u,h){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield Fk(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function mz(n,e){return function oz(n,e){return n.asyncQueue.enqueue((0,pe.Z)(function*(){return function(t,r){const i=Ke(t);return i.persistence.runTransaction("Get named query","readonly",s=>i.Ns.getNamedQuery(s,r))}(yield lI(n),e)}))}(ni(n=rn(n,or)),e).then(t=>t?new Qi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Wo(this,t):null)}}class bI extends qk{constructor(e){super(),this.firestore=e}convertBytes(e){return new J1(new du(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Xa.forKey(t,this.firestore,null)}}class o6{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new bI(e)}get(e){const t=fm(e);return this._delegate.get(t).then(r=>new X1(this._firestore,new kd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=fm(e);return r?(zk("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=fm(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=fm(e);return this._delegate.delete(t),this}}class s6{constructor(e){this._delegate=e}set(e,t,r){const i=fm(e);return r?(zk("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=fm(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=fm(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class hm{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Q1(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new eC(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=hm.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new hm(e,new bI(e),t),i.set(t,s)),s}}hm.INSTANCES=new WeakMap;class Xa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new bI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new xe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Xa(t,new ir(t._delegate,r,new qe(e)))}static forKey(e,t,r){return new Xa(t,new ir(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new rv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new rv(this.firestore,T4(this._delegate,e))}catch(t){throw qo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,R.m9)(e))instanceof ir&&E4(this._delegate,e)}set(e,t){t=zk("DocumentReference.set",t);try{return t?Q4(this._delegate,e,t):Q4(this._delegate,e)}catch(r){throw qo(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?J4(this._delegate,e):J4(this._delegate,e,t,...r)}catch(i){throw qo(i,"updateDoc()","DocumentReference.update()")}}delete(){return function Zz(n){return nv(rn(n.firestore,or),[new Vy(n._key,wr.none())])}(this._delegate)}onSnapshot(...e){const t=a6(e),r=c6(e,i=>new X1(this.firestore,new kd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return X4(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function Fz(n){n=rn(n,ir);const e=rn(n.firestore,or),t=ni(e),r=new Ff(e);return function tz(n,e){const t=new Ii;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return(r=(0,pe.Z)(function*(i,s,u){try{const h=yield function(g,v){const D=Ke(g);return D.persistence.runTransaction("read document","readonly",I=>D.localDocuments.getDocument(I,v))}(i,s);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new xe(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const g=Yy(h,`Failed to get document '${s} from cache`);u.reject(g)}}),function(i,s,u){return r.apply(this,arguments)})(yield lI(n),e,t);var r})),t.promise}(t,n._key).then(i=>new kd(e,r,n._key,i,new dm(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function Lz(n){n=rn(n,ir);const e=rn(n.firestore,or);return A4(ni(e),n._key,{source:"server"}).then(t=>Wk(e,n,t))}(this._delegate):function Rz(n){n=rn(n,ir);const e=rn(n.firestore,or);return A4(ni(e),n._key).then(t=>Wk(e,n,t))}(this._delegate),t.then(r=>new X1(this.firestore,new kd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Xa(this.firestore,this._delegate.withConverter(e?hm.getInstance(this.firestore,e):null))}}function qo(n,e,t){return n.message=n.message.replace(e,t),n}function a6(n){for(const e of n)if("object"==typeof e&&!Kk(e))return e;return{}}function c6(n,e){var t,r;let i;return i=Kk(n[0])?n[0]:Kk(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class X1{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Xa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Y4(this._delegate,e._delegate)}}class eC extends X1{data(e){const t=this._delegate.data(e);return function r9(n,e){n||it()}(void 0!==t),t}}class Wo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new bI(e)}where(e,t,r){try{return new Wo(this.firestore,kf(this._delegate,function Ez(n,e,t){const r=e,i=gI("where",n);return Y1._create(i,r,t)}(e,t,r)))}catch(i){throw qo(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Wo(this.firestore,kf(this._delegate,function Iz(n,e="asc"){const t=e,r=gI("orderBy",n);return $k._create(r,t)}(e,t)))}catch(r){throw qo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Wo(this.firestore,kf(this._delegate,function Sz(n){return b4("limit",n),mI._create("limit",n,"F")}(e)))}catch(t){throw qo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Wo(this.firestore,kf(this._delegate,function Mz(n){return b4("limitToLast",n),mI._create("limitToLast",n,"L")}(e)))}catch(t){throw qo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Wo(this.firestore,kf(this._delegate,function xz(...n){return _I._create("startAt",n,!0)}(...e)))}catch(t){throw qo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Wo(this.firestore,kf(this._delegate,function Oz(...n){return _I._create("startAfter",n,!1)}(...e)))}catch(t){throw qo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Wo(this.firestore,kf(this._delegate,function Az(...n){return yI._create("endBefore",n,!1)}(...e)))}catch(t){throw qo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Wo(this.firestore,kf(this._delegate,function Pz(...n){return yI._create("endAt",n,!0)}(...e)))}catch(t){throw qo(t,"endAt()","Query.endAt()")}}isEqual(e){return xk(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Vz(n){n=rn(n,Qi);const e=rn(n.firestore,or),t=ni(e),r=new Ff(e);return function nz(n,e){const t=new Ii;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return(r=(0,pe.Z)(function*(i,s,u){try{const h=yield XE(i,s,!0),g=new l4(s,h.Hi),v=g.Wu(h.documents),D=g.applyChanges(v,!1);u.resolve(D.snapshot)}catch(h){const g=Yy(h,`Failed to execute query '${s} against cache`);u.reject(g)}}),function(i,s,u){return r.apply(this,arguments)})(yield lI(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Rf(e,r,n,i))}(this._delegate):"server"===e?.source?function Bz(n){n=rn(n,Qi);const e=rn(n.firestore,or),t=ni(e),r=new Ff(e);return P4(t,n._query,{source:"server"}).then(i=>new Rf(e,r,n,i))}(this._delegate):function Uz(n){n=rn(n,Qi);const e=rn(n.firestore,or),t=ni(e),r=new Ff(e);return j4(n._query),P4(t,n._query).then(i=>new Rf(e,r,n,i))}(this._delegate),t.then(r=>new Yk(this.firestore,new Rf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=a6(e),r=c6(e,i=>new Yk(this.firestore,new Rf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return X4(this._delegate,t,r)}withConverter(e){return new Wo(this.firestore,this._delegate.withConverter(e?hm.getInstance(this.firestore,e):null))}}class rK{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new eC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Yk{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Wo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new eC(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new rK(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new eC(this._firestore,r))})}isEqual(e){return Y4(this._delegate,e._delegate)}}class rv extends Wo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Xa(this.firestore,e):null}doc(e){try{return new Xa(this.firestore,void 0===e?sI(this._delegate):sI(this._delegate,e))}catch(t){throw qo(t,"doc()","CollectionReference.doc()")}}add(e){return function Hz(n,e){const t=rn(n.firestore,or),r=sI(n),i=vI(n.converter,e);return nv(t,[hI(lm(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,wr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Xa(this.firestore,t))}isEqual(e){return E4(this._delegate,e._delegate)}withConverter(e){return new rv(this.firestore,this._delegate.withConverter(e?hm.getInstance(this.firestore,e):null))}}function fm(n){return rn(n,ir)}class Qk{constructor(...e){this._delegate=new Nd(...e)}static documentId(){return new Qk(Vr.keyField().canonicalString())}isEqual(e){return(e=(0,R.m9)(e))instanceof Nd&&this._delegate._internalPath.isEqual(e._internalPath)}}class pm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function zz(){return new Vk("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new pm(e)}static delete(){const e=function Wz(){return new W1("deleteField")}();return e._methodName="FieldValue.delete",new pm(e)}static arrayUnion(...e){const t=function Kz(...n){return new bz("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new pm(t)}static arrayRemove(...e){const t=function Yz(...n){return new Cz("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new pm(t)}static increment(e){const t=function Qz(n){return new wz("increment",n)}(e);return t._methodName="FieldValue.increment",new pm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const iK={Firestore:i6,GeoPoint:uI,Timestamp:Cr,Blob:J1,Transaction:o6,WriteBatch:s6,DocumentReference:Xa,DocumentSnapshot:X1,Query:Wo,QueryDocumentSnapshot:eC,QuerySnapshot:Yk,CollectionReference:rv,FieldPath:Qk,FieldValue:pm,setLogLevel:function nK(n){!function n9(n){bf.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function l6(n,e){return function aK(n,e=nf.z){return new fr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function Jk(n,e){return l6(n,e).pipe((0,Je.U)(t=>({payload:t,type:"query"})))}function CI(n,e){return Jk(n,e).pipe(P(void 0),JA(),(0,Je.U)(([t,r])=>{const i=r.payload.docChanges(),s=i.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((u,h)=>{const g=i.find(D=>D.doc.ref.isEqual(u.ref)),v=t?.payload.docs.find(D=>D.ref.isEqual(u.ref));g&&JSON.stringify(g.doc.metadata)===JSON.stringify(u.metadata)||!g&&v&&JSON.stringify(v.metadata)===JSON.stringify(u.metadata)||s.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),s}))}function u6(n,e,t){return CI(n,t).pipe(Nc((r,i)=>function lK(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function uK(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Xk(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Xk(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Xk(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(s=>s.payload),e),[]),yg(),(0,Je.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function Xk(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function d6(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function sK(n){(function oK(n,e){n.INTERNAL.registerComponent(new Qc.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},iK)))})(n,(e,t)=>new i6(e,t,new tK)),n.registerVersion("@firebase/firestore-compat","0.3.0")}(VA.Z);class h6{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=CI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Je.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(P(void 0),JA(),U(([r,i])=>i.length>0||!r),(0,Je.U)(([r,i])=>i),gn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Nc((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=d6(e);return u6(this.query,t,this.afs.schedulers.outsideAngular).pipe(gn.iC)}valueChanges(e={}){return Jk(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),gn.iC)}get(e){return(0,tn.D)(this.query.get(e)).pipe(gn.iC)}add(e){return this.ref.add(e)}doc(e){return new f6(this.ref.doc(e),this.afs)}}class f6{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:s}=m6(r,t);return new h6(i,s,this.afs)}snapshotChanges(){return function cK(n,e){return l6(n,e).pipe(P(void 0),JA(),(0,Je.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(gn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Je.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,tn.D)(this.ref.get(e)).pipe(gn.iC)}}class dK{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?CI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),U(t=>t.length>0),gn.iC):CI(this.query,this.afs.schedulers.outsideAngular).pipe(gn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Nc((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=d6(e);return u6(this.query,t,this.afs.schedulers.outsideAngular).pipe(gn.iC)}valueChanges(e={}){return Jk(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),gn.iC)}get(e){return(0,tn.D)(this.query.get(e)).pipe(gn.iC)}}const p6=new o.OlP("angularfire2.enableFirestorePersistence"),g6=new o.OlP("angularfire2.firestore.persistenceSettings"),hK=new o.OlP("angularfire2.firestore.settings"),fK=new o.OlP("angularfire2.firestore.use-emulator");function m6(n,e=(t=>t)){return{query:e(n),ref:n}}let pK=(()=>{class n{constructor(t,r,i,s,u,h,g,v,D,I,O,k,Z,z,ie,be,Oe){this.schedulers=g;const Le=(0,Ei.on)(t,h,r),Pe=D;I&&UA(Le,h,O,Z,z,ie,k,be),[this.firestore,this.persistenceEnabled$]=(0,Ei.cc)(`${Le.name}.firestore`,"AngularFirestore",Le.name,()=>{const Ve=h.runOutsideAngular(()=>Le.firestore());if(s&&Ve.settings(s),Pe&&Ve.useEmulator(...Pe),i&&!lc(u)){const $e=()=>{try{return(0,tn.D)(Ve.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(Dt){return typeof console<"u"&&console.warn(Dt),(0,Qe.of)(!1)}};return[Ve,h.runOutsideAngular($e)]}return[Ve,(0,Qe.of)(!1)]},[s,Pe,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:u}=m6(i,r),h=this.schedulers.ngZone.run(()=>s);return new h6(h,u,this)}collectionGroup(t,r){const i=r||(u=>u),s=this.firestore.collectionGroup(t);return new dK(i(s),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new f6(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Ei.Dh),o.LFG(Ei.xv,8),o.LFG(p6,8),o.LFG(hK,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(gn.HU),o.LFG(g6,8),o.LFG(fK,8),o.LFG(qT,8),o.LFG(PA,8),o.LFG(NA,8),o.LFG(kA,8),o.LFG(RA,8),o.LFG(FA,8),o.LFG(LA,8),o.LFG(qb,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),gK=(()=>{class n{constructor(){$T.Z.registerVersion("angularfire",gn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:p6,useValue:!0},{provide:g6,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[pK]}),n})();var mK=F(2474);class yK{constructor(e){this.predicate=e}call(e,t){return t.subscribe(new vK(e,this.predicate))}}class vK extends Qn.L{constructor(e,t){super(e),this.predicate=t,this.skipping=!0,this.index=0}_next(e){const t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)}tryCallPredicate(e){try{const t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(t){this.destination.error(t)}}}const _6="@firebase/database";let eR="";function v6(n){eR=n}class bK{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,R.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,R.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class CK{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,R.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const b6=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new bK(e)}}catch{}return new CK},gm=b6("localStorage"),tR=b6("sessionStorage"),iv=new Jc.Yd("@firebase/database"),C6=function(){let n=1;return function(){return n++}}(),w6=function(n){const e=(0,R.dS)(n),t=new R.gQ;t.update(e);const r=t.digest();return R.US.encodeByteArray(r)},tC=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=tC.apply(null,r):e+="object"==typeof r?(0,R.Wl)(r):r,e+=" "}return e};let mm=null,D6=!0;const T6=function(n,e){(0,R.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(iv.logLevel=Jc.in.VERBOSE,mm=iv.log.bind(iv),e&&tR.set("logging_enabled",!0)):"function"==typeof n?mm=n:(mm=null,tR.remove("logging_enabled"))},Fi=function(...n){if(!0===D6&&(D6=!1,null===mm&&!0===tR.get("logging_enabled")&&T6(!0)),mm){const e=tC.apply(null,n);mm(e)}},nC=function(n){return function(...e){Fi(n,...e)}},nR=function(...n){const e="FIREBASE INTERNAL ERROR: "+tC(...n);iv.error(e)},hu=function(...n){const e=`FIREBASE FATAL ERROR: ${tC(...n)}`;throw iv.error(e),new Error(e)},wo=function(...n){const e="FIREBASE WARNING: "+tC(...n);iv.warn(e)},wI=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Uf="[MIN_NAME]",Rd="[MAX_NAME]",_m=function(n,e){if(n===e)return 0;if(n===Uf||e===Rd)return-1;if(e===Uf||n===Rd)return 1;{const t=S6(n),r=S6(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},TK=function(n,e){return n===e?0:n<e?-1:1},rC=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,R.Wl)(e))},rR=function(n){if("object"!=typeof n||null===n)return(0,R.Wl)(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=(0,R.Wl)(e[r]),t+=":",t+=rR(n[e[r]]);return t+="}",t},E6=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function Li(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const I6=function(n){(0,R.hu)(!wI(n),"Invalid JSON number");const r=1023;let i,s,u,h,g;0===n?(s=0,u=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=h+r,u=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(s=0,u=Math.round(n/Math.pow(2,-1074))));const v=[];for(g=52;g;g-=1)v.push(u%2?1:0),u=Math.floor(u/2);for(g=11;g;g-=1)v.push(s%2?1:0),s=Math.floor(s/2);v.push(i?1:0),v.reverse();const D=v.join("");let I="";for(g=0;g<64;g+=8){let O=parseInt(D.substr(g,8),2).toString(16);1===O.length&&(O="0"+O),I+=O}return I.toLowerCase()},MK=new RegExp("^-?(0*)\\d{1,10}$"),S6=function(n){if(MK.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},ov=function(n){try{n()}catch(e){setTimeout(()=>{throw wo("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},iC=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class PK{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){wo(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class NK{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Fi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',wo(e)}}let oC=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const P6=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,R6="websocket",F6="long_polling";class oR{constructor(e,t,r,i,s=!1,u="",h=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=u,this.includeNamespaceInQueryParams=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=gm.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&gm.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function L6(n,e,t){let r;if((0,R.hu)("string"==typeof e,"typeof type must == string"),(0,R.hu)("object"==typeof t,"typeof params must == object"),e===R6)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==F6)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function kK(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return Li(t,(s,u)=>{i.push(s+"="+u)}),r+i.join("&")}class RK{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,R.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,R.p$)(this.counters_)}}const sR={},aR={};function cR(n){const e=n.toString();return sR[e]||(sR[e]=new RK),sR[e]}class LK{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ov(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Vf{constructor(e,t,r,i,s,u,h){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=u,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=nC(e),this.stats_=cR(t),this.urlFn=g=>(this.appCheckToken&&(g.ac=this.appCheckToken),L6(t,F6,g))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new LK(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,R.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new lR((...s)=>{const[u,h,g,v,D]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===u)this.id=h,this.password=g;else{if("close"!==u)throw new Error("Unrecognized command received: "+u);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[u,h]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(u,h)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&P6.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Vf.forceAllow_=!0}static forceDisallow(){Vf.forceDisallow_=!0}static isAvailable(){return!((0,R.Yr)()||!Vf.forceAllow_&&(Vf.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,R.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=(0,R.h$)(t),i=E6(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,R.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,R.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class lR{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,R.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=C6(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=lR.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(h){Fi("frame writing exception"),h.stack&&Fi(h.stack),Fi(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Fi("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const u=this.pendingSegs.shift();r=r+"&seg"+i+"="+u.seg+"&ts"+i+"="+u.ts+"&d"+i+"="+u.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){(0,R.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Fi("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let TI=null;typeof MozWebSocket<"u"?TI=MozWebSocket:typeof WebSocket<"u"&&(TI=WebSocket);let sv=(()=>{class n{constructor(t,r,i,s,u,h,g){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=nC(this.connId),this.stats_=cR(r),this.connURL=n.connectionURL_(r,h,g,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,s,u){const h={v:"5"};return!(0,R.Yr)()&&typeof location<"u"&&location.hostname&&P6.test(location.hostname)&&(h.r="f"),r&&(h.s=r),i&&(h.ls=i),s&&(h.ac=s),u&&(h.p=u),L6(t,R6,h)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,gm.set("previous_websocket_failure",!0);try{let i;if((0,R.Yr)()){i={headers:{"User-Agent":`Firebase/5/${eR}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const u=process.env,h=0===this.connURL.indexOf("wss://")?u.HTTPS_PROXY||u.https_proxy:u.HTTP_PROXY||u.http_proxy;h&&(i.proxy={origin:h})}this.mySock=new TI(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==TI&&!n.forceDisallow_}static previouslyFailed(){return gm.isInMemoryStorage||!0===gm.get("previous_websocket_failure")}markConnectionHealthy(){gm.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,R.cI)(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,R.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=(0,R.Wl)(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=E6(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),G6=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Vf,sv]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=sv&&sv.isAvailable();let i=r&&!sv.previouslyFailed();if(t.webSocketOnly&&(r||wo("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[sv];else{const s=this.transports_=[];for(const u of n.ALL_TRANSPORTS)u&&u.isAvailable()&&s.push(u);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class Q6{constructor(e,t,r,i,s,u,h,g,v,D){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=u,this.onReady_=h,this.onDisconnect_=g,this.onKill_=v,this.lastSessionId=D,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=nC("c:"+this.id+":"),this.transportManager_=new G6(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=iC(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=rC("t",e),r=rC("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=rC("t",e),r=rC("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=rC("t",e);if("d"in e){const r=e.d;if("h"===t)this.onHandshake_(r);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?nR("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):nR("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&wo("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),iC(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):iC(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(gm.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class J6{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class X6{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,R.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){(0,R.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class EI extends X6{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,R.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new EI}getInitialEvent(e){return(0,R.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class In{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function mn(){return new In("")}function Wt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Bf(n){return n.pieces_.length-n.pieceNum_}function qn(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new In(n.pieces_,e)}function dR(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function sC(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function nZ(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new In(e,0)}function Dr(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof In)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new In(t,0)}function zt(n){return n.pieceNum_>=n.pieces_.length}function zo(n,e){const t=Wt(n),r=Wt(e);if(null===t)return e;if(t===r)return zo(qn(n),qn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function oY(n,e){const t=sC(n,0),r=sC(e,0);for(let i=0;i<t.length&&i<r.length;i++){const s=_m(t[i],r[i]);if(0!==s)return s}return t.length===r.length?0:t.length<r.length?-1:1}function hR(n,e){if(Bf(n)!==Bf(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function ec(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Bf(n)>Bf(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class sY{constructor(e,t){this.errorPrefix_=t,this.parts_=sC(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,R.ug)(this.parts_[r]);rZ(this)}}function rZ(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ym(n))}function ym(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class fR extends X6{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new fR}getInitialEvent(e){return(0,R.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const aC=1e3;let SI,vm=(()=>{class n extends J6{constructor(t,r,i,s,u,h,g,v){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=u,this.authTokenProvider_=h,this.appCheckTokenProvider_=g,this.authOverride_=v,this.id=n.nextPersistentConnectionId_++,this.log_=nC("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=aC,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,v&&!(0,R.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");fR.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&EI.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const s=++this.requestNumber_,u={r:s,a:t,b:r};this.log_((0,R.Wl)(u)),(0,R.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();const r=new R.BH,i={p:t._path.toString(),q:t._queryObject};return this.outstandingGets_.push({action:"g",request:i,onComplete:h=>{const g=h.d;"ok"===h.s?r.resolve(g):r.reject(g)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,s){this.initConnection_();const u=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+u),this.listens.has(h)||this.listens.set(h,new Map),(0,R.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,R.hu)(!this.listens.get(h).has(u),"listen() called twice for same path/queryId.");const g={onComplete:s,hashFn:r,query:t,tag:i};this.listens.get(h).set(u,g),this.connected_&&this.sendListen_(g)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const u={p:i};t.tag&&(u.q=r._queryObject,u.t=t.tag),u.h=t.hashFn(),this.sendRequest("q",u,g=>{const v=g.d,D=g.s;n.warnOnListenWarnings_(v,r),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",g),"ok"!==D&&this.removeListen_(i,s),t.onComplete&&t.onComplete(D,v))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&(0,R.r3)(t,"w")){const i=(0,R.DV)(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',u=r._path.toString();wo(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,R.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=(0,R.w9)(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const u=s.s,h=s.d||"error";this.authToken_===t&&("ok"===u?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),(0,R.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,r)}sendUnlisten_(t,r,i,s){this.log_("Unlisten on "+t+" for "+r);const u={p:t};s&&(u.q=i,u.t=s),this.sendRequest("n",u)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,s){const u={p:r,d:i};this.log_("onDisconnect "+t,u),this.sendRequest(t,u,h=>{s&&setTimeout(()=>{s(h.s,h.d)},Math.floor(0))})}put(t,r,i,s){this.putInternal("p",t,r,i,s)}merge(t,r,i,s){this.putInternal("m",t,r,i,s)}putInternal(t,r,i,s,u){this.initConnection_();const h={p:r,d:i};void 0!==u&&(h.h=u),this.outstandingPuts_.push({action:t,request:h,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,u=>{this.log_(r+" response",u),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(u.s,u.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,R.Wl)(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):nR("Unrecognized action received from server: "+(0,R.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,R.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=aC,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=aC,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=aC),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,pe.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),u=t.id+":"+n.nextConnectionId_++,h=t.lastSessionId;let g=!1,v=null;const D=function(){v?v.close():(g=!0,s())};t.realtime_={close:D,sendRequest:function(k){(0,R.hu)(v,"sendRequest call when we're not connected not allowed."),v.sendRequest(k)}};const O=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[k,Z]=yield Promise.all([t.authTokenProvider_.getToken(O),t.appCheckTokenProvider_.getToken(O)]);g?Fi("getToken() completed but was canceled"):(Fi("getToken() completed. Creating connection."),t.authToken_=k&&k.accessToken,t.appCheckToken_=Z&&Z.token,v=new Q6(u,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,s,z=>{wo(z+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},h))}catch(k){t.log_("Failed to get token: "+k),g||(t.repoInfo_.nodeAdmin&&wo(k),D())}}})()}interrupt(t){Fi("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Fi("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,R.xb)(this.interruptReasons_)&&(this.reconnectDelay_=aC,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(u=>rR(u)).join("$"):"default";const s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){const i=new In(t).toString();let s;if(this.listens.has(i)){const u=this.listens.get(i);s=u.get(r),u.delete(r),0===u.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,r){Fi("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Fi("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";(0,R.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+eR.replace(/\./g,"-")]=1,(0,R.uI)()?t["framework.cordova"]=1:(0,R.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=EI.getInstance().currentlyOnline();return(0,R.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Yt{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Yt(e,t)}}class II{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new Yt(Uf,e),i=new Yt(Uf,t);return 0!==this.compare(r,i)}minPost(){return Yt.MIN}}class sZ extends II{static get __EMPTY_NODE(){return SI}static set __EMPTY_NODE(e){SI=e}compare(e,t){return _m(e.name,t.name)}isDefinedOn(e){throw(0,R.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Yt.MIN}maxPost(){return new Yt(Rd,SI)}makePost(e,t){return(0,R.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Yt(e,SI)}toString(){return".key"}}const fu=new sZ;class MI{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,i&&(u*=-1),u<0)e=this.isReverse_?e.left:e.right;else{if(0===u){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let gR,tl=(()=>{class n{constructor(t,r,i,s,u){this.key=t,this.value=r,this.color=i??n.RED,this.left=s??bs.EMPTY_NODE,this.right=u??bs.EMPTY_NODE}copy(t,r,i,s,u){return new n(t??this.key,r??this.value,i??this.color,s??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this;const u=i(t,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(t,r,i),null):0===u?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return bs.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,s;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return bs.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class bs{constructor(e,t=bs.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new bs(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,tl.BLACK,null,null))}remove(e){return new bs(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,tl.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new MI(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new MI(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new MI(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new MI(this.root_,null,this.comparator_,!0,e)}}function pY(n,e){return _m(n.name,e.name)}function pR(n,e){return _m(n,e)}bs.EMPTY_NODE=new class fY{copy(e,t,r,i,s){return this}insert(e,t,r){return new tl(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const aZ=function(n){return"number"==typeof n?"number:"+I6(n):"string:"+n},cZ=function(n){if(n.isLeafNode()){const e=n.val();(0,R.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,R.r3)(e,".sv"),"Priority must be a string or number.")}else(0,R.hu)(n===gR||n.isEmpty(),"priority of unexpected type.");(0,R.hu)(n===gR||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let lZ,uZ,dZ,av=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,(0,R.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),cZ(this.priorityNode_)}static set __childrenNodeConstructor(t){lZ=t}static get __childrenNodeConstructor(){return lZ}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return zt(t)?this:".priority"===Wt(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=Wt(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,R.hu)(".priority"!==i||1===Bf(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(qn(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+aZ(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?I6(this.value_):this.value_,this.lazyHash_=w6(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,R.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),u=n.VALUE_TYPE_ORDER.indexOf(i);return(0,R.hu)(s>=0,"Unknown leaf type: "+r),(0,R.hu)(u>=0,"Unknown leaf type: "+i),s===u?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:u-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const er=new class yY extends II{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return 0===s?_m(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Yt.MIN}maxPost(){return new Yt(Rd,new av("[PRIORITY-POST]",dZ))}makePost(e,t){const r=uZ(e);return new Yt(t,new av("[PRIORITY-POST]",r))}toString(){return".priority"}},vY=Math.log(2);class bY{constructor(e){this.count=parseInt(Math.log(e+1)/vY,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const xI=function(n,e,t,r){n.sort(e);const i=function(g,v){const D=v-g;let I,O;if(0===D)return null;if(1===D)return I=n[g],O=t?t(I):I,new tl(O,I.node,tl.BLACK,null,null);{const k=parseInt(D/2,10)+g,Z=i(g,k),z=i(k+1,v);return I=n[k],O=t?t(I):I,new tl(O,I.node,tl.BLACK,Z,z)}},h=function(g){let v=null,D=null,I=n.length;const O=function(Z,z){const ie=I-Z,be=I;I-=Z;const Oe=i(ie+1,be),Le=n[ie],Pe=t?t(Le):Le;k(new tl(Pe,Le.node,z,null,Oe))},k=function(Z){v?(v.left=Z,v=Z):(D=Z,v=Z)};for(let Z=0;Z<g.count;++Z){const z=g.nextBitIsOne(),ie=Math.pow(2,g.count-(Z+1));z?O(ie,tl.BLACK):(O(ie,tl.BLACK),O(ie,tl.RED))}return D}(new bY(n.length));return new bs(r||e,h)};let mR;const cv={};class Fd{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,R.hu)(cv&&er,"ChildrenNode.ts has not been loaded"),mR=mR||new Fd({".priority":cv},{".priority":er}),mR}get(e){const t=(0,R.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof bs?t:null}hasIndex(e){return(0,R.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,R.hu)(e!==fu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(Yt.Wrap);let h,u=s.getNext();for(;u;)i=i||e.isDefinedOn(u.node),r.push(u),u=s.getNext();h=i?xI(r,e.getCompare()):cv;const g=e.toString(),v=Object.assign({},this.indexSet_);v[g]=e;const D=Object.assign({},this.indexes_);return D[g]=h,new Fd(D,v)}addToIndexes(e,t){const r=(0,R.UI)(this.indexes_,(i,s)=>{const u=(0,R.DV)(this.indexSet_,s);if((0,R.hu)(u,"Missing index implementation for "+s),i===cv){if(u.isDefinedOn(e.node)){const h=[],g=t.getIterator(Yt.Wrap);let v=g.getNext();for(;v;)v.name!==e.name&&h.push(v),v=g.getNext();return h.push(e),xI(h,u.getCompare())}return cv}{const h=t.get(e.name);let g=i;return h&&(g=g.remove(new Yt(e.name,h))),g.insert(e,e.node)}});return new Fd(r,this.indexSet_)}removeFromIndexes(e,t){const r=(0,R.UI)(this.indexes_,i=>{if(i===cv)return i;{const s=t.get(e.name);return s?i.remove(new Yt(e.name,s)):i}});return new Fd(r,this.indexSet_)}}let cC,Rt=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&cZ(this.priorityNode_),this.children_.isEmpty()&&(0,R.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return cC||(cC=new n(new bs(pR),null,Fd.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||cC}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?cC:r}}getChild(t){const r=Wt(t);return null===r?this:this.getImmediateChild(r).getChild(qn(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if((0,R.hu)(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new Yt(t,r);let s,u;r.isEmpty()?(s=this.children_.remove(t),u=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,r),u=this.indexMap_.addToIndexes(i,this.children_));const h=s.isEmpty()?cC:this.priorityNode_;return new n(s,h,u)}}updateChild(t,r){const i=Wt(t);if(null===i)return r;{(0,R.hu)(".priority"!==Wt(t)||1===Bf(t),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(qn(t),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,s=0,u=!0;if(this.forEachChild(er,(h,g)=>{r[h]=g.val(t),i++,u&&n.INTEGER_REGEXP_.test(h)?s=Math.max(s,Number(h)):u=!1}),!t&&u&&s<2*i){const h=[];for(const g in r)h[g]=r[g];return h}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+aZ(this.getPriority().val())+":"),this.forEachChild(er,(r,i)=>{const s=i.hash();""!==s&&(t+=":"+r+":"+s)}),this.lazyHash_=""===t?"":w6(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const s=this.resolveIndex_(i);if(s){const u=s.getPredecessorKey(new Yt(t,r));return u?u.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new Yt(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new Yt(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,Yt.Wrap);let u=s.peek();for(;null!=u&&r.compare(u,t)<0;)s.getNext(),u=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,Yt.Wrap);let u=s.peek();for(;null!=u&&r.compare(u,t)>0;)s.getNext(),u=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===lC?-1:0}withIndex(t){if(t===fu||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===fu||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(er),s=r.getIterator(er);let u=i.getNext(),h=s.getNext();for(;u&&h;){if(u.name!==h.name||!u.node.equals(h.node))return!1;u=i.getNext(),h=s.getNext()}return null===u&&null===h}return!1}return!1}}resolveIndex_(t){return t===fu?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const lC=new class CY extends Rt{constructor(){super(new bs(pR),Rt.EMPTY_NODE,Fd.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Rt.EMPTY_NODE}isEmpty(){return!1}};function Pr(n,e=null){if(null===n)return Rt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,R.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new av(n,Pr(e));if(n instanceof Array){let t=Rt.EMPTY_NODE;return Li(n,(r,i)=>{if((0,R.r3)(n,r)&&"."!==r.substring(0,1)){const s=Pr(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(Pr(e))}{const t=[];let r=!1;if(Li(n,(u,h)=>{if("."!==u.substring(0,1)){const g=Pr(h);g.isEmpty()||(r=r||!g.getPriority().isEmpty(),t.push(new Yt(u,g)))}}),0===t.length)return Rt.EMPTY_NODE;const s=xI(t,pY,u=>u.name,pR);if(r){const u=xI(t,er.getCompare());return new Rt(s,Pr(e),new Fd({".priority":u},{".priority":er}))}return new Rt(s,Pr(e),Fd.Default)}}Object.defineProperties(Yt,{MIN:{value:new Yt(Uf,Rt.EMPTY_NODE)},MAX:{value:new Yt(Rd,lC)}}),sZ.__EMPTY_NODE=Rt.EMPTY_NODE,av.__childrenNodeConstructor=Rt,function gY(n){gR=n}(lC),function _Y(n){dZ=n}(lC),function mY(n){uZ=n}(Pr);class _R extends II{constructor(e){super(),this.indexPath_=e,(0,R.hu)(!zt(e)&&".priority"!==Wt(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return 0===s?_m(e.name,t.name):s}makePost(e,t){const r=Pr(e),i=Rt.EMPTY_NODE.updateChild(this.indexPath_,r);return new Yt(t,i)}maxPost(){const e=Rt.EMPTY_NODE.updateChild(this.indexPath_,lC);return new Yt(Rd,e)}toString(){return sC(this.indexPath_,0).join("/")}}const yR=new class DY extends II{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?_m(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Yt.MIN}maxPost(){return Yt.MAX}makePost(e,t){const r=Pr(e);return new Yt(t,r)}toString(){return".value"}};function hZ(n){return{type:"value",snapshotNode:n}}function lv(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function uC(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function dC(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class vR{constructor(e){this.index_=e}updateChild(e,t,r,i,s,u){(0,R.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(t);return h.getChild(i).equals(r.getChild(i))&&h.isEmpty()===r.isEmpty()||(null!=u&&(r.isEmpty()?e.hasChild(t)?u.trackChildChange(uC(t,h)):(0,R.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?u.trackChildChange(lv(t,r)):u.trackChildChange(dC(t,r,h))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(e,t,r){return null!=r&&(e.isLeafNode()||e.forEachChild(er,(i,s)=>{t.hasChild(i)||r.trackChildChange(uC(i,s))}),t.isLeafNode()||t.forEachChild(er,(i,s)=>{if(e.hasChild(i)){const u=e.getImmediateChild(i);u.equals(s)||r.trackChildChange(dC(i,s,u))}else r.trackChildChange(lv(i,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Rt.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class hC{constructor(e){this.indexedFilter_=new vR(e.getIndex()),this.index_=e.getIndex(),this.startPost_=hC.getStartPost_(e),this.endPost_=hC.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&r}updateChild(e,t,r,i,s,u){return this.matches(new Yt(t,r))||(r=Rt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,i,s,u)}updateFullNode(e,t,r){t.isLeafNode()&&(t=Rt.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(Rt.EMPTY_NODE);const s=this;return t.forEachChild(er,(u,h)=>{s.matches(new Yt(u,h))||(i=i.updateImmediateChild(u,Rt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class EY{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=t=>{const r=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new hC(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,r,i,s,u){return this.rangedFilter_.matches(new Yt(t,r))||(r=Rt.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,i,s,u):this.fullLimitUpdateChild_(e,t,r,s,u)}updateFullNode(e,t,r){let i;if(t.isLeafNode()||t.isEmpty())i=Rt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;i=Rt.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;s.hasNext()&&u<this.limit_;){const h=s.getNext();if(this.withinDirectionalStart(h)){if(!this.withinDirectionalEnd(h))break;i=i.updateImmediateChild(h.name,h.node),u++}}}else{let s;i=t.withIndex(this.index_),i=i.updatePriority(Rt.EMPTY_NODE),s=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let u=0;for(;s.hasNext();){const h=s.getNext();u<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?u++:i=i.updateImmediateChild(h.name,Rt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,i,s){let u;if(this.reverse_){const I=this.index_.getCompare();u=(O,k)=>I(k,O)}else u=this.index_.getCompare();const h=e;(0,R.hu)(h.numChildren()===this.limit_,"");const g=new Yt(t,r),v=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),D=this.rangedFilter_.matches(g);if(h.hasChild(t)){const I=h.getImmediateChild(t);let O=i.getChildAfterChild(this.index_,v,this.reverse_);for(;null!=O&&(O.name===t||h.hasChild(O.name));)O=i.getChildAfterChild(this.index_,O,this.reverse_);const k=null==O?1:u(O,g);if(D&&!r.isEmpty()&&k>=0)return s?.trackChildChange(dC(t,r,I)),h.updateImmediateChild(t,r);{s?.trackChildChange(uC(t,I));const z=h.updateImmediateChild(t,Rt.EMPTY_NODE);return null!=O&&this.rangedFilter_.matches(O)?(s?.trackChildChange(lv(O.name,O.node)),z.updateImmediateChild(O.name,O.node)):z}}return r.isEmpty()?e:D&&u(v,g)>=0?(null!=s&&(s.trackChildChange(uC(v.name,v.node)),s.trackChildChange(lv(t,r))),h.updateImmediateChild(t,r).updateImmediateChild(v.name,Rt.EMPTY_NODE)):e}}class OI{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=er}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,R.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,R.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Uf}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,R.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,R.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Rd}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,R.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===er}copy(){const e=new OI;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function bR(n,e,t){const r=n.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=t?(r.startNameSet_=!0,r.indexStartName_=t):(r.startNameSet_=!1,r.indexStartName_=""),r}function CR(n,e,t){const r=n.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==t?(r.endNameSet_=!0,r.indexEndName_=t):(r.endNameSet_=!1,r.indexEndName_=""),r}function AI(n,e){const t=n.copy();return t.index_=e,t}function fZ(n){const e={};if(n.isDefault())return e;let t;if(n.index_===er?t="$priority":n.index_===yR?t="$value":n.index_===fu?t="$key":((0,R.hu)(n.index_ instanceof _R,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,R.Wl)(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=(0,R.Wl)(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+(0,R.Wl)(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=(0,R.Wl)(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+(0,R.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function pZ(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==er&&(e.i=n.index_.toString()),e}class PI extends J6{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=nC("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,R.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const u=PI.getListenId_(e,r),h={};this.listens_[u]=h;const g=fZ(e._queryParams);this.restRequest_(s+".json",g,(v,D)=>{let I=D;if(404===v&&(I=null,v=null),null===v&&this.onDataUpdate_(s,I,!1,r),(0,R.DV)(this.listens_,u)===h){let O;O=v?401===v?"permission_denied":"rest_error:"+v:"ok",i(O,null)}})}unlisten(e,t){const r=PI.getListenId_(e,t);delete this.listens_[r]}get(e){const t=fZ(e._queryParams),r=e._path.toString(),i=new R.BH;return this.restRequest_(r+".json",t,(s,u)=>{let h=u;404===s&&(h=null,s=null),null===s?(this.onDataUpdate_(r,h,!1,null),i.resolve(h)):i.reject(new Error(h))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,R.xO)(t);this.log_("Sending REST request for "+u);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&4===h.readyState){this.log_("REST Response for "+u+" received. status:",h.status,"response:",h.responseText);let g=null;if(h.status>=200&&h.status<300){try{g=(0,R.cI)(h.responseText)}catch{wo("Failed to parse JSON response for "+u+": "+h.responseText)}r(null,g)}else 401!==h.status&&404!==h.status&&wo("Got unsuccessful REST response for "+u+" Status: "+h.status),r(h.status);r=null}},h.open("GET",u,!0),h.send()})}}class AY{constructor(){this.rootNode_=Rt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function NI(){return{value:null,children:new Map}}function uv(n,e,t){if(zt(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=Wt(e);n.children.has(r)||n.children.set(r,NI()),uv(n.children.get(r),e=qn(e),t)}}function wR(n,e){if(zt(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(er,(r,i)=>{uv(n,new In(r),i)}),wR(n,e)}}if(n.children.size>0){const t=Wt(e);return e=qn(e),n.children.has(t)&&wR(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function DR(n,e,t){null!==n.value?t(e,n.value):function PY(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{DR(i,new In(e.toString()+"/"+r),t)})}class NY{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Li(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class FY{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new NY(e);const r=1e4+2e4*Math.random();iC(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Li(e,(i,s)=>{s>0&&(0,R.r3)(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),iC(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var tc=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(tc||(tc={})),tc))();function IR(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class kI{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=tc.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(zt(this.path)){if(null!=this.affectedTree.value)return(0,R.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new In(e));return new kI(mn(),t,this.revert)}}return(0,R.hu)(Wt(this.path)===e,"operationForChild called for unrelated child."),new kI(qn(this.path),this.affectedTree,this.revert)}}class fC{constructor(e,t){this.source=e,this.path=t,this.type=tc.LISTEN_COMPLETE}operationForChild(e){return zt(this.path)?new fC(this.source,mn()):new fC(this.source,qn(this.path))}}class bm{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=tc.OVERWRITE}operationForChild(e){return zt(this.path)?new bm(this.source,mn(),this.snap.getImmediateChild(e)):new bm(this.source,qn(this.path),this.snap)}}class dv{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=tc.MERGE}operationForChild(e){if(zt(this.path)){const t=this.children.subtree(new In(e));return t.isEmpty()?null:t.value?new bm(this.source,mn(),t.value):new dv(this.source,mn(),t)}return(0,R.hu)(Wt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new dv(this.source,qn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Zf{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(zt(e))return this.isFullyInitialized()&&!this.filtered_;const t=Wt(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class LY{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function pC(n,e,t,r,i,s){const u=r.filter(h=>h.type===t);u.sort((h,g)=>function BY(n,e,t){if(null==e.childName||null==t.childName)throw(0,R.g5)("Should only compare child_ events.");const r=new Yt(e.childName,e.snapshotNode),i=new Yt(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,h,g)),u.forEach(h=>{const g=function VY(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,h,s);i.forEach(v=>{v.respondsTo(h.type)&&e.push(v.createEvent(g,n.query_))})})}function RI(n,e){return{eventCache:n,serverCache:e}}function gC(n,e,t,r){return RI(new Zf(e,t,r),n.serverCache)}function mZ(n,e,t,r){return RI(n.eventCache,new Zf(e,t,r))}function FI(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Cm(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let SR;class tr{constructor(e,t=(()=>(SR||(SR=new bs(TK)),SR))()){this.value=e,this.children=t}static fromObject(e){let t=new tr(null);return Li(e,(r,i)=>{t=t.set(new In(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:mn(),value:this.value};if(zt(e))return null;{const r=Wt(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(qn(e),t);return null!=s?{path:Dr(new In(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(zt(e))return this;{const t=Wt(e),r=this.children.get(t);return null!==r?r.subtree(qn(e)):new tr(null)}}set(e,t){if(zt(e))return new tr(t,this.children);{const r=Wt(e),s=(this.children.get(r)||new tr(null)).set(qn(e),t),u=this.children.insert(r,s);return new tr(this.value,u)}}remove(e){if(zt(e))return this.children.isEmpty()?new tr(null):new tr(null,this.children);{const t=Wt(e),r=this.children.get(t);if(r){const i=r.remove(qn(e));let s;return s=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&s.isEmpty()?new tr(null):new tr(this.value,s)}return this}}get(e){if(zt(e))return this.value;{const t=Wt(e),r=this.children.get(t);return r?r.get(qn(e)):null}}setTree(e,t){if(zt(e))return t;{const r=Wt(e),s=(this.children.get(r)||new tr(null)).setTree(qn(e),t);let u;return u=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new tr(this.value,u)}}fold(e){return this.fold_(mn(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Dr(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,mn(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(zt(e))return null;{const s=Wt(e),u=this.children.get(s);return u?u.findOnPath_(qn(e),Dr(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,mn(),t)}foreachOnPath_(e,t,r){if(zt(e))return this;{this.value&&r(t,this.value);const i=Wt(e),s=this.children.get(i);return s?s.foreachOnPath_(qn(e),Dr(t,i),r):new tr(null)}}foreach(e){this.foreach_(mn(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(Dr(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class nl{constructor(e){this.writeTree_=e}static empty(){return new nl(new tr(null))}}function mC(n,e,t){if(zt(e))return new nl(new tr(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const u=zo(i,e);return s=s.updateChild(u,t),new nl(n.writeTree_.set(i,s))}{const i=new tr(t),s=n.writeTree_.setTree(e,i);return new nl(s)}}}function MR(n,e,t){let r=n;return Li(t,(i,s)=>{r=mC(r,Dr(e,i),s)}),r}function _Z(n,e){if(zt(e))return nl.empty();{const t=n.writeTree_.setTree(e,new tr(null));return new nl(t)}}function xR(n,e){return null!=wm(n,e)}function wm(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(zo(t.path,e)):null}function yZ(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(er,(r,i)=>{e.push(new Yt(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new Yt(r,i.value))}),e}function Hf(n,e){if(zt(e))return n;{const t=wm(n,e);return new nl(null!=t?new tr(t):n.writeTree_.subtree(e))}}function OR(n){return n.writeTree_.isEmpty()}function hv(n,e){return vZ(mn(),n.writeTree_,e)}function vZ(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?((0,R.hu)(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):t=vZ(Dr(n,i),s,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(Dr(n,".priority"),r)),t}}function LI(n,e){return TZ(e,n)}function qY(n,e){if(n.snap)return ec(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&ec(Dr(n.path,t),e))return!0;return!1}function zY(n){return n.visible}function bZ(n,e,t){let r=nl.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const u=s.path;let h;if(s.snap)ec(t,u)?(h=zo(t,u),r=mC(r,h,s.snap)):ec(u,t)&&(h=zo(u,t),r=mC(r,mn(),s.snap.getChild(h)));else{if(!s.children)throw(0,R.g5)("WriteRecord should have .snap or .children");if(ec(t,u))h=zo(t,u),r=MR(r,h,s.children);else if(ec(u,t))if(h=zo(u,t),zt(h))r=MR(r,mn(),s.children);else{const g=(0,R.DV)(s.children,Wt(h));if(g){const v=g.getChild(qn(h));r=mC(r,mn(),v)}}}}}return r}function CZ(n,e,t,r,i){if(r||i){const s=Hf(n.visibleWrites,e);return!i&&OR(s)?t:i||null!=t||xR(s,mn())?hv(bZ(n.allWrites,function(v){return(v.visible||i)&&(!r||!~r.indexOf(v.writeId))&&(ec(v.path,e)||ec(e,v.path))},e),t||Rt.EMPTY_NODE):null}{const s=wm(n.visibleWrites,e);if(null!=s)return s;{const u=Hf(n.visibleWrites,e);return OR(u)?t:null!=t||xR(u,mn())?hv(u,t||Rt.EMPTY_NODE):null}}}function UI(n,e,t,r){return CZ(n.writeTree,n.treePath,e,t,r)}function AR(n,e){return function KY(n,e,t){let r=Rt.EMPTY_NODE;const i=wm(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(er,(s,u)=>{r=r.updateImmediateChild(s,u)}),r;if(t){const s=Hf(n.visibleWrites,e);return t.forEachChild(er,(u,h)=>{const g=hv(Hf(s,new In(u)),h);r=r.updateImmediateChild(u,g)}),yZ(s).forEach(u=>{r=r.updateImmediateChild(u.name,u.node)}),r}return yZ(Hf(n.visibleWrites,e)).forEach(u=>{r=r.updateImmediateChild(u.name,u.node)}),r}(n.writeTree,n.treePath,e)}function wZ(n,e,t,r){return function YY(n,e,t,r,i){(0,R.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Dr(e,t);if(xR(n.visibleWrites,s))return null;{const u=Hf(n.visibleWrites,s);return OR(u)?i.getChild(t):hv(u,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function VI(n,e){return function JY(n,e){return wm(n.visibleWrites,e)}(n.writeTree,Dr(n.treePath,e))}function PR(n,e,t){return function QY(n,e,t,r){const i=Dr(e,t),s=wm(n.visibleWrites,i);return null!=s?s:r.isCompleteForChild(t)?hv(Hf(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function DZ(n,e){return TZ(Dr(n.treePath,e),n.writeTree)}function TZ(n,e){return{treePath:n,writeTree:e}}class nQ{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;(0,R.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,R.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(r,dC(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(r,uC(r,i.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(r,lv(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,R.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,dC(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const EZ=new class rQ{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class NR{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Zf(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return PR(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Cm(this.viewCache_),s=function tQ(n,e,t,r,i,s){return function XY(n,e,t,r,i,s,u){let h;const g=Hf(n.visibleWrites,e),v=wm(g,mn());if(null!=v)h=v;else{if(null==t)return[];h=hv(g,t)}if(h=h.withIndex(u),h.isEmpty()||h.isLeafNode())return[];{const D=[],I=u.getCompare(),O=s?h.getReverseIteratorFrom(r,u):h.getIteratorFrom(r,u);let k=O.getNext();for(;k&&D.length<i;)0!==I(k,r)&&D.push(k),k=O.getNext();return D}}(n.writeTree,n.treePath,e,t,r,i,s)}(this.writes_,i,t,1,r,e);return 0===s.length?null:s[0]}}function IZ(n,e,t,r,i,s){const u=e.eventCache;if(null!=VI(r,t))return e;{let h,g;if(zt(t))if((0,R.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const v=Cm(e),I=AR(r,v instanceof Rt?v:Rt.EMPTY_NODE);h=n.filter.updateFullNode(e.eventCache.getNode(),I,s)}else{const v=UI(r,Cm(e));h=n.filter.updateFullNode(e.eventCache.getNode(),v,s)}else{const v=Wt(t);if(".priority"===v){(0,R.hu)(1===Bf(t),"Can't have a priority with additional path components");const D=u.getNode();g=e.serverCache.getNode();const I=wZ(r,t,D,g);h=null!=I?n.filter.updatePriority(D,I):u.getNode()}else{const D=qn(t);let I;if(u.isCompleteForChild(v)){g=e.serverCache.getNode();const O=wZ(r,t,u.getNode(),g);I=null!=O?u.getNode().getImmediateChild(v).updateChild(D,O):u.getNode().getImmediateChild(v)}else I=PR(r,v,e.serverCache);h=null!=I?n.filter.updateChild(u.getNode(),v,I,D,i,s):u.getNode()}}return gC(e,h,u.isFullyInitialized()||zt(t),n.filter.filtersNodes())}}function BI(n,e,t,r,i,s,u,h){const g=e.serverCache;let v;const D=u?n.filter:n.filter.getIndexedFilter();if(zt(t))v=D.updateFullNode(g.getNode(),r,null);else if(D.filtersNodes()&&!g.isFiltered()){const k=g.getNode().updateChild(t,r);v=D.updateFullNode(g.getNode(),k,null)}else{const k=Wt(t);if(!g.isCompleteForPath(t)&&Bf(t)>1)return e;const Z=qn(t),ie=g.getNode().getImmediateChild(k).updateChild(Z,r);v=".priority"===k?D.updatePriority(g.getNode(),ie):D.updateChild(g.getNode(),k,ie,Z,EZ,null)}const I=mZ(e,v,g.isFullyInitialized()||zt(t),D.filtersNodes());return IZ(n,I,t,i,new NR(i,I,s),h)}function kR(n,e,t,r,i,s,u){const h=e.eventCache;let g,v;const D=new NR(i,e,s);if(zt(t))v=n.filter.updateFullNode(e.eventCache.getNode(),r,u),g=gC(e,v,!0,n.filter.filtersNodes());else{const I=Wt(t);if(".priority"===I)v=n.filter.updatePriority(e.eventCache.getNode(),r),g=gC(e,v,h.isFullyInitialized(),h.isFiltered());else{const O=qn(t),k=h.getNode().getImmediateChild(I);let Z;if(zt(O))Z=r;else{const z=D.getCompleteChild(I);Z=null!=z?".priority"===dR(O)&&z.getChild(nZ(O)).isEmpty()?z:z.updateChild(O,r):Rt.EMPTY_NODE}g=k.equals(Z)?e:gC(e,n.filter.updateChild(h.getNode(),I,Z,O,D,u),h.isFullyInitialized(),n.filter.filtersNodes())}}return g}function SZ(n,e){return n.eventCache.isCompleteForChild(e)}function MZ(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function RR(n,e,t,r,i,s,u,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let v,g=e;v=zt(t)?r:new tr(null).setTree(t,r);const D=e.serverCache.getNode();return v.children.inorderTraversal((I,O)=>{if(D.hasChild(I)){const Z=MZ(0,e.serverCache.getNode().getImmediateChild(I),O);g=BI(n,g,new In(I),Z,i,s,u,h)}}),v.children.inorderTraversal((I,O)=>{const k=!e.serverCache.isCompleteForChild(I)&&null===O.value;if(!D.hasChild(I)&&!k){const z=MZ(0,e.serverCache.getNode().getImmediateChild(I),O);g=BI(n,g,new In(I),z,i,s,u,h)}}),g}class hQ{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new vR(r.getIndex()),s=function IY(n){return n.loadsAllData()?new vR(n.getIndex()):n.hasLimit()?new EY(n):new hC(n)}(r);this.processor_=function iQ(n){return{filter:n}}(s);const u=t.serverCache,h=t.eventCache,g=i.updateFullNode(Rt.EMPTY_NODE,u.getNode(),null),v=s.updateFullNode(Rt.EMPTY_NODE,h.getNode(),null),D=new Zf(g,u.isFullyInitialized(),i.filtersNodes()),I=new Zf(v,h.isFullyInitialized(),s.filtersNodes());this.viewCache_=RI(I,D),this.eventGenerator_=new LY(this.query_)}get query(){return this.query_}}function gQ(n,e){const t=Cm(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!zt(e)&&!t.getImmediateChild(Wt(e)).isEmpty())?t.getChild(e):null}function xZ(n){return 0===n.eventRegistrations_.length}function OZ(n,e,t){const r=[];if(t){(0,R.hu)(null==e,"A cancel should cancel all event registrations.");const i=n.query._path;n.eventRegistrations_.forEach(s=>{const u=s.createCancelEvent(t,i);u&&r.push(u)})}if(e){let i=[];for(let s=0;s<n.eventRegistrations_.length;++s){const u=n.eventRegistrations_[s];if(u.matches(e)){if(e.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(s+1));break}}else i.push(u)}n.eventRegistrations_=i}else n.eventRegistrations_=[];return r}function AZ(n,e,t,r){e.type===tc.MERGE&&null!==e.source.queryId&&((0,R.hu)(Cm(n.viewCache_),"We should always have a full cache before handling merges"),(0,R.hu)(FI(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=function sQ(n,e,t,r,i){const s=new nQ;let u,h;if(t.type===tc.OVERWRITE){const v=t;v.source.fromUser?u=kR(n,e,v.path,v.snap,r,i,s):((0,R.hu)(v.source.fromServer,"Unknown source."),h=v.source.tagged||e.serverCache.isFiltered()&&!zt(v.path),u=BI(n,e,v.path,v.snap,r,i,h,s))}else if(t.type===tc.MERGE){const v=t;v.source.fromUser?u=function cQ(n,e,t,r,i,s,u){let h=e;return r.foreach((g,v)=>{const D=Dr(t,g);SZ(e,Wt(D))&&(h=kR(n,h,D,v,i,s,u))}),r.foreach((g,v)=>{const D=Dr(t,g);SZ(e,Wt(D))||(h=kR(n,h,D,v,i,s,u))}),h}(n,e,v.path,v.children,r,i,s):((0,R.hu)(v.source.fromServer,"Unknown source."),h=v.source.tagged||e.serverCache.isFiltered(),u=RR(n,e,v.path,v.children,r,i,h,s))}else if(t.type===tc.ACK_USER_WRITE){const v=t;u=v.revert?function dQ(n,e,t,r,i,s){let u;if(null!=VI(r,t))return e;{const h=new NR(r,e,i),g=e.eventCache.getNode();let v;if(zt(t)||".priority"===Wt(t)){let D;if(e.serverCache.isFullyInitialized())D=UI(r,Cm(e));else{const I=e.serverCache.getNode();(0,R.hu)(I instanceof Rt,"serverChildren would be complete if leaf node"),D=AR(r,I)}v=n.filter.updateFullNode(g,D,s)}else{const D=Wt(t);let I=PR(r,D,e.serverCache);null==I&&e.serverCache.isCompleteForChild(D)&&(I=g.getImmediateChild(D)),v=null!=I?n.filter.updateChild(g,D,I,qn(t),h,s):e.eventCache.getNode().hasChild(D)?n.filter.updateChild(g,D,Rt.EMPTY_NODE,qn(t),h,s):g,v.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=UI(r,Cm(e)),u.isLeafNode()&&(v=n.filter.updateFullNode(v,u,s)))}return u=e.serverCache.isFullyInitialized()||null!=VI(r,mn()),gC(e,v,u,n.filter.filtersNodes())}}(n,e,v.path,r,i,s):function lQ(n,e,t,r,i,s,u){if(null!=VI(i,t))return e;const h=e.serverCache.isFiltered(),g=e.serverCache;if(null!=r.value){if(zt(t)&&g.isFullyInitialized()||g.isCompleteForPath(t))return BI(n,e,t,g.getNode().getChild(t),i,s,h,u);if(zt(t)){let v=new tr(null);return g.getNode().forEachChild(fu,(D,I)=>{v=v.set(new In(D),I)}),RR(n,e,t,v,i,s,h,u)}return e}{let v=new tr(null);return r.foreach((D,I)=>{const O=Dr(t,D);g.isCompleteForPath(O)&&(v=v.set(D,g.getNode().getChild(O)))}),RR(n,e,t,v,i,s,h,u)}}(n,e,v.path,v.affectedTree,r,i,s)}else{if(t.type!==tc.LISTEN_COMPLETE)throw(0,R.g5)("Unknown operation type: "+t.type);u=function uQ(n,e,t,r,i){const s=e.serverCache;return IZ(n,mZ(e,s.getNode(),s.isFullyInitialized()||zt(t),s.isFiltered()),t,r,EZ,i)}(n,e,t.path,r,s)}const g=s.getChanges();return function aQ(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=FI(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(hZ(FI(e)))}}(e,u,g),{viewCache:u,changes:g}}(n.processor_,i,e,t,r);return function oQ(n,e){(0,R.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,R.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,R.hu)(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,PZ(n,s.changes,s.viewCache.eventCache.getNode(),null)}function PZ(n,e,t,r){return function UY(n,e,t,r){const i=[],s=[];return e.forEach(u=>{"child_changed"===u.type&&n.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&s.push(function TY(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(u.childName,u.snapshotNode))}),pC(n,i,"child_removed",e,r,t),pC(n,i,"child_added",e,r,t),pC(n,i,"child_moved",s,r,t),pC(n,i,"child_changed",e,r,t),pC(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}let ZI,jI;class NZ{constructor(){this.views=new Map}}function FR(n,e,t,r){const i=e.source.queryId;if(null!==i){const s=n.views.get(i);return(0,R.hu)(null!=s,"SyncTree gave us an op for an invalid query."),AZ(s,e,t,r)}{let s=[];for(const u of n.views.values())s=s.concat(AZ(u,e,t,r));return s}}function kZ(n,e,t,r,i){const u=n.views.get(e._queryIdentifier);if(!u){let h=UI(t,i?r:null),g=!1;h?g=!0:r instanceof Rt?(h=AR(t,r),g=!1):(h=Rt.EMPTY_NODE,g=!1);const v=RI(new Zf(h,g,!1),new Zf(r,i,!1));return new hQ(e,v)}return u}function RZ(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function jf(n,e){let t=null;for(const r of n.views.values())t=t||gQ(r,e);return t}function FZ(n,e){return e._queryParams.loadsAllData()?HI(n):n.views.get(e._queryIdentifier)}function LZ(n,e){return null!=FZ(n,e)}function Gf(n){return null!=HI(n)}function HI(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let EQ=1;class UZ{constructor(e){this.listenProvider_=e,this.syncPointTree_=new tr(null),this.pendingWriteTree_=function eQ(){return{visibleWrites:nl.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function LR(n,e,t,r,i){return function HY(n,e,t,r,i){(0,R.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=mC(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?fv(n,new bm({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function $f(n,e,t=!1){const r=function GY(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function $Y(n,e){const t=n.allWrites.findIndex(h=>h.writeId===e);(0,R.hu)(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,u=n.allWrites.length-1;for(;i&&u>=0;){const h=n.allWrites[u];h.visible&&(u>=t&&qY(h,r.path)?i=!1:ec(r.path,h.path)&&(s=!0)),u--}return!!i&&(s?(function WY(n){n.visibleWrites=bZ(n.allWrites,zY,mn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=_Z(n.visibleWrites,r.path):Li(r.children,g=>{n.visibleWrites=_Z(n.visibleWrites,Dr(r.path,g))}),!0))}(n.pendingWriteTree_,e)){let s=new tr(null);return null!=r.snap?s=s.set(mn(),!0):Li(r.children,u=>{s=s.set(new In(u),!0)}),fv(n,new kI(r.path,s,t))}return[]}function _C(n,e,t){return fv(n,new bm({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function GI(n,e,t,r,i=!1){const s=e._path,u=n.syncPointTree_.get(s);let h=[];if(u&&("default"===e._queryIdentifier||LZ(u,e))){const g=function wQ(n,e,t,r){const i=e._queryIdentifier,s=[];let u=[];const h=Gf(n);if("default"===i)for(const[g,v]of n.views.entries())u=u.concat(OZ(v,t,r)),xZ(v)&&(n.views.delete(g),v.query._queryParams.loadsAllData()||s.push(v.query));else{const g=n.views.get(i);g&&(u=u.concat(OZ(g,t,r)),xZ(g)&&(n.views.delete(i),g.query._queryParams.loadsAllData()||s.push(g.query)))}return h&&!Gf(n)&&s.push(new(function vQ(){return(0,R.hu)(ZI,"Reference.ts has not been loaded"),ZI}())(e._repo,e._path)),{removed:s,events:u}}(u,e,t,r);(function bQ(n){return 0===n.views.size})(u)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const v=g.removed;if(h=g.events,!i){const D=-1!==v.findIndex(O=>O._queryParams.loadsAllData()),I=n.syncPointTree_.findOnPath(s,(O,k)=>Gf(k));if(D&&!I){const O=n.syncPointTree_.subtree(s);if(!O.isEmpty()){const k=function PQ(n){return n.fold((e,t,r)=>{if(t&&Gf(t))return[HI(t)];{let i=[];return t&&(i=RZ(t)),Li(r,(s,u)=>{i=i.concat(u)}),i}})}(O);for(let Z=0;Z<k.length;++Z){const z=k[Z],ie=z.query,be=HZ(n,z);n.listenProvider_.startListening(vC(ie),yC(n,ie),be.hashFn,be.onComplete)}}}!I&&v.length>0&&!r&&(D?n.listenProvider_.stopListening(vC(e),null):v.forEach(O=>{const k=n.queryToTagMap.get(qI(O));n.listenProvider_.stopListening(vC(O),k)}))}!function NQ(n,e){for(let t=0;t<e.length;++t){const r=e[t];if(!r._queryParams.loadsAllData()){const i=qI(r),s=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(s)}}}(n,v)}return h}function VZ(n,e,t,r){const i=VR(n,r);if(null!=i){const s=BR(i),u=s.path,h=s.queryId,g=zo(u,e);return ZR(n,u,new bm(IR(h),g,t))}return[]}function UR(n,e,t,r=!1){const i=e._path;let s=null,u=!1;n.syncPointTree_.foreachOnPath(i,(O,k)=>{const Z=zo(O,i);s=s||jf(k,Z),u=u||Gf(k)});let g,h=n.syncPointTree_.get(i);h?(u=u||Gf(h),s=s||jf(h,mn())):(h=new NZ,n.syncPointTree_=n.syncPointTree_.set(i,h)),null!=s?g=!0:(g=!1,s=Rt.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((k,Z)=>{const z=jf(Z,mn());z&&(s=s.updateImmediateChild(k,z))}));const v=LZ(h,e);if(!v&&!e._queryParams.loadsAllData()){const O=qI(e);(0,R.hu)(!n.queryToTagMap.has(O),"View does not exist, but we have a tag");const k=function kQ(){return EQ++}();n.queryToTagMap.set(O,k),n.tagToQueryMap.set(k,O)}let I=function CQ(n,e,t,r,i,s){const u=kZ(n,e,r,i,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,u),function mQ(n,e){n.eventRegistrations_.push(e)}(u,t),function _Q(n,e){const t=n.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(er,(s,u)=>{r.push(lv(s,u))}),t.isFullyInitialized()&&r.push(hZ(t.getNode())),PZ(n,r,t.getNode(),e)}(u,t)}(h,e,t,LI(n.pendingWriteTree_,i),s,g);if(!v&&!u&&!r){const O=FZ(h,e);I=I.concat(function RQ(n,e,t){const r=e._path,i=yC(n,e),s=HZ(n,t),u=n.listenProvider_.startListening(vC(e),i,s.hashFn,s.onComplete),h=n.syncPointTree_.subtree(r);if(i)(0,R.hu)(!Gf(h.value),"If we're adding a query, it shouldn't be shadowed");else{const g=h.fold((v,D,I)=>{if(!zt(v)&&D&&Gf(D))return[HI(D).query];{let O=[];return D&&(O=O.concat(RZ(D).map(k=>k.query))),Li(I,(k,Z)=>{O=O.concat(Z)}),O}});for(let v=0;v<g.length;++v){const D=g[v];n.listenProvider_.stopListening(vC(D),yC(n,D))}}return u}(n,e,O))}return I}function $I(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(u,h)=>{const v=jf(h,zo(u,e));if(v)return v});return CZ(i,e,s,t,!0)}function fv(n,e){return BZ(e,n.syncPointTree_,null,LI(n.pendingWriteTree_,mn()))}function BZ(n,e,t,r){if(zt(n.path))return ZZ(n,e,t,r);{const i=e.get(mn());null==t&&null!=i&&(t=jf(i,mn()));let s=[];const u=Wt(n.path),h=n.operationForChild(u),g=e.children.get(u);if(g&&h){const v=t?t.getImmediateChild(u):null,D=DZ(r,u);s=s.concat(BZ(h,g,v,D))}return i&&(s=s.concat(FR(i,n,r,t))),s}}function ZZ(n,e,t,r){const i=e.get(mn());null==t&&null!=i&&(t=jf(i,mn()));let s=[];return e.children.inorderTraversal((u,h)=>{const g=t?t.getImmediateChild(u):null,v=DZ(r,u),D=n.operationForChild(u);D&&(s=s.concat(ZZ(D,h,g,v)))}),i&&(s=s.concat(FR(i,n,r,t))),s}function HZ(n,e){const t=e.query,r=yC(n,t);return{hashFn:()=>(function fQ(n){return n.viewCache_.serverCache.getNode()}(e)||Rt.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function xQ(n,e,t){const r=VR(n,t);if(r){const i=BR(r),s=i.path,u=i.queryId,h=zo(s,e);return ZR(n,s,new fC(IR(u),h))}return[]}(n,t._path,r):function MQ(n,e){return fv(n,new fC({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function SK(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}(i,t);return GI(n,t,null,s)}}}}function yC(n,e){const t=qI(e);return n.queryToTagMap.get(t)}function qI(n){return n._path.toString()+"$"+n._queryIdentifier}function VR(n,e){return n.tagToQueryMap.get(e)}function BR(n){const e=n.indexOf("$");return(0,R.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new In(n.substr(0,e))}}function ZR(n,e,t){const r=n.syncPointTree_.get(e);return(0,R.hu)(r,"Missing sync point for query tag that we're tracking"),FR(r,t,LI(n.pendingWriteTree_,e),null)}function vC(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function TQ(){return(0,R.hu)(jI,"Reference.ts has not been loaded"),jI}())(n._repo,n._path):n}class HR{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new HR(t)}node(){return this.node_}}class jR{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Dr(this.path_,e);return new jR(this.syncTree_,t)}node(){return $I(this.syncTree_,this.path_)}}const jZ=function(n,e,t){return n&&"object"==typeof n?((0,R.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?LQ(n[".sv"],e,t):"object"==typeof n[".sv"]?UQ(n[".sv"],e):void(0,R.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},LQ=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,R.hu)(!1,"Unexpected server value: "+n)},UQ=function(n,e,t){n.hasOwnProperty("increment")||(0,R.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,R.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,R.hu)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const u=i.getValue();return"number"!=typeof u?r:u+r},GZ=function(n,e,t,r){return $R(e,new jR(t,n),r)},GR=function(n,e,t){return $R(n,new HR(e),t)};function $R(n,e,t){const r=n.getPriority().val(),i=jZ(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const u=n,h=jZ(u.getValue(),e,t);return h!==u.getValue()||i!==u.getPriority().val()?new av(h,Pr(i)):n}{const u=n;return s=u,i!==u.getPriority().val()&&(s=s.updatePriority(new av(i))),u.forEachChild(er,(h,g)=>{const v=$R(g,e.getImmediateChild(h),t);v!==g&&(s=s.updateImmediateChild(h,v))}),s}}class qR{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function WI(n,e){let t=e instanceof In?e:new In(e),r=n,i=Wt(t);for(;null!==i;){const s=(0,R.DV)(r.node.children,i)||{children:{},childCount:0};r=new qR(i,r,s),t=qn(t),i=Wt(t)}return r}function Dm(n){return n.node.value}function WR(n,e){n.node.value=e,zR(n)}function $Z(n){return n.node.childCount>0}function zI(n,e){Li(n.node.children,(t,r)=>{e(new qR(t,n,r))})}function qZ(n,e,t,r){t&&!r&&e(n),zI(n,i=>{qZ(i,e,!0,r)}),t&&r&&e(n)}function bC(n){return new In(null===n.parent?n.name:bC(n.parent)+"/"+n.name)}function zR(n){null!==n.parent&&function ZQ(n,e,t){const r=function VQ(n){return void 0===Dm(n)&&!$Z(n)}(t),i=(0,R.r3)(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,zR(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,zR(n))}(n.parent,n.name,n)}const HQ=/[\[\].#$\/\u0000-\u001F\u007F]/,jQ=/[\[\].#$\u0000-\u001F\u007F]/,KR=10485760,KI=function(n){return"string"==typeof n&&0!==n.length&&!HQ.test(n)},WZ=function(n){return"string"==typeof n&&0!==n.length&&!jQ.test(n)},CC=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!wI(n)||n&&"object"==typeof n&&(0,R.r3)(n,".sv")},pu=function(n,e,t,r){r&&void 0===e||wC((0,R.gK)(n,"value"),e,t)},wC=function(n,e,t){const r=t instanceof In?new sY(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+ym(r));if("function"==typeof e)throw new Error(n+"contains a function "+ym(r)+" with contents = "+e.toString());if(wI(e))throw new Error(n+"contains "+e.toString()+" "+ym(r));if("string"==typeof e&&e.length>KR/3&&(0,R.ug)(e)>KR)throw new Error(n+"contains a string greater than "+KR+" utf8 bytes "+ym(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(Li(e,(u,h)=>{if(".value"===u)i=!0;else if(".priority"!==u&&".sv"!==u&&(s=!0,!KI(u)))throw new Error(n+" contains an invalid key ("+u+") "+ym(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function aY(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,R.ug)(e),rZ(n)})(r,u),wC(n,h,r),function cY(n){const e=n.parts_.pop();n.byteLength_-=(0,R.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&s)throw new Error(n+' contains ".value" child '+ym(r)+" in addition to actual children.")}},zZ=function(n,e,t,r){if(r&&void 0===e)return;const i=(0,R.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Li(e,(u,h)=>{const g=new In(u);if(wC(i,h,Dr(t,g)),".priority"===dR(g)&&!CC(h))throw new Error(i+"contains an invalid value for '"+g.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(g)}),function(n,e){let t,r;for(t=0;t<e.length;t++){r=e[t];const s=sC(r);for(let u=0;u<s.length;u++)if((".priority"!==s[u]||u!==s.length-1)&&!KI(s[u]))throw new Error(n+"contains an invalid key ("+s[u]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(oY);let i=null;for(t=0;t<e.length;t++){if(r=e[t],null!==i&&ec(i,r))throw new Error(n+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,s)},YR=function(n,e,t){if(!t||void 0!==e){if(wI(e))throw new Error((0,R.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!CC(e))throw new Error((0,R.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},DC=function(n,e,t,r){if(!(r&&void 0===t||KI(t)))throw new Error((0,R.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},TC=function(n,e,t,r){if(!(r&&void 0===t||WZ(t)))throw new Error((0,R.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},nc=function(n,e){if(".info"===Wt(e))throw new Error(n+" failed = Can't modify data under /.info/")},KZ=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!KI(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),WZ(n)}(t))throw new Error((0,R.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class WQ{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function YI(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==t&&!hR(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)}function YZ(n,e,t){YI(n,t),QZ(n,r=>hR(r,e))}function na(n,e,t){YI(n,t),QZ(n,r=>ec(r,e)||ec(e,r))}function QZ(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(zQ(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function zQ(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();mm&&Fi("event: "+t.toString()),ov(r)}}}const JZ="repo_interrupt";class YQ{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new WQ,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=NI(),this.transactionQueueTree_=new qR,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function XZ(n){const t=n.infoData_.getNode(new In(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function EC(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:XZ(n)})}function eH(n,e,t,r,i){n.dataUpdateCount++;const s=new In(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let u=[];if(i)if(r){const g=(0,R.UI)(t,v=>Pr(v));u=function OQ(n,e,t,r){const i=VR(n,r);if(i){const s=BR(i),u=s.path,h=s.queryId,g=zo(u,e),v=tr.fromObject(t);return ZR(n,u,new dv(IR(h),g,v))}return[]}(n.serverSyncTree_,s,g,i)}else{const g=Pr(t);u=VZ(n.serverSyncTree_,s,g,i)}else if(r){const g=(0,R.UI)(t,v=>Pr(v));u=function SQ(n,e,t){const r=tr.fromObject(t);return fv(n,new dv({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,s,g)}else{const g=Pr(t);u=_C(n.serverSyncTree_,s,g)}let h=s;u.length>0&&(h=gv(n,s)),na(n.eventQueue_,h,u)}function tH(n,e){QR(n,"connected",e),!1===e&&function tJ(n){pv(n,"onDisconnectEvents");const e=EC(n),t=NI();DR(n.onDisconnect_,mn(),(i,s)=>{const u=GZ(i,s,n.serverSyncTree_,e);uv(t,i,u)});let r=[];DR(t,mn(),(i,s)=>{r=r.concat(_C(n.serverSyncTree_,i,s));const u=t2(n,i);gv(n,u)}),n.onDisconnect_=NI(),na(n.eventQueue_,mn(),r)}(n)}function QR(n,e,t){const r=new In("/.info/"+e),i=Pr(t);n.infoData_.updateSnapshot(r,i);const s=_C(n.infoSyncTree_,r,i);na(n.eventQueue_,r,s)}function QI(n){return n.nextWriteId_++}function JR(n,e,t,r,i){pv(n,"set",{path:e.toString(),value:t,priority:r});const s=EC(n),u=Pr(t,r),h=$I(n.serverSyncTree_,e),g=GR(u,h,s),v=QI(n),D=LR(n.serverSyncTree_,e,g,v,!0);YI(n.eventQueue_,D),n.server_.put(e.toString(),u.val(!0),(O,k)=>{const Z="ok"===O;Z||wo("set at "+e+" failed: "+O);const z=$f(n.serverSyncTree_,v,!Z);na(n.eventQueue_,e,z),qf(0,i,O,k)});const I=t2(n,e);gv(n,I),na(n.eventQueue_,I,[])}function nJ(n,e,t){n.server_.onDisconnectCancel(e.toString(),(r,i)=>{"ok"===r&&wR(n.onDisconnect_,e),qf(0,t,r,i)})}function nH(n,e,t,r){const i=Pr(t);n.server_.onDisconnectPut(e.toString(),i.val(!0),(s,u)=>{"ok"===s&&uv(n.onDisconnect_,e,i),qf(0,r,s,u)})}function XR(n,e,t){let r;r=".info"===Wt(e._path)?GI(n.infoSyncTree_,e,t):GI(n.serverSyncTree_,e,t),YZ(n.eventQueue_,e._path,r)}function rH(n){n.persistentConnection_&&n.persistentConnection_.interrupt(JZ)}function pv(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Fi(t,...e)}function qf(n,e,t,r){e&&ov(()=>{if("ok"===t)e(null);else{const i=(t||"error").toUpperCase();let s=i;r&&(s+=": "+r);const u=new Error(s);u.code=i,e(u)}})}function e2(n,e,t){return $I(n.serverSyncTree_,e,t)||Rt.EMPTY_NODE}function JI(n,e=n.transactionQueueTree_){if(e||XI(n,e),Dm(e)){const t=oH(n,e);(0,R.hu)(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function cJ(n,e,t){const r=t.map(v=>v.currentWriteId),i=e2(n,e,r);let s=i;const u=i.hash();for(let v=0;v<t.length;v++){const D=t[v];(0,R.hu)(0===D.status,"tryToSendTransactionQueue_: items in queue should all be run."),D.status=1,D.retryCount++;const I=zo(e,D.path);s=s.updateChild(I,D.currentOutputSnapshotRaw)}const h=s.val(!0),g=e;n.server_.put(g.toString(),h,v=>{pv(n,"transaction put response",{path:g.toString(),status:v});let D=[];if("ok"===v){const I=[];for(let O=0;O<t.length;O++)t[O].status=2,D=D.concat($f(n.serverSyncTree_,t[O].currentWriteId)),t[O].onComplete&&I.push(()=>t[O].onComplete(null,!0,t[O].currentOutputSnapshotResolved)),t[O].unwatcher();XI(n,WI(n.transactionQueueTree_,e)),JI(n,n.transactionQueueTree_),na(n.eventQueue_,e,D);for(let O=0;O<I.length;O++)ov(I[O])}else{if("datastale"===v)for(let I=0;I<t.length;I++)t[I].status=3===t[I].status?4:0;else{wo("transaction at "+g.toString()+" failed: "+v);for(let I=0;I<t.length;I++)t[I].status=4,t[I].abortReason=v}gv(n,e)}},u)}(n,bC(e),t)}else $Z(e)&&zI(e,t=>{JI(n,t)})}function gv(n,e){const t=iH(n,e),r=bC(t);return function lJ(n,e,t){if(0===e.length)return;const r=[];let i=[];const u=e.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const g=e[h],v=zo(t,g.path);let I,D=!1;if((0,R.hu)(null!==v,"rerunTransactionsUnderNode_: relativePath should not be null."),4===g.status)D=!0,I=g.abortReason,i=i.concat($f(n.serverSyncTree_,g.currentWriteId,!0));else if(0===g.status)if(g.retryCount>=25)D=!0,I="maxretry",i=i.concat($f(n.serverSyncTree_,g.currentWriteId,!0));else{const O=e2(n,g.path,u);g.currentInputSnapshot=O;const k=e[h].update(O.val());if(void 0!==k){wC("transaction failed: Data returned ",k,g.path);let Z=Pr(k);"object"==typeof k&&null!=k&&(0,R.r3)(k,".priority")||(Z=Z.updatePriority(O.getPriority()));const ie=g.currentWriteId,be=EC(n),Oe=GR(Z,O,be);g.currentOutputSnapshotRaw=Z,g.currentOutputSnapshotResolved=Oe,g.currentWriteId=QI(n),u.splice(u.indexOf(ie),1),i=i.concat(LR(n.serverSyncTree_,g.path,Oe,g.currentWriteId,g.applyLocally)),i=i.concat($f(n.serverSyncTree_,ie,!0))}else D=!0,I="nodata",i=i.concat($f(n.serverSyncTree_,g.currentWriteId,!0))}na(n.eventQueue_,t,i),i=[],D&&(e[h].status=2,setTimeout(e[h].unwatcher,Math.floor(0)),e[h].onComplete&&r.push("nodata"===I?()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot):()=>e[h].onComplete(new Error(I),!1,null)))}XI(n,n.transactionQueueTree_);for(let h=0;h<r.length;h++)ov(r[h]);JI(n,n.transactionQueueTree_)}(n,oH(n,t),r),r}function iH(n,e){let t,r=n.transactionQueueTree_;for(t=Wt(e);null!==t&&void 0===Dm(r);)r=WI(r,t),t=Wt(e=qn(e));return r}function oH(n,e){const t=[];return sH(n,e,t),t.sort((r,i)=>r.order-i.order),t}function sH(n,e,t){const r=Dm(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);zI(e,i=>{sH(n,i,t)})}function XI(n,e){const t=Dm(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,WR(e,t.length>0?t:void 0)}zI(e,r=>{XI(n,r)})}function t2(n,e){const t=bC(iH(n,e)),r=WI(n.transactionQueueTree_,e);return function BQ(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{n2(n,i)}),n2(n,r),qZ(r,i=>{n2(n,i)}),t}function n2(n,e){const t=Dm(e);if(t){const r=[];let i=[],s=-1;for(let u=0;u<t.length;u++)3===t[u].status||(1===t[u].status?((0,R.hu)(s===u-1,"All SENT items should be at beginning of queue."),s=u,t[u].status=3,t[u].abortReason="set"):((0,R.hu)(0===t[u].status,"Unexpected transaction status in abort"),t[u].unwatcher(),i=i.concat($f(n.serverSyncTree_,t[u].currentWriteId,!0)),t[u].onComplete&&r.push(t[u].onComplete.bind(null,new Error("set"),!1,null))));-1===s?WR(e,void 0):t.length=s+1,na(n.eventQueue_,bC(e),i);for(let u=0;u<r.length;u++)ov(r[u])}}const r2=function(n,e){const t=hJ(n),r=t.namespace;return"firebase.com"===t.domain&&hu(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&hu("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&wo("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new oR(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new In(t.pathString)}},hJ=function(n){let e="",t="",r="",i="",s="",u=!0,h="https",g=443;if("string"==typeof n){let v=n.indexOf("//");v>=0&&(h=n.substring(0,v-1),n=n.substring(v+2));let D=n.indexOf("/");-1===D&&(D=n.length);let I=n.indexOf("?");-1===I&&(I=n.length),e=n.substring(0,Math.min(D,I)),D<I&&(i=function uJ(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(n.substring(D,I)));const O=function dJ(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):wo(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,I)));v=e.indexOf(":"),v>=0?(u="https"===h||"wss"===h,g=parseInt(e.substring(v+1),10)):v=e.length;const k=e.slice(0,v);if("localhost"===k.toLowerCase())t="localhost";else if(k.split(".").length<=2)t=k;else{const Z=e.indexOf(".");r=e.substring(0,Z).toLowerCase(),t=e.substring(Z+1),s=r}"ns"in O&&(s=O.ns)}return{host:e,port:g,domain:t,subdomain:r,secure:u,scheme:h,pathString:i,namespace:s}},aH="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",fJ=function(){let n=0;const e=[];return function(t){const r=t===n;let i;n=t;const s=new Array(8);for(i=7;i>=0;i--)s[i]=aH.charAt(t%64),t=Math.floor(t/64);(0,R.hu)(0===t,"Cannot push at time == 0");let u=s.join("");if(r){for(i=11;i>=0&&63===e[i];i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)u+=aH.charAt(e[i]);return(0,R.hu)(20===u.length,"nextPushId: Length should be 20."),u}}();class cH{constructor(e,t,r,i){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,R.Wl)(this.snapshot.exportVal())}}class lH{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class o2{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,R.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class uH{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new R.BH;return nJ(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){nc("OnDisconnect.remove",this._path);const e=new R.BH;return nH(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){nc("OnDisconnect.set",this._path),pu("OnDisconnect.set",e,this._path,!1);const t=new R.BH;return nH(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){nc("OnDisconnect.setWithPriority",this._path),pu("OnDisconnect.setWithPriority",e,this._path,!1),YR("OnDisconnect.setWithPriority",t,!1);const r=new R.BH;return function rJ(n,e,t,r,i){const s=Pr(t,r);n.server_.onDisconnectPut(e.toString(),s.val(!0),(u,h)=>{"ok"===u&&uv(n.onDisconnect_,e,s),qf(0,i,u,h)})}(this._repo,this._path,e,t,r.wrapCallback(()=>{})),r.promise}update(e){nc("OnDisconnect.update",this._path),zZ("OnDisconnect.update",e,this._path,!1);const t=new R.BH;return function iJ(n,e,t,r){if((0,R.xb)(t))return Fi("onDisconnect().update() called with empty data.  Don't do anything."),void qf(0,r,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(i,s)=>{"ok"===i&&Li(t,(u,h)=>{const g=Pr(h);uv(n.onDisconnect_,Dr(e,u),g)}),qf(0,r,i,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class Cs{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return zt(this._path)?null:dR(this._path)}get ref(){return new rc(this._repo,this._path)}get _queryIdentifier(){const e=pZ(this._queryParams),t=rR(e);return"{}"===t?"default":t}get _queryObject(){return pZ(this._queryParams)}isEqual(e){if(!((e=(0,R.m9)(e))instanceof Cs))return!1;const t=this._repo===e._repo,r=hR(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function iY(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function eS(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Wf(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===fu){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Uf)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(n.hasEnd()){if(n.getIndexEndName()!==Rd)throw new Error(r);if("string"!=typeof t)throw new Error(i)}}else if(n.getIndex()===er){if(null!=e&&!CC(e)||null!=t&&!CC(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,R.hu)(n.getIndex()instanceof _R||n.getIndex()===yR,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function tS(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class rc extends Cs{constructor(e,t){super(e,t,new OI,!1)}get parent(){const e=nZ(this._path);return null===e?null:new rc(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Tm{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new In(e),r=Em(this.ref,e);return new Tm(this._node.getChild(t),r,er)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new Tm(i,Em(this.ref,r),er)))}hasChild(e){const t=new In(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function dH(n,e){return(n=(0,R.m9)(n))._checkNotDeleted("ref"),void 0!==e?Em(n._root,e):n._root}function hH(n,e){(n=(0,R.m9)(n))._checkNotDeleted("refFromURL");const t=r2(e,n._repo.repoInfo_.nodeAdmin);KZ("refFromURL",t);const r=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&hu("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),dH(n,t.path.toString())}function Em(n,e){return null===Wt((n=(0,R.m9)(n))._path)?(t=e,t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),TC("child","path",t,!1)):TC("child","path",e,!1),new rc(n._repo,Dr(n._path,e));var t}function s2(n,e){n=(0,R.m9)(n),nc("set",n._path),pu("set",e,n._path,!1);const t=new R.BH;return JR(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function yJ(n,e){zZ("update",e,n._path,!1);const t=new R.BH;return function eJ(n,e,t,r){pv(n,"update",{path:e.toString(),value:t});let i=!0;const s=EC(n),u={};if(Li(t,(h,g)=>{i=!1,u[h]=GZ(Dr(e,h),Pr(g),n.serverSyncTree_,s)}),i)Fi("update() called with empty data.  Don't do anything."),qf(0,r,"ok",void 0);else{const h=QI(n),g=function IQ(n,e,t,r){!function jY(n,e,t,r){(0,R.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:r,visible:!0}),n.visibleWrites=MR(n.visibleWrites,e,t),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r);const i=tr.fromObject(t);return fv(n,new dv({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,e,u,h);YI(n.eventQueue_,g),n.server_.merge(e.toString(),t,(v,D)=>{const I="ok"===v;I||wo("update at "+e+" failed: "+v);const O=$f(n.serverSyncTree_,h,!I),k=O.length>0?gv(n,e):e;na(n.eventQueue_,k,O),qf(0,r,v,D)}),Li(t,v=>{const D=t2(n,Dr(e,v));gv(n,D)}),na(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function vJ(n){n=(0,R.m9)(n);const e=new o2(()=>{}),t=new IC(e);return function XQ(n,e,t){const r=function AQ(n,e){const t=e._path;let r=null;n.syncPointTree_.foreachOnPath(t,(v,D)=>{const I=zo(v,t);r=r||jf(D,I)});let i=n.syncPointTree_.get(t);i?r=r||jf(i,mn()):(i=new NZ,n.syncPointTree_=n.syncPointTree_.set(t,i));const s=null!=r,u=s?new Zf(r,!0,!1):null;return function pQ(n){return FI(n.viewCache_)}(kZ(i,e,LI(n.pendingWriteTree_,e._path),s?u.getNode():Rt.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=r?Promise.resolve(r):n.server_.get(e).then(i=>{const s=Pr(i).withIndex(e._queryParams.getIndex());let u;if(UR(n.serverSyncTree_,e,t,!0),e._queryParams.loadsAllData())u=_C(n.serverSyncTree_,e._path,s);else{const h=yC(n.serverSyncTree_,e);u=VZ(n.serverSyncTree_,e._path,s,h)}return na(n.eventQueue_,e._path,u),GI(n.serverSyncTree_,e,t,null,!0),s},i=>(pv(n,"get for query "+(0,R.Wl)(e)+" failed: "+i),Promise.reject(new Error(i))))}(n._repo,n,t).then(r=>new Tm(r,new rc(n._repo,n._path),n._queryParams.getIndex()))}class IC{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const r=t._queryParams.getIndex();return new cH("value",this,new Tm(e.snapshotNode,new rc(t._repo,t._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new lH(this,e,t):null}matches(e){return e instanceof IC&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class nS{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new lH(this,e,t):null}createEvent(e,t){(0,R.hu)(null!=e.childName,"Child events should have a childName.");const r=Em(new rc(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new cH(e.type,this,new Tm(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof nS&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function SC(n,e,t,r,i){let s;if("object"==typeof r&&(s=void 0,i=r),"function"==typeof r&&(s=r),i&&i.onlyOnce){const g=t,v=(D,I)=>{XR(n._repo,n,h),g(D,I)};v.userCallback=t.userCallback,v.context=t.context,t=v}const u=new o2(t,s||void 0),h="value"===e?new IC(u):new nS(e,u);return function oJ(n,e,t){let r;r=".info"===Wt(e._path)?UR(n.infoSyncTree_,e,t):UR(n.serverSyncTree_,e,t),YZ(n.eventQueue_,e._path,r)}(n._repo,n,h),()=>XR(n._repo,n,h)}function a2(n,e,t,r){return SC(n,"value",e,t,r)}function fH(n,e,t,r){return SC(n,"child_added",e,t,r)}function pH(n,e,t,r){return SC(n,"child_changed",e,t,r)}function gH(n,e,t,r){return SC(n,"child_moved",e,t,r)}function mH(n,e,t,r){return SC(n,"child_removed",e,t,r)}function _H(n,e,t){let r=null;const i=t?new o2(t):null;"value"===e?r=new IC(i):e&&(r=new nS(e,i)),XR(n._repo,n,r)}class rl{}class yH extends rl{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){pu("endAt",this._value,e._path,!0);const t=CR(e._queryParams,this._value,this._key);if(tS(t),Wf(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Cs(e._repo,e._path,t,e._orderByCalled)}}class CJ extends rl{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){pu("endBefore",this._value,e._path,!1);const t=function OY(n,e,t){let r;return r=CR(n,e,n.index_===fu||t?t:Uf),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(tS(t),Wf(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Cs(e._repo,e._path,t,e._orderByCalled)}}class vH extends rl{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){pu("startAt",this._value,e._path,!0);const t=bR(e._queryParams,this._value,this._key);if(tS(t),Wf(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Cs(e._repo,e._path,t,e._orderByCalled)}}class TJ extends rl{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){pu("startAfter",this._value,e._path,!1);const t=function xY(n,e,t){let r;return r=bR(n,e,n.index_===fu||t?t:Rd),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(tS(t),Wf(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Cs(e._repo,e._path,t,e._orderByCalled)}}class IJ extends rl{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Cs(e._repo,e._path,function SY(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class MJ extends rl{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Cs(e._repo,e._path,function MY(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class OJ extends rl{constructor(e){super(),this._path=e}_apply(e){eS(e,"orderByChild");const t=new In(this._path);if(zt(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new _R(t),i=AI(e._queryParams,r);return Wf(i),new Cs(e._repo,e._path,i,!0)}}class PJ extends rl{_apply(e){eS(e,"orderByKey");const t=AI(e._queryParams,fu);return Wf(t),new Cs(e._repo,e._path,t,!0)}}class kJ extends rl{_apply(e){eS(e,"orderByPriority");const t=AI(e._queryParams,er);return Wf(t),new Cs(e._repo,e._path,t,!0)}}class FJ extends rl{_apply(e){eS(e,"orderByValue");const t=AI(e._queryParams,yR);return Wf(t),new Cs(e._repo,e._path,t,!0)}}class UJ extends rl{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(pu("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new yH(this._value,this._key)._apply(new vH(this._value,this._key)._apply(e))}}function il(n,...e){let t=(0,R.m9)(n);for(const r of e)t=r._apply(t);return t}(function yQ(n){(0,R.hu)(!ZI,"__referenceConstructor has already been defined"),ZI=n})(rc),function DQ(n){(0,R.hu)(!jI,"__referenceConstructor has already been defined"),jI=n}(rc);const c2={};function CH(n,e,t,r,i){let s=r||n.options.databaseURL;void 0===s&&(n.options.projectId||hu("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Fi("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let g,v,u=r2(s,i),h=u.repoInfo;typeof process<"u"&&process.env&&(v=process.env.FIREBASE_DATABASE_EMULATOR_HOST),v?(g=!0,s=`http://${v}?ns=${h.namespace}`,u=r2(s,i),h=u.repoInfo):g=!u.repoInfo.secure;const D=i&&g?new oC(oC.OWNER):new NK(n.name,n.options,e);KZ("Invalid Firebase Database URL",u),zt(u.path)||hu("Database URL must point to the root of a Firebase Database (not including a child path).");const I=function jJ(n,e,t,r){let i=c2[e.name];i||(i={},c2[e.name]=i);let s=i[n.toURLString()];return s&&hu("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new YQ(n,false,t,r),i[n.toURLString()]=s,s}(h,n,D,new PK(n.name,t));return new $J(I,n)}class $J{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function QQ(n,e,t){if(n.stats_=cR(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new PI(n.repoInfo_,(r,i,s,u)=>{eH(n,r,i,s,u)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>tH(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,R.Wl)(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new vm(n.repoInfo_,e,(r,i,s,u)=>{eH(n,r,i,s,u)},r=>{tH(n,r)},r=>{!function JQ(n,e){Li(e,(t,r)=>{QR(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function FK(n,e){const t=n.toString();return aR[t]||(aR[t]=e()),aR[t]}(n.repoInfo_,()=>new FY(n.stats_,n.server_)),n.infoData_=new AY,n.infoSyncTree_=new UZ({startListening:(r,i,s,u)=>{let h=[];const g=n.infoData_.getNode(r._path);return g.isEmpty()||(h=_C(n.infoSyncTree_,r._path,g),setTimeout(()=>{u("ok")},0)),h},stopListening:()=>{}}),QR(n,"connected",!1),n.serverSyncTree_=new UZ({startListening:(r,i,s,u)=>(n.server_.listen(r,s,i,(h,g)=>{const v=u(h,g);na(n.eventQueue_,r._path,v)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new rc(this._repo,mn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function HJ(n,e){const t=c2[e];(!t||t[n.key]!==n)&&hu(`Database ${e}(${n.repoInfo_}) has already been deleted.`),rH(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&hu("Cannot call "+e+" on a deleted database.")}}function wH(){G6.IS_TRANSPORT_INITIALIZED&&wo("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function qJ(){wH(),Vf.forceDisallow()}function WJ(){wH(),sv.forceDisallow(),Vf.forceAllow()}function YJ(n,e){T6(n,e)}const JJ={".sv":"timestamp"};class tX{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}vm.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},vm.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function QJ(n){v6(Vo.SDK_VERSION),(0,Vo._registerComponent)(new Qc.wA("database",(e,{instanceIdentifier:t})=>CH(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Vo.registerVersion)(_6,"0.14.0",n),(0,Vo.registerVersion)(_6,"0.14.0","esm2017")}();const oX=new Jc.Yd("@firebase/database-compat"),TH=function(n){oX.warn("FIREBASE WARNING: "+n)};class cX{constructor(e){this._delegate=e}cancel(e){(0,R.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,R.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),r=>e(r)),t}remove(e){(0,R.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,R.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),r=>e(r)),t}set(e,t){(0,R.Dv)("OnDisconnect.set",1,2,arguments.length),(0,R.Wj)("OnDisconnect.set","onComplete",t,!0);const r=this._delegate.set(e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){(0,R.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,R.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,t);return r&&i.then(()=>r(null),s=>r(s)),i}update(e,t){if((0,R.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,TH("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,R.Wj)("OnDisconnect.update","onComplete",t,!0);const r=this._delegate.update(e);return t&&r.then(()=>t(null),i=>t(i)),r}}class lX{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,R.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class zf{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,R.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,R.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,R.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,R.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,R.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),TC("DataSnapshot.child","path",e,!1),new zf(this._database,this._delegate.child(e))}hasChild(e){return(0,R.Dv)("DataSnapshot.hasChild",1,1,arguments.length),TC("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,R.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,R.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,R.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new zf(this._database,t)))}hasChildren(){return(0,R.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,R.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,R.Dv)("DataSnapshot.ref",0,0,arguments.length),new ra(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ji{constructor(e,t){this.database=e,this._delegate=t}on(e,t,r,i){var s;(0,R.Dv)("Query.on",2,4,arguments.length),(0,R.Wj)("Query.on","callback",t,!1);const u=Ji.getCancelAndContextArgs_("Query.on",r,i),h=(v,D)=>{t.call(u.context,new zf(this.database,v),D)};h.userCallback=t,h.context=u.context;const g=null===(s=u.cancel)||void 0===s?void 0:s.bind(u.context);switch(e){case"value":return a2(this._delegate,h,g),t;case"child_added":return fH(this._delegate,h,g),t;case"child_removed":return mH(this._delegate,h,g),t;case"child_changed":return pH(this._delegate,h,g),t;case"child_moved":return gH(this._delegate,h,g),t;default:throw new Error((0,R.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,r){if((0,R.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,R.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,R.Wj)("Query.off","callback",t,!0),(0,R.lb)("Query.off","context",r,!0),t){const i=()=>{};i.userCallback=t,i.context=r,_H(this._delegate,e,i)}else _H(this._delegate,e)}get(){return vJ(this._delegate).then(e=>new zf(this.database,e))}once(e,t,r,i){(0,R.Dv)("Query.once",1,4,arguments.length),(0,R.Wj)("Query.once","callback",t,!0);const s=Ji.getCancelAndContextArgs_("Query.once",r,i),u=new R.BH,h=(v,D)=>{const I=new zf(this.database,v);t&&t.call(s.context,I,D),u.resolve(I)};h.userCallback=t,h.context=s.context;const g=v=>{s.cancel&&s.cancel.call(s.context,v),u.reject(v)};switch(e){case"value":a2(this._delegate,h,g,{onlyOnce:!0});break;case"child_added":fH(this._delegate,h,g,{onlyOnce:!0});break;case"child_removed":mH(this._delegate,h,g,{onlyOnce:!0});break;case"child_changed":pH(this._delegate,h,g,{onlyOnce:!0});break;case"child_moved":gH(this._delegate,h,g,{onlyOnce:!0});break;default:throw new Error((0,R.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise}limitToFirst(e){return(0,R.Dv)("Query.limitToFirst",1,1,arguments.length),new Ji(this.database,il(this._delegate,function SJ(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new IJ(n)}(e)))}limitToLast(e){return(0,R.Dv)("Query.limitToLast",1,1,arguments.length),new Ji(this.database,il(this._delegate,function xJ(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new MJ(n)}(e)))}orderByChild(e){return(0,R.Dv)("Query.orderByChild",1,1,arguments.length),new Ji(this.database,il(this._delegate,function AJ(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return TC("orderByChild","path",n,!1),new OJ(n)}(e)))}orderByKey(){return(0,R.Dv)("Query.orderByKey",0,0,arguments.length),new Ji(this.database,il(this._delegate,function NJ(){return new PJ}()))}orderByPriority(){return(0,R.Dv)("Query.orderByPriority",0,0,arguments.length),new Ji(this.database,il(this._delegate,function RJ(){return new kJ}()))}orderByValue(){return(0,R.Dv)("Query.orderByValue",0,0,arguments.length),new Ji(this.database,il(this._delegate,function LJ(){return new FJ}()))}startAt(e=null,t){return(0,R.Dv)("Query.startAt",0,2,arguments.length),new Ji(this.database,il(this._delegate,function DJ(n=null,e){return DC("startAt","key",e,!0),new vH(n,e)}(e,t)))}startAfter(e=null,t){return(0,R.Dv)("Query.startAfter",0,2,arguments.length),new Ji(this.database,il(this._delegate,function EJ(n,e){return DC("startAfter","key",e,!0),new TJ(n,e)}(e,t)))}endAt(e=null,t){return(0,R.Dv)("Query.endAt",0,2,arguments.length),new Ji(this.database,il(this._delegate,function bJ(n,e){return DC("endAt","key",e,!0),new yH(n,e)}(e,t)))}endBefore(e=null,t){return(0,R.Dv)("Query.endBefore",0,2,arguments.length),new Ji(this.database,il(this._delegate,function wJ(n,e){return DC("endBefore","key",e,!0),new CJ(n,e)}(e,t)))}equalTo(e,t){return(0,R.Dv)("Query.equalTo",1,2,arguments.length),new Ji(this.database,il(this._delegate,function VJ(n,e){return DC("equalTo","key",e,!0),new UJ(n,e)}(e,t)))}toString(){return(0,R.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,R.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,R.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof Ji))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,r){const i={cancel:void 0,context:void 0};if(t&&r)i.cancel=t,(0,R.Wj)(e,"cancel",i.cancel,!0),i.context=r,(0,R.lb)(e,"context",i.context,!0);else if(t)if("object"==typeof t&&null!==t)i.context=t;else{if("function"!=typeof t)throw new Error((0,R.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=t}return i}get ref(){return new ra(this.database,new rc(this._delegate._repo,this._delegate._path))}}class ra extends Ji{constructor(e,t){super(e,new Cs(t._repo,t._path,new OI,!1)),this.database=e,this._delegate=t}getKey(){return(0,R.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,R.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new ra(this.database,Em(this._delegate,e))}getParent(){(0,R.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new ra(this.database,e):null}getRoot(){return(0,R.Dv)("Reference.root",0,0,arguments.length),new ra(this.database,this._delegate.root)}set(e,t){(0,R.Dv)("Reference.set",1,2,arguments.length),(0,R.Wj)("Reference.set","onComplete",t,!0);const r=s2(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}update(e,t){if((0,R.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,TH("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}nc("Reference.update",this._delegate._path),(0,R.Wj)("Reference.update","onComplete",t,!0);const r=yJ(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){(0,R.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,R.Wj)("Reference.setWithPriority","onComplete",r,!0);const i=function _J(n,e,t){if(nc("setWithPriority",n._path),pu("setWithPriority",e,n._path,!1),YR("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new R.BH;return JR(n._repo,n._path,e,t,r.wrapCallback(()=>{})),r.promise}(this._delegate,e,t);return r&&i.then(()=>r(null),s=>r(s)),i}remove(e){(0,R.Dv)("Reference.remove",0,1,arguments.length),(0,R.Wj)("Reference.remove","onComplete",e,!0);const t=function gJ(n){return nc("remove",n._path),s2(n,null)}(this._delegate);return e&&t.then(()=>e(null),r=>e(r)),t}transaction(e,t,r){(0,R.Dv)("Reference.transaction",1,3,arguments.length),(0,R.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,R.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,r){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,R.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const i=function nX(n,e,t){var r;if(n=(0,R.m9)(n),nc("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const i=null===(r=t?.applyLocally)||void 0===r||r,s=new R.BH,h=a2(n,()=>{});return function aJ(n,e,t,r,i,s){pv(n,"transaction on "+e);const u={path:e,update:t,onComplete:r,status:null,order:C6(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=e2(n,e,void 0);u.currentInputSnapshot=h;const g=u.update(h.val());if(void 0===g)u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete&&u.onComplete(null,!1,u.currentInputSnapshot);else{wC("transaction failed: Data returned ",g,u.path),u.status=0;const v=WI(n.transactionQueueTree_,e),D=Dm(v)||[];let I;D.push(u),WR(v,D),"object"==typeof g&&null!==g&&(0,R.r3)(g,".priority")?(I=(0,R.DV)(g,".priority"),(0,R.hu)(CC(I),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):I=($I(n.serverSyncTree_,e)||Rt.EMPTY_NODE).getPriority().val();const O=EC(n),k=Pr(g,I),Z=GR(k,h,O);u.currentOutputSnapshotRaw=k,u.currentOutputSnapshotResolved=Z,u.currentWriteId=QI(n);const z=LR(n.serverSyncTree_,e,Z,u.currentWriteId,u.applyLocally);na(n.eventQueue_,e,z),JI(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(g,v,D)=>{let I=null;g?s.reject(g):(I=new Tm(D,new rc(n._repo,n._path),er),s.resolve(new tX(v,I)))},h,i),s.promise}(this._delegate,e,{applyLocally:r}).then(s=>new lX(s.committed,new zf(this.database,s.snapshot)));return t&&i.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),i}setPriority(e,t){(0,R.Dv)("Reference.setPriority",1,2,arguments.length),(0,R.Wj)("Reference.setPriority","onComplete",t,!0);const r=function mJ(n,e){n=(0,R.m9)(n),nc("setPriority",n._path),YR("setPriority",e,!1);const t=new R.BH;return JR(n._repo,Dr(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}push(e,t){(0,R.Dv)("Reference.push",0,2,arguments.length),(0,R.Wj)("Reference.push","onComplete",t,!0);const r=function pJ(n,e){n=(0,R.m9)(n),nc("push",n._path),pu("push",e,n._path,!0);const t=XZ(n._repo),r=fJ(t),i=Em(n,r),s=Em(n,r);let u;return u=null!=e?s2(s,e).then(()=>s):Promise.resolve(s),i.then=u.then.bind(u),i.catch=u.then.bind(u,void 0),i}(this._delegate,e),i=r.then(u=>new ra(this.database,u));t&&i.then(()=>t(null),u=>t(u));const s=new ra(this.database,r);return s.then=i.then.bind(i),s.catch=i.catch.bind(i,void 0),s}onDisconnect(){return nc("Reference.onDisconnect",this._delegate._path),new cX(new uH(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class MC{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:qJ,forceLongPolling:WJ}}useEmulator(e,t,r={}){!function DH(n,e,t,r={}){(n=(0,R.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&hu("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&hu('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new oC(oC.OWNER);else if(r.mockUserToken){const u="string"==typeof r.mockUserToken?r.mockUserToken:(0,R.Sg)(r.mockUserToken,n.app.options.projectId);s=new oC(u)}!function ZJ(n,e,t,r){n.repoInfo_=new oR(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),r&&(n.authTokenProvider_=r)}(i,e,t,s)}(this._delegate,e,t,r)}ref(e){if((0,R.Dv)("database.ref",0,1,arguments.length),e instanceof ra){const t=hH(this._delegate,e.toString());return new ra(this,t)}{const t=dH(this._delegate,e);return new ra(this,t)}}refFromURL(e){(0,R.Dv)("database.refFromURL",1,1,arguments.length);const r=hH(this._delegate,e);return new ra(this,r)}goOffline(){return(0,R.Dv)("database.goOffline",0,0,arguments.length),function zJ(n){(n=(0,R.m9)(n))._checkNotDeleted("goOffline"),rH(n._repo)}(this._delegate)}goOnline(){return(0,R.Dv)("database.goOnline",0,0,arguments.length),function KJ(n){(n=(0,R.m9)(n))._checkNotDeleted("goOnline"),function sJ(n){n.persistentConnection_&&n.persistentConnection_.resume(JZ)}(n._repo)}(this._delegate)}}MC.ServerValue={TIMESTAMP:function XJ(){return JJ}(),increment:n=>function eX(n){return{".sv":{increment:n}}}(n)};var dX=Object.freeze({__proto__:null,initStandalone:function uX({app:n,url:e,version:t,customAuthImpl:r,namespace:i,nodeAdmin:s=!1}){v6(t);const u=new Qc.zt("auth-internal",new Qc.H0("database-standalone"));return u.setComponent(new Qc.wA("auth-internal",()=>r,"PRIVATE")),{instance:new MC(CH(n,u,void 0,e,s),n),namespace:i}}});const hX=MC.ServerValue;function EH(n){return null==n}function IH(n){return"function"==typeof n.set}function SH(n,e){return IH(e)?e:n.ref(e)}function MH(n,e){if(function pX(n){return"string"==typeof n}(n))return e.stringCase();if(IH(n))return e.firebaseCase();if(function gX(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function xC(n,e,t="on",r=nf.z){return new fr.y(i=>{let s=null;return s=n[t](e,(u,h)=>{r.schedule(()=>{i.next({snapshot:u,prevKey:h})}),"once"===t&&r.schedule(()=>i.complete())},u=>{r.schedule(()=>i.error(u))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,Je.U)(i=>{const{snapshot:s,prevKey:u}=i;let h=null;return s.exists()&&(h=s.key),{type:e,payload:s,prevKey:u,key:h}}),(0,mK.B)())}function xH(n,e){const t=n.length;for(let r=0;r<t;r++)if(n[r].payload.key===e)return r;return-1}function yX(n,e){const{payload:t,prevKey:r,key:i}=e,s=xH(n,i),u=function _X(n,e){if(EH(e))return 0;{const t=xH(n,e);return-1===t?n.length:t+1}}(n,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let h=null;e.payload.forEach(g=>{const v={payload:g,type:"value",prevKey:h,key:g.key};return h=g.key,n=[...n,v],!1})}return n;case"child_added":if(s>-1){const h=n[s-1];(h&&h.key||null)!==r&&(n=n.filter(g=>g.payload.key!==t.key)).splice(u,0,e)}else{if(null==r)return[e,...n];(n=n.slice()).splice(u,0,e)}return n;case"child_removed":return n.filter(h=>h.payload.key!==t.key);case"child_changed":return n.map(h=>h.payload.key===i?e:h);case"child_moved":if(s>-1){const h=n.splice(s,1)[0];return(n=n.slice()).splice(u,0,h),n}return n;default:return n}}function OH(n){return(EH(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function AH(n,e,t){return function mX(n,e,t){return xC(n,"value","once",t).pipe(fn(r=>{const i=[(0,Qe.of)(r)];return e.forEach(s=>i.push(xC(n,s,"on",t))),(0,dA.T)(...i).pipe(Nc(yX,[]))}),yg())}(n,e=OH(e),t)}function PH(n,e,t){const r=(e=OH(e)).map(i=>xC(n,i,"on",t));return(0,dA.T)(...r)}function NH(n,e){return function(r,i){return MH(r,{stringCase:()=>n.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function wX(n){return function(t){return t?MH(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function kH(n,e){return function(){return xC(n,"value","on",e)}}!function fX(n){n.INTERNAL.registerComponent(new Qc.wA("database-compat",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:t});return new MC(i,r)},"PUBLIC").setServiceProps({Reference:ra,Query:Ji,Database:MC,DataSnapshot:zf,enableLogging:YJ,INTERNAL:dX,ServerValue:hX}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.0")}(VA.Z);const EX=new o.OlP("angularfire2.realtimeDatabaseURL"),IX=new o.OlP("angularfire2.database.use-emulator");let SX=(()=>{class n{constructor(t,r,i,s,u,h,g,v,D,I,O,k,Z,z,ie){this.schedulers=h;const be=g,Oe=(0,Ei.on)(t,u,r);v&&UA(Oe,u,D,O,k,Z,I,z),this.database=(0,Ei.cc)(`${Oe.name}.database.${i}`,"AngularFireDatabase",Oe.name,()=>{const Le=u.runOutsideAngular(()=>Oe.database(i||void 0));return be&&Le.useEmulator(...be),Le},[be])}list(t,r){const i=this.schedulers.ngZone.runOutsideAngular(()=>SH(this.database,t));let s=i;return r&&(s=r(i)),function DX(n,e){const t=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:NH(r,"update"),set:NH(r,"set"),push:i=>r.push(i),remove:wX(r),snapshotChanges:i=>AH(n,i,t).pipe(gn.iC),stateChanges:i=>PH(n,i,t).pipe(gn.iC),auditTrail:i=>function vX(n,e,t){return function CX(n,e,t){return function bX(n,e){return xC(n,"value","on",e).pipe((0,Je.U)(t=>{let r;return t.payload.forEach(i=>(r=i.key,!1)),{data:t,lastKeyToLoad:r}}))}(n,t).pipe(vg(e),(0,Je.U)(([i,s])=>{const u=i.lastKeyToLoad,h=s.map(g=>g.key);return{actions:s,lastKeyToLoad:u,loadedKeys:h}}),function _K(n){return e=>e.lift(new yK(n))}(i=>-1===i.loadedKeys.indexOf(i.lastKeyToLoad)),(0,Je.U)(i=>i.actions))}(n,PH(n,e).pipe(Nc((i,s)=>[...i,s],[])),t)}(n,i,t).pipe(gn.iC),valueChanges:(i,s)=>AH(n,i,t).pipe((0,Je.U)(h=>h.map(g=>s&&s.idField?Object.assign(Object.assign({},g.payload.val()),{[s.idField]:g.key}):g.payload.val())),gn.iC)}}(s,this)}object(t){return function TX(n,e){return{query:n,snapshotChanges:()=>kH(n,e.schedulers.outsideAngular)().pipe(gn.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>kH(n,e.schedulers.outsideAngular)().pipe(gn.iC,(0,Je.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>SH(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Ei.Dh),o.LFG(Ei.xv,8),o.LFG(EX,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(gn.HU),o.LFG(IX,8),o.LFG(qT,8),o.LFG(PA,8),o.LFG(NA,8),o.LFG(kA,8),o.LFG(RA,8),o.LFG(FA,8),o.LFG(LA,8),o.LFG(qb,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),MX=(()=>{class n{constructor(){$T.Z.registerVersion("angularfire",gn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[SX]}),n})(),xX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n,bootstrap:[Xj]}),n.\u0275inj=o.cJS({providers:[hl,{provide:pg,useClass:eG,multi:!0},{provide:pg,useClass:tG,multi:!0}],imports:[Il,i5,mg,oL,Zw,Wl,zl,An,sL,Ei.hO.initializeApp(Xn_firebase),i8,gK,Q$,MX]}),n})();(0,o.G48)(),El().bootstrapModule(xX).catch(n=>console.error(n))},9312:(st,ye,F)=>{F.d(ye,{P:()=>ne});var o=F(8896),ee=F(1086),L=F(1737);class ne{constructor(se,Q,J){this.kind=se,this.value=Q,this.error=J,this.hasValue="N"===se}observe(se){switch(this.kind){case"N":return se.next&&se.next(this.value);case"E":return se.error&&se.error(this.error);case"C":return se.complete&&se.complete()}}do(se,Q,J){switch(this.kind){case"N":return se&&se(this.value);case"E":return Q&&Q(this.error);case"C":return J&&J()}}accept(se,Q,J){return se&&"function"==typeof se.next?this.observe(se):this.do(se,Q,J)}toObservable(){switch(this.kind){case"N":return(0,ee.of)(this.value);case"E":return(0,L._)(this.error);case"C":return(0,o.c)()}throw new Error("unexpected notification kind value")}static createNext(se){return typeof se<"u"?new ne("N",se):ne.undefinedValueNotification}static createError(se){return new ne("E",void 0,se)}static createComplete(){return ne.completeNotification}}ne.completeNotification=new ne("C"),ne.undefinedValueNotification=new ne("N",void 0)},6498:(st,ye,F)=>{F.d(ye,{y:()=>J});var o=F(3489),L=F(7668),oe=F(3292),Y=F(3821),se=F(4843),Q=F(2830);let J=(()=>{class H{constructor(ue){this._isScalar=!1,ue&&(this._subscribe=ue)}lift(ue){const Ie=new H;return Ie.source=this,Ie.operator=ue,Ie}subscribe(ue,Ie,De){const{operator:Ne}=this,he=function ne(H,$,ue){if(H){if(H instanceof o.L)return H;if(H[L.b])return H[L.b]()}return H||$||ue?new o.L(H,$,ue):new o.L(oe.c)}(ue,Ie,De);if(he.add(Ne?Ne.call(he,this.source):this.source||Q.v.useDeprecatedSynchronousErrorHandling&&!he.syncErrorThrowable?this._subscribe(he):this._trySubscribe(he)),Q.v.useDeprecatedSynchronousErrorHandling&&he.syncErrorThrowable&&(he.syncErrorThrowable=!1,he.syncErrorThrown))throw he.syncErrorValue;return he}_trySubscribe(ue){try{return this._subscribe(ue)}catch(Ie){Q.v.useDeprecatedSynchronousErrorHandling&&(ue.syncErrorThrown=!0,ue.syncErrorValue=Ie),function ee(H){for(;H;){const{closed:$,destination:ue,isStopped:Ie}=H;if($||Ie)return!1;H=ue&&ue instanceof o.L?ue:null}return!0}(ue)?ue.error(Ie):console.warn(Ie)}}forEach(ue,Ie){return new(Ie=V(Ie))((De,Ne)=>{let he;he=this.subscribe(fe=>{try{ue(fe)}catch(Se){Ne(Se),he&&he.unsubscribe()}},Ne,De)})}_subscribe(ue){const{source:Ie}=this;return Ie&&Ie.subscribe(ue)}[Y.L](){return this}pipe(...ue){return 0===ue.length?this:(0,se.U)(ue)(this)}toPromise(ue){return new(ue=V(ue))((Ie,De)=>{let Ne;this.subscribe(he=>Ne=he,he=>De(he),()=>Ie(Ne))})}}return H.create=$=>new H($),H})();function V(H){if(H||(H=Q.v.Promise||Promise),!H)throw new Error("no Promise impl found");return H}},3292:(st,ye,F)=>{F.d(ye,{c:()=>L});var o=F(2830),ee=F(2782);const L={closed:!0,next(oe){},error(oe){if(o.v.useDeprecatedSynchronousErrorHandling)throw oe;(0,ee.z)(oe)},complete(){}}},8929:(st,ye,F)=>{F.d(ye,{Yc:()=>se,xQ:()=>Q});var o=F(6498),ee=F(3489),L=F(2654),oe=F(5279),ne=F(5283),Y=F(7668);class se extends ee.L{constructor(H){super(H),this.destination=H}}let Q=(()=>{class V extends o.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Y.b](){return new se(this)}lift($){const ue=new J(this,this);return ue.operator=$,ue}next($){if(this.closed)throw new oe.N;if(!this.isStopped){const{observers:ue}=this,Ie=ue.length,De=ue.slice();for(let Ne=0;Ne<Ie;Ne++)De[Ne].next($)}}error($){if(this.closed)throw new oe.N;this.hasError=!0,this.thrownError=$,this.isStopped=!0;const{observers:ue}=this,Ie=ue.length,De=ue.slice();for(let Ne=0;Ne<Ie;Ne++)De[Ne].error($);this.observers.length=0}complete(){if(this.closed)throw new oe.N;this.isStopped=!0;const{observers:$}=this,ue=$.length,Ie=$.slice();for(let De=0;De<ue;De++)Ie[De].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe($){if(this.closed)throw new oe.N;return super._trySubscribe($)}_subscribe($){if(this.closed)throw new oe.N;return this.hasError?($.error(this.thrownError),L.w.EMPTY):this.isStopped?($.complete(),L.w.EMPTY):(this.observers.push($),new ne.W(this,$))}asObservable(){const $=new o.y;return $.source=this,$}}return V.create=(H,$)=>new J(H,$),V})();class J extends Q{constructor(H,$){super(),this.destination=H,this.source=$}next(H){const{destination:$}=this;$&&$.next&&$.next(H)}error(H){const{destination:$}=this;$&&$.error&&this.destination.error(H)}complete(){const{destination:H}=this;H&&H.complete&&this.destination.complete()}_subscribe(H){const{source:$}=this;return $?this.source.subscribe(H):L.w.EMPTY}}},5283:(st,ye,F)=>{F.d(ye,{W:()=>ee});var o=F(2654);class ee extends o.w{constructor(oe,ne){super(),this.subject=oe,this.subscriber=ne,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const oe=this.subject,ne=oe.observers;if(this.subject=null,!ne||0===ne.length||oe.isStopped||oe.closed)return;const Y=ne.indexOf(this.subscriber);-1!==Y&&ne.splice(Y,1)}}},3489:(st,ye,F)=>{F.d(ye,{L:()=>se});var o=F(7043),ee=F(3292),L=F(2654),oe=F(7668),ne=F(2830),Y=F(2782);class se extends L.w{constructor(V,H,$){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ee.c;break;case 1:if(!V){this.destination=ee.c;break}if("object"==typeof V){V instanceof se?(this.syncErrorThrowable=V.syncErrorThrowable,this.destination=V,V.add(this)):(this.syncErrorThrowable=!0,this.destination=new Q(this,V));break}default:this.syncErrorThrowable=!0,this.destination=new Q(this,V,H,$)}}[oe.b](){return this}static create(V,H,$){const ue=new se(V,H,$);return ue.syncErrorThrowable=!1,ue}next(V){this.isStopped||this._next(V)}error(V){this.isStopped||(this.isStopped=!0,this._error(V))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(V){this.destination.next(V)}_error(V){this.destination.error(V),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:V}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=V,this}}class Q extends se{constructor(V,H,$,ue){super(),this._parentSubscriber=V;let Ie,De=this;(0,o.m)(H)?Ie=H:H&&(Ie=H.next,$=H.error,ue=H.complete,H!==ee.c&&(De=Object.create(H),(0,o.m)(De.unsubscribe)&&this.add(De.unsubscribe.bind(De)),De.unsubscribe=this.unsubscribe.bind(this))),this._context=De,this._next=Ie,this._error=$,this._complete=ue}next(V){if(!this.isStopped&&this._next){const{_parentSubscriber:H}=this;ne.v.useDeprecatedSynchronousErrorHandling&&H.syncErrorThrowable?this.__tryOrSetError(H,this._next,V)&&this.unsubscribe():this.__tryOrUnsub(this._next,V)}}error(V){if(!this.isStopped){const{_parentSubscriber:H}=this,{useDeprecatedSynchronousErrorHandling:$}=ne.v;if(this._error)$&&H.syncErrorThrowable?(this.__tryOrSetError(H,this._error,V),this.unsubscribe()):(this.__tryOrUnsub(this._error,V),this.unsubscribe());else if(H.syncErrorThrowable)$?(H.syncErrorValue=V,H.syncErrorThrown=!0):(0,Y.z)(V),this.unsubscribe();else{if(this.unsubscribe(),$)throw V;(0,Y.z)(V)}}}complete(){if(!this.isStopped){const{_parentSubscriber:V}=this;if(this._complete){const H=()=>this._complete.call(this._context);ne.v.useDeprecatedSynchronousErrorHandling&&V.syncErrorThrowable?(this.__tryOrSetError(V,H),this.unsubscribe()):(this.__tryOrUnsub(H),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(V,H){try{V.call(this._context,H)}catch($){if(this.unsubscribe(),ne.v.useDeprecatedSynchronousErrorHandling)throw $;(0,Y.z)($)}}__tryOrSetError(V,H,$){if(!ne.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{H.call(this._context,$)}catch(ue){return ne.v.useDeprecatedSynchronousErrorHandling?(V.syncErrorValue=ue,V.syncErrorThrown=!0,!0):((0,Y.z)(ue),!0)}return!1}_unsubscribe(){const{_parentSubscriber:V}=this;this._context=null,this._parentSubscriber=null,V.unsubscribe()}}},2654:(st,ye,F)=>{F.d(ye,{w:()=>Y});var o=F(6688),ee=F(7830),L=F(7043);const ne=(()=>{function Q(J){return Error.call(this),this.message=J?`${J.length} errors occurred during unsubscription:\n${J.map((V,H)=>`${H+1}) ${V.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=J,this}return Q.prototype=Object.create(Error.prototype),Q})();class Y{constructor(J){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,J&&(this._ctorUnsubscribe=!0,this._unsubscribe=J)}unsubscribe(){let J;if(this.closed)return;let{_parentOrParents:V,_ctorUnsubscribe:H,_unsubscribe:$,_subscriptions:ue}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,V instanceof Y)V.remove(this);else if(null!==V)for(let Ie=0;Ie<V.length;++Ie)V[Ie].remove(this);if((0,L.m)($)){H&&(this._unsubscribe=void 0);try{$.call(this)}catch(Ie){J=Ie instanceof ne?se(Ie.errors):[Ie]}}if((0,o.k)(ue)){let Ie=-1,De=ue.length;for(;++Ie<De;){const Ne=ue[Ie];if((0,ee.K)(Ne))try{Ne.unsubscribe()}catch(he){J=J||[],he instanceof ne?J=J.concat(se(he.errors)):J.push(he)}}}if(J)throw new ne(J)}add(J){let V=J;if(!J)return Y.EMPTY;switch(typeof J){case"function":V=new Y(J);case"object":if(V===this||V.closed||"function"!=typeof V.unsubscribe)return V;if(this.closed)return V.unsubscribe(),V;if(!(V instanceof Y)){const ue=V;V=new Y,V._subscriptions=[ue]}break;default:throw new Error("unrecognized teardown "+J+" added to Subscription.")}let{_parentOrParents:H}=V;if(null===H)V._parentOrParents=this;else if(H instanceof Y){if(H===this)return V;V._parentOrParents=[H,this]}else{if(-1!==H.indexOf(this))return V;H.push(this)}const $=this._subscriptions;return null===$?this._subscriptions=[V]:$.push(V),V}remove(J){const V=this._subscriptions;if(V){const H=V.indexOf(J);-1!==H&&V.splice(H,1)}}}var Q;function se(Q){return Q.reduce((J,V)=>J.concat(V instanceof ne?V.errors:V),[])}Y.EMPTY=((Q=new Y).closed=!0,Q)},2830:(st,ye,F)=>{F.d(ye,{v:()=>ee});let o=!1;const ee={Promise:void 0,set useDeprecatedSynchronousErrorHandling(L){if(L){const oe=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+oe.stack)}else o&&console.log("RxJS: Back to a better error behavior. Thank you. <3");o=L},get useDeprecatedSynchronousErrorHandling(){return o}}},1177:(st,ye,F)=>{F.d(ye,{Ds:()=>Y,IY:()=>oe,ft:()=>Q});var o=F(3489),ee=F(6498),L=F(9249);class oe extends o.L{constructor(V){super(),this.parent=V}_next(V){this.parent.notifyNext(V)}_error(V){this.parent.notifyError(V),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Y extends o.L{notifyNext(V){this.destination.next(V)}notifyError(V){this.destination.error(V)}notifyComplete(){this.destination.complete()}}function Q(J,V){if(V.closed)return;if(J instanceof ee.y)return J.subscribe(V);let H;try{H=(0,L.s)(J)(V)}catch($){V.error($)}return H}},1762:(st,ye,F)=>{F.d(ye,{N:()=>Y,c:()=>ne});var o=F(8929),ee=F(6498),L=F(2654),oe=F(4327);class ne extends ee.y{constructor(H,$){super(),this.source=H,this.subjectFactory=$,this._refCount=0,this._isComplete=!1}_subscribe(H){return this.getSubject().subscribe(H)}getSubject(){const H=this._subject;return(!H||H.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let H=this._connection;return H||(this._isComplete=!1,H=this._connection=new L.w,H.add(this.source.subscribe(new se(this.getSubject(),this))),H.closed&&(this._connection=null,H=L.w.EMPTY)),H}refCount(){return(0,oe.x)()(this)}}const Y=(()=>{const V=ne.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:V._subscribe},_isComplete:{value:V._isComplete,writable:!0},getSubject:{value:V.getSubject},connect:{value:V.connect},refCount:{value:V.refCount}}})();class se extends o.Yc{constructor(H,$){super(H),this.connectable=$}_error(H){this._unsubscribe(),super._error(H)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const H=this.connectable;if(H){this.connectable=null;const $=H._connection;H._refCount=0,H._subject=null,H._connection=null,$&&$.unsubscribe()}}}},8896:(st,ye,F)=>{F.d(ye,{E:()=>ee,c:()=>L});var o=F(6498);const ee=new o.y(ne=>ne.complete());function L(ne){return ne?function oe(ne){return new o.y(Y=>ne.schedule(()=>Y.complete()))}(ne):ee}},5254:(st,ye,F)=>{F.d(ye,{D:()=>De});var o=F(6498),ee=F(9249),L=F(2654),oe=F(3821),se=F(6454),Q=F(5430),H=F(8955),$=F(8515);function De(Ne,he){return he?function Ie(Ne,he){if(null!=Ne){if(function V(Ne){return Ne&&"function"==typeof Ne[oe.L]}(Ne))return function ne(Ne,he){return new o.y(fe=>{const Se=new L.w;return Se.add(he.schedule(()=>{const Ze=Ne[oe.L]();Se.add(Ze.subscribe({next(ot){Se.add(he.schedule(()=>fe.next(ot)))},error(ot){Se.add(he.schedule(()=>fe.error(ot)))},complete(){Se.add(he.schedule(()=>fe.complete()))}}))})),Se})}(Ne,he);if((0,H.t)(Ne))return function Y(Ne,he){return new o.y(fe=>{const Se=new L.w;return Se.add(he.schedule(()=>Ne.then(Ze=>{Se.add(he.schedule(()=>{fe.next(Ze),Se.add(he.schedule(()=>fe.complete()))}))},Ze=>{Se.add(he.schedule(()=>fe.error(Ze)))}))),Se})}(Ne,he);if((0,$.z)(Ne))return(0,se.r)(Ne,he);if(function ue(Ne){return Ne&&"function"==typeof Ne[Q.hZ]}(Ne)||"string"==typeof Ne)return function J(Ne,he){if(!Ne)throw new Error("Iterable cannot be null");return new o.y(fe=>{const Se=new L.w;let Ze;return Se.add(()=>{Ze&&"function"==typeof Ze.return&&Ze.return()}),Se.add(he.schedule(()=>{Ze=Ne[Q.hZ](),Se.add(he.schedule(function(){if(fe.closed)return;let ot,Ht;try{const Et=Ze.next();ot=Et.value,Ht=Et.done}catch(Et){return void fe.error(Et)}Ht?fe.complete():(fe.next(ot),this.schedule())}))})),Se})}(Ne,he)}throw new TypeError((null!==Ne&&typeof Ne||Ne)+" is not observable")}(Ne,he):Ne instanceof o.y?Ne:new o.y((0,ee.s)(Ne))}},3009:(st,ye,F)=>{F.d(ye,{n:()=>oe});var o=F(6498),ee=F(3650),L=F(6454);function oe(ne,Y){return Y?(0,L.r)(ne,Y):new o.y((0,ee.V)(ne))}},6787:(st,ye,F)=>{F.d(ye,{T:()=>ne});var o=F(6498),ee=F(2866),L=F(9146),oe=F(3009);function ne(...Y){let se=Number.POSITIVE_INFINITY,Q=null,J=Y[Y.length-1];return(0,ee.K)(J)?(Q=Y.pop(),Y.length>1&&"number"==typeof Y[Y.length-1]&&(se=Y.pop())):"number"==typeof J&&(se=Y.pop()),null===Q&&1===Y.length&&Y[0]instanceof o.y?Y[0]:(0,L.J)(se)((0,oe.n)(Y,Q))}},1086:(st,ye,F)=>{F.d(ye,{of:()=>oe});var o=F(2866),ee=F(3009),L=F(6454);function oe(...ne){let Y=ne[ne.length-1];return(0,o.K)(Y)?(ne.pop(),(0,L.r)(ne,Y)):(0,ee.n)(ne)}},1737:(st,ye,F)=>{F.d(ye,{_:()=>ee});var o=F(6498);function ee(oe,ne){return new o.y(ne?Y=>ne.schedule(L,0,{error:oe,subscriber:Y}):Y=>Y.error(oe))}function L({error:oe,subscriber:ne}){ne.error(oe)}},4850:(st,ye,F)=>{F.d(ye,{U:()=>ee});var o=F(3489);function ee(ne,Y){return function(Q){if("function"!=typeof ne)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Q.lift(new L(ne,Y))}}class L{constructor(Y,se){this.project=Y,this.thisArg=se}call(Y,se){return se.subscribe(new oe(Y,this.project,this.thisArg))}}class oe extends o.L{constructor(Y,se,Q){super(Y),this.project=se,this.count=0,this.thisArg=Q||this}_next(Y){let se;try{se=this.project.call(this.thisArg,Y,this.count++)}catch(Q){return void this.destination.error(Q)}this.destination.next(se)}}},9146:(st,ye,F)=>{F.d(ye,{J:()=>L});var o=F(1709),ee=F(5379);function L(oe=Number.POSITIVE_INFINITY){return(0,o.zg)(ee.y,oe)}},1709:(st,ye,F)=>{F.d(ye,{zg:()=>oe});var o=F(4850),ee=F(5254),L=F(1177);function oe(Q,J,V=Number.POSITIVE_INFINITY){return"function"==typeof J?H=>H.pipe(oe(($,ue)=>(0,ee.D)(Q($,ue)).pipe((0,o.U)((Ie,De)=>J($,Ie,ue,De))),V)):("number"==typeof J&&(V=J),H=>H.lift(new ne(Q,V)))}class ne{constructor(J,V=Number.POSITIVE_INFINITY){this.project=J,this.concurrent=V}call(J,V){return V.subscribe(new Y(J,this.project,this.concurrent))}}class Y extends L.Ds{constructor(J,V,H=Number.POSITIVE_INFINITY){super(J),this.project=V,this.concurrent=H,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(J){this.active<this.concurrent?this._tryNext(J):this.buffer.push(J)}_tryNext(J){let V;const H=this.index++;try{V=this.project(J,H)}catch($){return void this.destination.error($)}this.active++,this._innerSub(V)}_innerSub(J){const V=new L.IY(this),H=this.destination;H.add(V);const $=(0,L.ft)(J,V);$!==V&&H.add($)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(J){this.destination.next(J)}notifyComplete(){const J=this.buffer;this.active--,J.length>0?this._next(J.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},7770:(st,ye,F)=>{F.d(ye,{QV:()=>L,ht:()=>ne});var o=F(3489),ee=F(9312);function L(se,Q=0){return function(V){return V.lift(new oe(se,Q))}}class oe{constructor(Q,J=0){this.scheduler=Q,this.delay=J}call(Q,J){return J.subscribe(new ne(Q,this.scheduler,this.delay))}}class ne extends o.L{constructor(Q,J,V=0){super(Q),this.scheduler=J,this.delay=V}static dispatch(Q){const{notification:J,destination:V}=Q;J.observe(V),this.unsubscribe()}scheduleMessage(Q){this.destination.add(this.scheduler.schedule(ne.dispatch,this.delay,new Y(Q,this.destination)))}_next(Q){this.scheduleMessage(ee.P.createNext(Q))}_error(Q){this.scheduleMessage(ee.P.createError(Q)),this.unsubscribe()}_complete(){this.scheduleMessage(ee.P.createComplete()),this.unsubscribe()}}class Y{constructor(Q,J){this.notification=Q,this.destination=J}}},4327:(st,ye,F)=>{F.d(ye,{x:()=>ee});var o=F(3489);function ee(){return function(Y){return Y.lift(new L(Y))}}class L{constructor(Y){this.connectable=Y}call(Y,se){const{connectable:Q}=this;Q._refCount++;const J=new oe(Y,Q),V=se.subscribe(J);return J.closed||(J.connection=Q.connect()),V}}class oe extends o.L{constructor(Y,se){super(Y),this.connectable=se}_unsubscribe(){const{connectable:Y}=this;if(!Y)return void(this.connection=null);this.connectable=null;const se=Y._refCount;if(se<=0)return void(this.connection=null);if(Y._refCount=se-1,se>1)return void(this.connection=null);const{connection:Q}=this,J=Y._connection;this.connection=null,J&&(!Q||J===Q)&&J.unsubscribe()}}},2474:(st,ye,F)=>{F.d(ye,{B:()=>se});var o=F(1762);class L{constructor(J,V){this.subjectFactory=J,this.selector=V}call(J,V){const{selector:H}=this,$=this.subjectFactory(),ue=H($).subscribe(J);return ue.add(V.subscribe($)),ue}}var oe=F(4327),ne=F(8929);function Y(){return new ne.xQ}function se(){return Q=>(0,oe.x)()(function ee(Q,J){return function(H){let $;if($="function"==typeof Q?Q:function(){return Q},"function"==typeof J)return H.lift(new L($,J));const ue=Object.create(H,o.N);return ue.source=H,ue.subjectFactory=$,ue}}(Y)(Q))}},2899:(st,ye,F)=>{F.d(ye,{R:()=>Ne});var o=F(6498);let ee=1;const L=Promise.resolve(),oe={};function ne(fe){return fe in oe&&(delete oe[fe],!0)}const Y={setImmediate(fe){const Se=ee++;return oe[Se]=!0,L.then(()=>ne(Se)&&fe()),Se},clearImmediate(fe){ne(fe)}};var Q=F(6686),V=F(2268);const ue=new class H extends V.v{flush(Se){this.active=!0,this.scheduled=void 0;const{actions:Ze}=this;let ot,Ht=-1,Et=Ze.length;Se=Se||Ze.shift();do{if(ot=Se.execute(Se.state,Se.delay))break}while(++Ht<Et&&(Se=Ze.shift()));if(this.active=!1,ot){for(;++Ht<Et&&(Se=Ze.shift());)Se.unsubscribe();throw ot}}}(class J extends Q.o{constructor(Se,Ze){super(Se,Ze),this.scheduler=Se,this.work=Ze}requestAsyncId(Se,Ze,ot=0){return null!==ot&&ot>0?super.requestAsyncId(Se,Ze,ot):(Se.actions.push(this),Se.scheduled||(Se.scheduled=Y.setImmediate(Se.flush.bind(Se,null))))}recycleAsyncId(Se,Ze,ot=0){if(null!==ot&&ot>0||null===ot&&this.delay>0)return super.recycleAsyncId(Se,Ze,ot);0===Se.actions.length&&(Y.clearImmediate(Ze),Se.scheduled=void 0)}});var Ie=F(4241);class De extends o.y{constructor(Se,Ze=0,ot=ue){super(),this.source=Se,this.delayTime=Ze,this.scheduler=ot,(!(0,Ie.k)(Ze)||Ze<0)&&(this.delayTime=0),(!ot||"function"!=typeof ot.schedule)&&(this.scheduler=ue)}static create(Se,Ze=0,ot=ue){return new De(Se,Ze,ot)}static dispatch(Se){const{source:Ze,subscriber:ot}=Se;return this.add(Ze.subscribe(ot))}_subscribe(Se){return this.scheduler.schedule(De.dispatch,this.delayTime,{source:this.source,subscriber:Se})}}function Ne(fe,Se=0){return function(ot){return ot.lift(new he(fe,Se))}}class he{constructor(Se,Ze){this.scheduler=Se,this.delay=Ze}call(Se,Ze){return new De(Ze,this.delay,this.scheduler).subscribe(Se)}}},2994:(st,ye,F)=>{F.d(ye,{b:()=>oe});var o=F(3489),ee=F(7876),L=F(7043);function oe(se,Q,J){return function(H){return H.lift(new ne(se,Q,J))}}class ne{constructor(Q,J,V){this.nextOrObserver=Q,this.error=J,this.complete=V}call(Q,J){return J.subscribe(new Y(Q,this.nextOrObserver,this.error,this.complete))}}class Y extends o.L{constructor(Q,J,V,H){super(Q),this._tapNext=ee.Z,this._tapError=ee.Z,this._tapComplete=ee.Z,this._tapError=V||ee.Z,this._tapComplete=H||ee.Z,(0,L.m)(J)?(this._context=this,this._tapNext=J):J&&(this._context=J,this._tapNext=J.next||ee.Z,this._tapError=J.error||ee.Z,this._tapComplete=J.complete||ee.Z)}_next(Q){try{this._tapNext.call(this._context,Q)}catch(J){return void this.destination.error(J)}this.destination.next(Q)}_error(Q){try{this._tapError.call(this._context,Q)}catch(J){return void this.destination.error(J)}this.destination.error(Q)}_complete(){try{this._tapComplete.call(this._context)}catch(Q){return void this.destination.error(Q)}return this.destination.complete()}}},6454:(st,ye,F)=>{F.d(ye,{r:()=>L});var o=F(6498),ee=F(2654);function L(oe,ne){return new o.y(Y=>{const se=new ee.w;let Q=0;return se.add(ne.schedule(function(){Q!==oe.length?(Y.next(oe[Q++]),Y.closed||se.add(this.schedule())):Y.complete()})),se})}},6686:(st,ye,F)=>{F.d(ye,{o:()=>L});var o=F(2654);class ee extends o.w{constructor(ne,Y){super()}schedule(ne,Y=0){return this}}class L extends ee{constructor(ne,Y){super(ne,Y),this.scheduler=ne,this.work=Y,this.pending=!1}schedule(ne,Y=0){if(this.closed)return this;this.state=ne;const se=this.id,Q=this.scheduler;return null!=se&&(this.id=this.recycleAsyncId(Q,se,Y)),this.pending=!0,this.delay=Y,this.id=this.id||this.requestAsyncId(Q,this.id,Y),this}requestAsyncId(ne,Y,se=0){return setInterval(ne.flush.bind(ne,this),se)}recycleAsyncId(ne,Y,se=0){if(null!==se&&this.delay===se&&!1===this.pending)return Y;clearInterval(Y)}execute(ne,Y){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const se=this._execute(ne,Y);if(se)return se;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,Y){let Q,se=!1;try{this.work(ne)}catch(J){se=!0,Q=!!J&&J||new Error(J)}if(se)return this.unsubscribe(),Q}_unsubscribe(){const ne=this.id,Y=this.scheduler,se=Y.actions,Q=se.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Q&&se.splice(Q,1),null!=ne&&(this.id=this.recycleAsyncId(Y,ne,null)),this.delay=null}}},2268:(st,ye,F)=>{F.d(ye,{v:()=>ee});let o=(()=>{class L{constructor(ne,Y=L.now){this.SchedulerAction=ne,this.now=Y}schedule(ne,Y=0,se){return new this.SchedulerAction(this,ne).schedule(se,Y)}}return L.now=()=>Date.now(),L})();class ee extends o{constructor(oe,ne=o.now){super(oe,()=>ee.delegate&&ee.delegate!==this?ee.delegate.now():ne()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(oe,ne=0,Y){return ee.delegate&&ee.delegate!==this?ee.delegate.schedule(oe,ne,Y):super.schedule(oe,ne,Y)}flush(oe){const{actions:ne}=this;if(this.active)return void ne.push(oe);let Y;this.active=!0;do{if(Y=oe.execute(oe.state,oe.delay))break}while(oe=ne.shift());if(this.active=!1,Y){for(;oe=ne.shift();)oe.unsubscribe();throw Y}}}},353:(st,ye,F)=>{F.d(ye,{P:()=>oe,z:()=>L});var o=F(6686);const L=new(F(2268).v)(o.o),oe=L},341:(st,ye,F)=>{F.d(ye,{c:()=>Y,N:()=>ne});var o=F(6686),L=F(2268);const ne=new class oe extends L.v{}(class ee extends o.o{constructor(Q,J){super(Q,J),this.scheduler=Q,this.work=J}schedule(Q,J=0){return J>0?super.schedule(Q,J):(this.delay=J,this.state=Q,this.scheduler.flush(this),this)}execute(Q,J){return J>0||this.closed?super.execute(Q,J):this._execute(Q,J)}requestAsyncId(Q,J,V=0){return null!==V&&V>0||null===V&&this.delay>0?super.requestAsyncId(Q,J,V):Q.flush(this)}}),Y=ne},5430:(st,ye,F)=>{F.d(ye,{hZ:()=>ee});const ee=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(st,ye,F)=>{F.d(ye,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(st,ye,F)=>{F.d(ye,{b:()=>o});const o="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},5279:(st,ye,F)=>{F.d(ye,{N:()=>ee});const ee=(()=>{function L(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return L.prototype=Object.create(Error.prototype),L})()},2782:(st,ye,F)=>{function o(ee){setTimeout(()=>{throw ee},0)}F.d(ye,{z:()=>o})},5379:(st,ye,F)=>{function o(ee){return ee}F.d(ye,{y:()=>o})},6688:(st,ye,F)=>{F.d(ye,{k:()=>o});const o=Array.isArray||(ee=>ee&&"number"==typeof ee.length)},8515:(st,ye,F)=>{F.d(ye,{z:()=>o});const o=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},7043:(st,ye,F)=>{function o(ee){return"function"==typeof ee}F.d(ye,{m:()=>o})},4241:(st,ye,F)=>{F.d(ye,{k:()=>ee});var o=F(6688);function ee(L){return!(0,o.k)(L)&&L-parseFloat(L)+1>=0}},7830:(st,ye,F)=>{function o(ee){return null!==ee&&"object"==typeof ee}F.d(ye,{K:()=>o})},8955:(st,ye,F)=>{function o(ee){return!!ee&&"function"!=typeof ee.subscribe&&"function"==typeof ee.then}F.d(ye,{t:()=>o})},2866:(st,ye,F)=>{function o(ee){return ee&&"function"==typeof ee.schedule}F.d(ye,{K:()=>o})},7876:(st,ye,F)=>{function o(){}F.d(ye,{Z:()=>o})},4843:(st,ye,F)=>{F.d(ye,{U:()=>L,z:()=>ee});var o=F(5379);function ee(...oe){return L(oe)}function L(oe){return 0===oe.length?o.y:1===oe.length?oe[0]:function(Y){return oe.reduce((se,Q)=>Q(se),Y)}}},9249:(st,ye,F)=>{F.d(ye,{s:()=>H});var o=F(3650),ee=F(2782),oe=F(5430),Y=F(3821),Q=F(8515),J=F(8955),V=F(7830);const H=$=>{if($&&"function"==typeof $[Y.L])return($=>ue=>{const Ie=$[Y.L]();if("function"!=typeof Ie.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Ie.subscribe(ue)})($);if((0,Q.z)($))return(0,o.V)($);if((0,J.t)($))return($=>ue=>($.then(Ie=>{ue.closed||(ue.next(Ie),ue.complete())},Ie=>ue.error(Ie)).then(null,ee.z),ue))($);if($&&"function"==typeof $[oe.hZ])return($=>ue=>{const Ie=$[oe.hZ]();for(;;){let De;try{De=Ie.next()}catch(Ne){return ue.error(Ne),ue}if(De.done){ue.complete();break}if(ue.next(De.value),ue.closed)break}return"function"==typeof Ie.return&&ue.add(()=>{Ie.return&&Ie.return()}),ue})($);{const Ie=`You provided ${(0,V.K)($)?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Ie)}}},3650:(st,ye,F)=>{F.d(ye,{V:()=>o});const o=ee=>L=>{for(let oe=0,ne=ee.length;oe<ne&&!L.closed;oe++)L.next(ee[oe]);L.complete()}},4650:(st,ye,F)=>{F.d(ye,{$8M:()=>Ml,$Z:()=>o0,AFp:()=>lT,ALo:()=>Qx,AaK:()=>Q,AsE:()=>B0,BQk:()=>fg,CHM:()=>Du,CRH:()=>yO,CZH:()=>Cd,CqO:()=>q_,D6c:()=>FT,EJc:()=>Qa,EiD:()=>Fp,EpF:()=>Xh,F$t:()=>AM,F4k:()=>$_,FYo:()=>YC,FiY:()=>gr,G48:()=>tA,Gf:()=>mO,GfV:()=>f_,Gpc:()=>H,Hsn:()=>PM,Ikx:()=>$0,JOm:()=>No,JVY:()=>po,Jf7:()=>m_,KtG:()=>Es,L6k:()=>nd,LAX:()=>Lh,LFG:()=>U,LSH:()=>Up,Lbi:()=>dT,Lck:()=>Bx,MAs:()=>Pw,MGl:()=>F0,MMx:()=>ub,NdJ:()=>ef,O4$:()=>vc,OlP:()=>vn,Oqu:()=>Ai,PXZ:()=>YO,Q6J:()=>j_,QGY:()=>yr,QP$:()=>$t,Qsj:()=>DS,QtT:()=>OD,R0b:()=>Ys,RDi:()=>xp,Rgc:()=>Ag,SBq:()=>Zp,SDv:()=>xg,Sil:()=>vF,Suo:()=>_O,TTD:()=>da,TgZ:()=>A0,Tol:()=>Gw,Udp:()=>K_,VKq:()=>zx,W1O:()=>wO,WLB:()=>ZD,X6Q:()=>OF,XFs:()=>He,Xpm:()=>ve,Xts:()=>Lv,Y36:()=>ad,YKP:()=>kD,YNc:()=>Aw,Yjl:()=>me,Yz7:()=>bn,Z0I:()=>Yo,ZZ4:()=>Ub,_Bn:()=>ND,_UZ:()=>P0,_Vd:()=>Zh,_c5:()=>gy,_uU:()=>QM,aQg:()=>eu,c2e:()=>gF,cJS:()=>Mn,cg1:()=>q0,dDg:()=>WO,dqk:()=>Qt,eBb:()=>i_,eFA:()=>mT,ekj:()=>U0,eoX:()=>zO,f3M:()=>ce,g9A:()=>ly,h0i:()=>hf,hGG:()=>Dd,hij:()=>_g,iGM:()=>gO,ifc:()=>lt,ip1:()=>pf,jDz:()=>FD,kEZ:()=>HD,kL8:()=>yo,lG2:()=>K,lcZ:()=>zD,lqb:()=>Zl,lri:()=>$O,mCW:()=>y,n5z:()=>Lr,oAB:()=>Gt,oxw:()=>Rw,pB0:()=>o_,pQV:()=>sb,q3G:()=>Jn,q4F:()=>Gv,qLn:()=>Hp,qOj:()=>B_,qZA:()=>G_,qzn:()=>fo,rWj:()=>qO,s9C:()=>Fw,sBO:()=>AF,sIi:()=>ig,s_b:()=>ry,soG:()=>Rg,tb:()=>Jl,tp0:()=>Gi,uIk:()=>H_,vHH:()=>De,vpe:()=>za,wAp:()=>at,xp6:()=>Qv,ynx:()=>hg,z2F:()=>uy,z3N:()=>Ro,zSh:()=>u_,zs3:()=>La});var o=F(8929),ee=F(2654),L=F(6498),oe=F(6787),ne=F(2474);function Y(a){for(let c in a)if(a[c]===Y)return c;throw Error("Could not find renamed property on target object.")}function se(a,c){for(const l in c)c.hasOwnProperty(l)&&!a.hasOwnProperty(l)&&(a[l]=c[l])}function Q(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(Q).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const c=a.toString();if(null==c)return""+c;const l=c.indexOf("\n");return-1===l?c:c.substring(0,l)}function J(a,c){return null==a||""===a?null===c?"":c:null==c||""===c?a:a+" "+c}const V=Y({__forward_ref__:Y});function H(a){return a.__forward_ref__=H,a.toString=function(){return Q(this())},a}function $(a){return ue(a)?a():a}function ue(a){return"function"==typeof a&&a.hasOwnProperty(V)&&a.__forward_ref__===H}class De extends Error{constructor(c,l){super(function Ne(a,c){return`NG0${Math.abs(a)}${c?": "+c.trim():""}`}(c,l)),this.code=c}}function he(a){return"string"==typeof a?a:null==a?"":String(a)}function Ht(a,c){throw new De(-201,!1)}function jt(a,c,l,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${l} ${d} ${c} <=Actual]`))}function bn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Mn(a){return{providers:a.providers||[],imports:a.imports||[]}}function eo(a){return fi(a,$r)||fi(a,Ae)}function Yo(a){return null!==eo(a)}function fi(a,c){return a.hasOwnProperty(c)?a[c]:null}function ws(a){return a&&(a.hasOwnProperty(qr)||a.hasOwnProperty(Wr))?a[qr]:null}const $r=Y({\u0275prov:Y}),qr=Y({\u0275inj:Y}),Ae=Y({ngInjectableDef:Y}),Wr=Y({ngInjectorDef:Y});var He=(()=>((He=He||{})[He.Default=0]="Default",He[He.Host=1]="Host",He[He.Self=2]="Self",He[He.SkipSelf=4]="SkipSelf",He[He.Optional=8]="Optional",He))();let kr;function ar(a){const c=kr;return kr=a,c}function to(a,c,l){const d=eo(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&He.Optional?null:void 0!==c?c:void Ht(Q(a))}function Cn(a){return{toString:a}.toString()}var Wn=(()=>((Wn=Wn||{})[Wn.OnPush=0]="OnPush",Wn[Wn.Default=1]="Default",Wn))(),lt=(()=>{return(a=lt||(lt={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",lt;var a})();const Qt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),pi={},nt=[],_n=Y({\u0275cmp:Y}),sn=Y({\u0275dir:Y}),io=Y({\u0275pipe:Y}),Kt=Y({\u0275mod:Y}),wn=Y({\u0275fac:Y}),Rr=Y({__NG_ELEMENT_ID__:Y});let tt=0;function ve(a){return Cn(()=>{const l=!0===a.standalone,d={},f={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===Wn.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&a.dependencies||null,getStandaloneInjector:null,selectors:a.selectors||nt,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||lt.Emulated,id:"c"+tt++,styles:a.styles||nt,_:null,setInput:null,schemas:a.schemas||null,tView:null},_=a.dependencies,b=a.features;return f.inputs=G(a.inputs,d),f.outputs=G(a.outputs),b&&b.forEach(w=>w(f)),f.directiveDefs=_?()=>("function"==typeof _?_():_).map(It).filter(xt):null,f.pipeDefs=_?()=>("function"==typeof _?_():_).map(ht).filter(xt):null,f})}function It(a){return te(a)||Ge(a)}function xt(a){return null!==a}function Gt(a){return Cn(()=>({type:a.type,bootstrap:a.bootstrap||nt,declarations:a.declarations||nt,imports:a.imports||nt,exports:a.exports||nt,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function G(a,c){if(null==a)return pi;const l={};for(const d in a)if(a.hasOwnProperty(d)){let f=a[d],_=f;Array.isArray(f)&&(_=f[1],f=f[0]),l[f]=d,c&&(c[f]=_)}return l}const K=ve;function me(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function te(a){return a[_n]||null}function Ge(a){return a[sn]||null}function ht(a){return a[io]||null}function $t(a){const c=te(a)||Ge(a)||ht(a);return null!==c&&c.standalone}function ln(a,c){const l=a[Kt]||null;if(!l&&!0===c)throw new Error(`Type ${Q(a)} does not have '\u0275mod' property.`);return l}function Ir(a){return Array.isArray(a)&&"object"==typeof a[1]}function _i(a){return Array.isArray(a)&&!0===a[1]}function ll(a){return 0!=(8&a.flags)}function ul(a){return 2==(2&a.flags)}function mu(a){return 1==(1&a.flags)}function yi(a){return null!==a.template}function lr(a){return 0!=(256&a[2])}function oo(a,c){return a.hasOwnProperty(wn)?a[wn]:null}class hl{constructor(c,l,d){this.previousValue=c,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function da(){return qd}function qd(a){return a.type.prototype.ngOnChanges&&(a.setInput=yu),ha}function ha(){const a=ac(this),c=a?.current;if(c){const l=a.previous;if(l===pi)a.previous=c;else for(let d in c)l[d]=c[d];a.current=null,this.ngOnChanges(c)}}function yu(a,c,l,d){const f=ac(a)||function An(a,c){return a[fl]=c}(a,{previous:pi,current:null}),_=f.current||(f.current={}),b=f.previous,w=this.declaredInputs[l],T=b[w];_[w]=new hl(T&&T.currentValue,c,b===pi),a[d]=c}da.ngInherit=!0;const fl="__ngSimpleChanges__";function ac(a){return a[fl]||null}function Hn(a){for(;Array.isArray(a);)a=a[0];return a}function vi(a,c){return Hn(c[a])}function jn(a,c){return Hn(c[a.index])}function uc(a,c){return a.data[c]}function Zi(a,c){return a[c]}function cn(a,c){const l=c[a];return Ir(l)?l:l[0]}function ai(a){return 64==(64&a[2])}function zr(a,c){return null==c?null:a[c]}function bu(a){a[18]=0}function zn(a,c){a[5]+=c;let l=a,d=a[3];for(;null!==d&&(1===c&&1===l[5]||-1===c&&0===l[5]);)d[5]+=c,l=d,d=d[3]}const Ct={lFrame:Iu(null),bindingsEnabled:!0};function es(){return Ct.bindingsEnabled}function we(){return Ct.lFrame.lView}function Bt(){return Ct.lFrame.tView}function Du(a){return Ct.lFrame.contextLView=a,a[8]}function Es(a){return Ct.lFrame.contextLView=null,a}function Kn(){let a=fc();for(;null!==a&&64===a.type;)a=a.parent;return a}function fc(){return Ct.lFrame.currentTNode}function _l(){const a=Ct.lFrame,c=a.currentTNode;return a.isParent?c:c.parent}function li(a,c){const l=Ct.lFrame;l.currentTNode=a,l.isParent=c}function pc(){return Ct.lFrame.isParent}function fa(){Ct.lFrame.isParent=!1}function Yn(){const a=Ct.lFrame;let c=a.bindingRootIndex;return-1===c&&(c=a.bindingRootIndex=a.tView.bindingStartIndex),c}function Oi(){return Ct.lFrame.bindingIndex}function Ss(){return Ct.lFrame.bindingIndex++}function so(a){const c=Ct.lFrame,l=c.bindingIndex;return c.bindingIndex=c.bindingIndex+a,l}function vl(a){Ct.lFrame.inI18n=a}function Yd(a,c){const l=Ct.lFrame;l.bindingIndex=l.bindingRootIndex=a,ga(c)}function ga(a){Ct.lFrame.currentDirectiveIndex=a}function mc(){return Ct.lFrame.currentQueryIndex}function ma(a){Ct.lFrame.currentQueryIndex=a}function _c(a){const c=a[1];return 2===c.type?c.declTNode:1===c.type?a[6]:null}function yc(a,c,l){if(l&He.SkipSelf){let f=c,_=a;for(;!(f=f.parent,null!==f||l&He.Host||(f=_c(_),null===f||(_=_[15],10&f.type))););if(null===f)return!1;c=f,a=_}const d=Ct.lFrame=Eu();return d.currentTNode=c,d.lView=a,!0}function bl(a){const c=Eu(),l=a[1];Ct.lFrame=c,c.currentTNode=l.firstChild,c.lView=a,c.tView=l,c.contextLView=a,c.bindingIndex=l.bindingStartIndex,c.inI18n=!1}function Eu(){const a=Ct.lFrame,c=null===a?null:a.child;return null===c?Iu(a):c}function Iu(a){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=c),c}function Su(){const a=Ct.lFrame;return Ct.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Qd=Su;function Io(){const a=Su();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function ur(){return Ct.lFrame.selectedIndex}function ao(a){Ct.lFrame.selectedIndex=a}function Tn(){const a=Ct.lFrame;return uc(a.tView,a.selectedIndex)}function vc(){Ct.lFrame.currentNamespace="svg"}function _a(a,c){for(let l=c.directiveStart,d=c.directiveEnd;l<d;l++){const _=a.data[l].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:w,ngAfterViewInit:T,ngAfterViewChecked:x,ngOnDestroy:N}=_;b&&(a.contentHooks||(a.contentHooks=[])).push(-l,b),w&&((a.contentHooks||(a.contentHooks=[])).push(l,w),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(l,w)),T&&(a.viewHooks||(a.viewHooks=[])).push(-l,T),x&&((a.viewHooks||(a.viewHooks=[])).push(l,x),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(l,x)),null!=N&&(a.destroyHooks||(a.destroyHooks=[])).push(l,N)}}function xs(a,c,l){Mo(a,c,3,l)}function So(a,c,l,d){(3&a[2])===l&&Mo(a,c,l,d)}function Ou(a,c){let l=a[2];(3&l)===c&&(l&=2047,l+=1,a[2]=l)}function Mo(a,c,l,d){const _=d??-1,b=c.length-1;let w=0;for(let T=void 0!==d?65535&a[18]:0;T<b;T++)if("number"==typeof c[T+1]){if(w=c[T],null!=d&&w>=d)break}else c[T]<0&&(a[18]+=65536),(w<_||-1==_)&&(Au(a,l,c,T),a[18]=(4294901760&a[18])+T+2),T++}function Au(a,c,l,d){const f=l[d]<0,_=l[d+1],w=a[f?-l[d]:l[d]];if(f){if(a[2]>>11<a[18]>>16&&(3&a[2])===c){a[2]+=2048;try{_.call(w)}finally{}}}else try{_.call(w)}finally{}}class ya{constructor(c,l,d){this.factory=c,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function ts(a,c,l){let d=0;for(;d<l.length;){const f=l[d];if("number"==typeof f){if(0!==f)break;d++;const _=l[d++],b=l[d++],w=l[d++];a.setAttribute(c,b,w,_)}else{const _=f,b=l[++d];ns(_)?a.setProperty(c,_,b):a.setAttribute(c,_,b),d++}}return d}function Tl(a){return 3===a||4===a||6===a}function ns(a){return 64===a.charCodeAt(0)}function ba(a,c){if(null!==c&&0!==c.length)if(null===a||0===a.length)a=c.slice();else{let l=-1;for(let d=0;d<c.length;d++){const f=c[d];"number"==typeof f?l=f:0===l||eh(a,l,f,null,-1===l||2===l?c[++d]:null)}}return a}function eh(a,c,l,d,f){let _=0,b=a.length;if(-1===c)b=-1;else for(;_<a.length;){const w=a[_++];if("number"==typeof w){if(w===c){b=-1;break}if(w>c){b=_-1;break}}}for(;_<a.length;){const w=a[_];if("number"==typeof w)break;if(w===l){if(null===d)return void(null!==f&&(a[_+1]=f));if(d===a[_+1])return void(a[_+2]=f)}_++,null!==d&&_++,null!==f&&_++}-1!==b&&(a.splice(b,0,c),_=b+1),a.splice(_++,0,l),null!==d&&a.splice(_++,0,d),null!==f&&a.splice(_++,0,f)}function th(a){return-1!==a}function dr(a){return 32767&a}function Ca(a,c){let l=function nh(a){return a>>16}(a),d=c;for(;l>0;)d=d[15],l--;return d}let rh=!0;function wc(a){const c=rh;return rh=a,c}let ip=0;const co={};function xo(a,c){const l=wa(a,c);if(-1!==l)return l;const d=c[1];d.firstCreatePass&&(a.injectorIndex=c.length,Oo(d.data,a),Oo(c,null),Oo(d.blueprint,null));const f=El(a,c),_=a.injectorIndex;if(th(f)){const b=dr(f),w=Ca(f,c),T=w[1].data;for(let x=0;x<8;x++)c[_+x]=w[b+x]|T[b+x]}return c[_+8]=f,_}function Oo(a,c){a.push(0,0,0,0,0,0,0,0,c)}function wa(a,c){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===c[a.injectorIndex+8]?-1:a.injectorIndex}function El(a,c){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let l=0,d=null,f=c;for(;null!==f;){if(d=lo(f),null===d)return-1;if(l++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function Os(a,c,l){!function op(a,c,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(Rr)&&(d=l[Rr]),null==d&&(d=l[Rr]=ip++);const f=255&d;c.data[a+(f>>5)]|=1<<f}(a,c,l)}function Dc(a,c,l){if(l&He.Optional||void 0!==a)return a;Ht()}function Il(a,c,l,d){if(l&He.Optional&&void 0===d&&(d=null),0==(l&(He.Self|He.Host))){const f=a[9],_=ar(void 0);try{return f?f.get(c,d,l&He.Optional):to(c,d,l&He.Optional)}finally{ar(_)}}return Dc(d,0,l)}function Tc(a,c,l,d=He.Default,f){if(null!==a){if(1024&c[2]){const b=function ap(a,c,l,d,f){let _=a,b=c;for(;null!==_&&null!==b&&1024&b[2]&&!(256&b[2]);){const w=ah(_,b,l,d|He.Self,co);if(w!==co)return w;let T=_.parent;if(!T){const x=b[21];if(x){const N=x.get(l,co,d);if(N!==co)return N}T=lo(b),b=b[15]}_=T}return f}(a,c,l,d,co);if(b!==co)return b}const _=ah(a,c,l,d,co);if(_!==co)return _}return Il(c,l,d,f)}function ah(a,c,l,d,f){const _=function sp(a){if("string"==typeof a)return a.charCodeAt(0)||0;const c=a.hasOwnProperty(Rr)?a[Rr]:void 0;return"number"==typeof c?c>=0?255&c:lh:c}(l);if("function"==typeof _){if(!yc(c,a,d))return d&He.Host?Dc(f,0,d):Il(c,l,d,f);try{const b=_(d);if(null!=b||d&He.Optional)return b;Ht()}finally{Qd()}}else if("number"==typeof _){let b=null,w=wa(a,c),T=-1,x=d&He.Host?c[16][6]:null;for((-1===w||d&He.SkipSelf)&&(T=-1===w?El(a,c):c[w+8],-1!==T&&ch(d,!1)?(b=c[1],w=dr(T),c=Ca(T,c)):w=-1);-1!==w;){const N=c[1];if(Sl(_,w,N.data)){const B=Ec(w,c,l,b,d,x);if(B!==co)return B}T=c[w+8],-1!==T&&ch(d,c[1].data[w+8]===x)&&Sl(_,w,c)?(b=N,w=dr(T),c=Ca(T,c)):w=-1}}return f}function Ec(a,c,l,d,f,_){const b=c[1],w=b.data[a+8],N=Ic(w,b,l,null==d?ul(w)&&rh:d!=b&&0!=(3&w.type),f&He.Host&&_===w);return null!==N?rs(c,b,N,w):co}function Ic(a,c,l,d,f){const _=a.providerIndexes,b=c.data,w=1048575&_,T=a.directiveStart,N=_>>20,W=f?w+N:a.directiveEnd;for(let re=d?w:w+N;re<W;re++){const ge=b[re];if(re<T&&l===ge||re>=T&&ge.type===l)return re}if(f){const re=b[T];if(re&&yi(re)&&re.type===l)return T}return null}function rs(a,c,l,d){let f=a[l];const _=c.data;if(function Pu(a){return a instanceof ya}(f)){const b=f;b.resolving&&function Se(a,c){const l=c?`. Dependency path: ${c.join(" > ")} > ${a}`:"";throw new De(-200,`Circular dependency in DI detected for ${a}${l}`)}(function fe(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():he(a)}(_[l]));const w=wc(b.canSeeViewProviders);b.resolving=!0;const T=b.injectImpl?ar(b.injectImpl):null;yc(a,d,He.Default);try{f=a[l]=b.factory(void 0,_,a,d),c.firstCreatePass&&l>=d.directiveStart&&function xu(a,c,l){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:_}=c.type.prototype;if(d){const b=qd(c);(l.preOrderHooks||(l.preOrderHooks=[])).push(a,b),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(a,b)}f&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-a,f),_&&((l.preOrderHooks||(l.preOrderHooks=[])).push(a,_),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(a,_))}(l,_[l],c)}finally{null!==T&&ar(T),wc(w),b.resolving=!1,Qd()}}return f}function Sl(a,c,l){return!!(l[c+(a>>5)]&1<<a)}function ch(a,c){return!(a&He.Self||a&He.Host&&c)}class Ao{constructor(c,l){this._tNode=c,this._lView=l}get(c,l,d){return Tc(this._tNode,this._lView,c,d,l)}}function lh(){return new Ao(Kn(),we())}function Lr(a){return Cn(()=>{const c=a.prototype.constructor,l=c[wn]||Sc(c),d=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==d;){const _=f[wn]||Sc(f);if(_&&_!==l)return _;f=Object.getPrototypeOf(f)}return _=>new _})}function Sc(a){return ue(a)?()=>{const c=Sc($(a));return c&&c()}:oo(a)}function lo(a){const c=a[1],l=c.type;return 2===l?c.declTNode:1===l?a[6]:null}function Ml(a){return function sh(a,c){if("class"===c)return a.classes;if("style"===c)return a.styles;const l=a.attrs;if(l){const d=l.length;let f=0;for(;f<d;){const _=l[f];if(Tl(_))break;if(0===_)f+=2;else if("number"==typeof _)for(f++;f<d&&"string"==typeof l[f];)f++;else{if(_===c)return l[f+1];f+=2}}}return null}(Kn(),a)}const Da="__parameters__";function Ta(a,c,l){return Cn(()=>{const d=function xc(a){return function(...l){if(a){const d=a(...l);for(const f in d)this[f]=d[f]}}}(c);function f(..._){if(this instanceof f)return d.apply(this,_),this;const b=new f(..._);return w.annotation=b,w;function w(T,x,N){const B=T.hasOwnProperty(Da)?T[Da]:Object.defineProperty(T,Da,{value:[]})[Da];for(;B.length<=N;)B.push(null);return(B[N]=B[N]||[]).push(b),T}}return l&&(f.prototype=Object.create(l.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}class vn{constructor(c,l){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=bn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Nt(a,c){void 0===c&&(c=a);for(let l=0;l<a.length;l++){let d=a[l];Array.isArray(d)?(c===a&&(c=a.slice(0,l)),Nt(d,c)):c!==a&&c.push(d)}return c}function ss(a,c){a.forEach(l=>Array.isArray(l)?ss(l,c):c(l))}function Oc(a,c,l){c>=a.length?a.push(l):a.splice(c,0,l)}function Po(a,c){return c>=a.length-1?a.pop():a.splice(c,1)[0]}function ji(a,c){const l=[];for(let d=0;d<a;d++)l.push(c);return l}function Sr(a,c,l){let d=bi(a,c);return d>=0?a[1|d]=l:(d=~d,function Fu(a,c,l,d){let f=a.length;if(f==c)a.push(l,d);else if(1===f)a.push(d,a[0]),a[0]=l;else{for(f--,a.push(a[f-1],a[f]);f>c;)a[f]=a[f-2],f--;a[c]=l,a[c+1]=d}}(a,d,c,l)),d}function Ia(a,c){const l=bi(a,c);if(l>=0)return a[1|l]}function bi(a,c){return function cp(a,c,l){let d=0,f=a.length>>l;for(;f!==d;){const _=d+(f-d>>1),b=a[_<<l];if(c===b)return _<<l;b>c?f=_:d=_+1}return~(f<<l)}(a,c,1)}const En={},fn="__NG_DI_FLAG__",Ac="ngTempTokenPath",gh=/\n/gm,pr="__source";let E;function M(a){const c=E;return E=a,c}function P(a,c=He.Default){if(void 0===E)throw new De(-203,!1);return null===E?to(a,void 0,c):E.get(a,c&He.Optional?null:void 0,c)}function U(a,c=He.Default){return(function sr(){return kr}()||P)($(a),c)}function ce(a,c=He.Default){return"number"!=typeof c&&(c=0|(c.optional&&8)|(c.host&&1)|(c.self&&2)|(c.skipSelf&&4)),U(a,c)}function _e(a){const c=[];for(let l=0;l<a.length;l++){const d=$(a[l]);if(Array.isArray(d)){if(0===d.length)throw new De(900,!1);let f,_=He.Default;for(let b=0;b<d.length;b++){const w=d[b],T=dt(w);"number"==typeof T?-1===T?f=w.token:_|=T:f=w}c.push(U(f,_))}else c.push(U(d))}return c}function ze(a,c){return a[fn]=c,a.prototype[fn]=c,a}function dt(a){return a[fn]}const gr=ze(Ta("Optional"),8),Gi=ze(Ta("SkipSelf"),4);var No=(()=>((No=No||{})[No.Important=1]="Important",No[No.DashCase=2]="DashCase",No))();const Zm=/^>|^->|<!--|-->|--!>|<!-$/g,Hm=/(<|>)/;const wh=new Map;let Dh=0;const mp="__ngContext__";function xr(a,c){Ir(c)?(a[mp]=c[20],function Lt(a){wh.set(a[20],a)}(c)):a[mp]=c}let kl;function ju(a,c){return kl(a,c)}function Gu(a){const c=a[3];return _i(c)?c[3]:c}function vp(a){return $u(a[13])}function Fs(a){return $u(a[4])}function $u(a){for(;null!==a&&!_i(a);)a=a[4];return a}function qu(a,c,l,d,f){if(null!=d){let _,b=!1;_i(d)?_=d:Ir(d)&&(b=!0,d=d[0]);const w=Hn(d);0===a&&null!==l?null==f?Cp(c,l,w):ls(c,l,w,f||null,!0):1===a&&null!==l?ls(c,l,w,f||null,!0):2===a?Uc(c,w,b):3===a&&c.destroyNode(w),null!=_&&function Sp(a,c,l,d,f){const _=l[7];_!==Hn(l)&&qu(c,a,d,_,f);for(let w=10;w<l.length;w++){const T=l[w];Vc(T[1],T,a,c,d,_)}}(c,a,_,l,f)}}function Ls(a,c){return a.createText(c)}function qm(a,c,l){a.setValue(c,l)}function Wu(a,c){return a.createComment(function gp(a){return a.replace(Zm,c=>c.replace(Hm,"\u200b$1\u200b"))}(c))}function Us(a,c,l){return a.createElement(c,l)}function Km(a,c){const l=a[9],d=l.indexOf(c),f=c[3];512&c[2]&&(c[2]&=-513,zn(f,-1)),l.splice(d,1)}function Fl(a,c){if(a.length<=10)return;const l=10+c,d=a[l];if(d){const f=d[17];null!==f&&f!==a&&Km(f,d),c>0&&(a[l-1][4]=d[4]);const _=Po(a,10+c);!function Rl(a,c){Vc(a,c,c[11],2,null,null),c[0]=null,c[6]=null}(d[1],d);const b=_[19];null!==b&&b.detachView(_[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function Ym(a,c){if(!(128&c[2])){const l=c[11];l.destroyNode&&Vc(a,c,l,3,null,null),function zm(a){let c=a[13];if(!c)return zu(a[1],a);for(;c;){let l=null;if(Ir(c))l=c[13];else{const d=c[10];d&&(l=d)}if(!l){for(;c&&!c[4]&&c!==a;)Ir(c)&&zu(c[1],c),c=c[3];null===c&&(c=a),Ir(c)&&zu(c[1],c),l=c&&c[4]}c=l}}(c)}}function zu(a,c){if(!(128&c[2])){c[2]&=-65,c[2]|=128,function kv(a,c){let l;if(null!=a&&null!=(l=a.destroyHooks))for(let d=0;d<l.length;d+=2){const f=c[l[d]];if(!(f instanceof ya)){const _=l[d+1];if(Array.isArray(_))for(let b=0;b<_.length;b+=2){const w=f[_[b]],T=_[b+1];try{T.call(w)}finally{}}else try{_.call(f)}finally{}}}}(a,c),function Ku(a,c){const l=a.cleanup,d=c[7];let f=-1;if(null!==l)for(let _=0;_<l.length-1;_+=2)if("string"==typeof l[_]){const b=l[_+1],w="function"==typeof b?b(c):Hn(c[b]),T=d[f=l[_+2]],x=l[_+3];"boolean"==typeof x?w.removeEventListener(l[_],T,x):x>=0?d[f=x]():d[f=-x].unsubscribe(),_+=2}else{const b=d[f=l[_+1]];l[_].call(b)}if(null!==d){for(let _=f+1;_<d.length;_++)(0,d[_])();c[7]=null}}(a,c),1===c[1].type&&c[11].destroy();const l=c[17];if(null!==l&&_i(c[3])){l!==c[3]&&Km(l,c);const d=c[19];null!==d&&d.detachView(a)}!function xv(a){wh.delete(a[20])}(c)}}function Nh(a,c,l){return bp(a,c.parent,l)}function bp(a,c,l){let d=c;for(;null!==d&&40&d.type;)d=(c=d).parent;if(null===d)return l[0];if(2&d.flags){const f=a.data[d.directiveStart].encapsulation;if(f===lt.None||f===lt.Emulated)return null}return jn(d,l)}function ls(a,c,l,d,f){a.insertBefore(c,l,d,f)}function Cp(a,c,l){a.appendChild(c,l)}function us(a,c,l,d,f){null!==d?ls(a,c,l,d,f):Cp(a,c,l)}function Lc(a,c){return a.parentNode(c)}function Qu(a,c,l){return Xm(a,c,l)}function Jm(a,c,l){return 40&a.type?jn(a,l):null}let wp,Bc,Xu,Xm=Jm;function Dp(a,c){Xm=a,wp=c}function kh(a,c,l,d){const f=Nh(a,d,c),_=c[11],w=Qu(d.parent||c[6],d,c);if(null!=f)if(Array.isArray(l))for(let T=0;T<l.length;T++)us(_,f,l[T],w,!1);else us(_,f,l,w,!1);void 0!==wp&&wp(_,d,c,l,f)}function Rh(a,c){if(null!==c){const l=c.type;if(3&l)return jn(c,a);if(4&l)return Tp(-1,a[c.index]);if(8&l){const d=c.child;if(null!==d)return Rh(a,d);{const f=a[c.index];return _i(f)?Tp(-1,f):Hn(f)}}if(32&l)return ju(c,a)()||Hn(a[c.index]);{const d=e_(a,c);return null!==d?Array.isArray(d)?d[0]:Rh(Gu(a[16]),d):Rh(a,c.next)}}return null}function e_(a,c){return null!==c?a[16][6].projection[c.projection]:null}function Tp(a,c){const l=10+a+1;if(l<c.length){const d=c[l],f=d[1].firstChild;if(null!==f)return Rh(d,f)}return c[7]}function Uc(a,c,l){const d=Lc(a,c);d&&function Yu(a,c,l,d){a.removeChild(c,l,d)}(a,d,c,l)}function Ep(a,c,l,d,f,_,b){for(;null!=l;){const w=d[l.index],T=l.type;if(b&&0===c&&(w&&xr(Hn(w),d),l.flags|=4),64!=(64&l.flags))if(8&T)Ep(a,c,l.child,d,f,_,!1),qu(c,a,f,w,_);else if(32&T){const x=ju(l,d);let N;for(;N=x();)qu(c,a,f,N,_);qu(c,a,f,w,_)}else 16&T?Ip(a,c,d,l,f,_):qu(c,a,f,w,_);l=b?l.projectionNext:l.next}}function Vc(a,c,l,d,f,_){Ep(l,d,a.firstChild,c,f,_,!1)}function Ip(a,c,l,d,f,_){const b=l[16],T=b[6].projection[d.projection];if(Array.isArray(T))for(let x=0;x<T.length;x++)qu(c,a,f,T[x],_);else Ep(a,c,T,b[3],f,_,!0)}function ko(a,c,l){a.setAttribute(c,"style",l)}function ds(a,c,l){""===l?a.removeAttribute(c,"class"):a.setAttribute(c,"class",l)}function Zc(a){return function Ju(){if(void 0===Bc&&(Bc=null,Qt.trustedTypes))try{Bc=Qt.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return Bc}()?.createHTML(a)||a}function xp(a){Xu=a}class Pa{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ap extends Pa{getTypeName(){return"HTML"}}class n_ extends Pa{getTypeName(){return"Style"}}class r_ extends Pa{getTypeName(){return"Script"}}class Pp extends Pa{getTypeName(){return"URL"}}class wi extends Pa{getTypeName(){return"ResourceURL"}}function Ro(a){return a instanceof Pa?a.changingThisBreaksApplicationSecurity:a}function fo(a,c){const l=function Fh(a){return a instanceof Pa&&a.getTypeName()||null}(a);if(null!=l&&l!==c){if("ResourceURL"===l&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===c}function po(a){return new Ap(a)}function nd(a){return new n_(a)}function i_(a){return new r_(a)}function Lh(a){return new Pp(a)}function o_(a){return new wi(a)}function Np(a){const c=new FC(a);return function LC(){try{return!!(new window.DOMParser).parseFromString(Zc(""),"text/html")}catch{return!1}}()?new RC(c):c}class RC{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const l=(new window.DOMParser).parseFromString(Zc(c),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(c):(l.removeChild(l.firstChild),l)}catch{return null}}}class FC{constructor(c){if(this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const d=this.inertDocument.createElement("body");l.appendChild(d)}}getInertBodyElement(c){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=Zc(c),l;const d=this.inertDocument.createElement("body");return d.innerHTML=Zc(c),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(c){const l=c.attributes;for(let f=l.length-1;0<f;f--){const b=l.item(f).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&c.removeAttribute(b)}let d=c.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const kp=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function y(a){return(a=String(a)).match(kp)?a:"unsafe:"+a}function p(a){const c={};for(const l of a.split(","))c[l]=!0;return c}function m(...a){const c={};for(const l of a)for(const d in l)l.hasOwnProperty(d)&&(c[d]=!0);return c}const C=p("area,br,col,hr,img,wbr"),S=p("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),A=p("rp,rt"),Te=m(C,m(S,p("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),m(A,p("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),m(A,S)),Xe=p("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ln=m(Xe,p("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),p("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),go=p("script,style,template");class Uh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let l=c.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let f=this.checkClobberedElement(l,l.nextSibling);if(f){l=f;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(c){const l=c.nodeName.toLowerCase();if(!Te.hasOwnProperty(l))return this.sanitizedSomething=!0,!go.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=c.attributes;for(let f=0;f<d.length;f++){const _=d.item(f),b=_.name,w=b.toLowerCase();if(!Ln.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let T=_.value;Xe[w]&&(T=y(T)),this.buf.push(" ",b,'="',Hc(T),'"')}return this.buf.push(">"),!0}endElement(c){const l=c.nodeName.toLowerCase();Te.hasOwnProperty(l)&&!C.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(c){this.buf.push(Hc(c))}checkClobberedElement(c,l){if(l&&(c.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return l}}const Rp=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ul=/([^\#-~ |!])/g;function Hc(a){return a.replace(/&/g,"&amp;").replace(Rp,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(Ul,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Vl;function Fp(a,c){let l=null;try{Vl=Vl||Np(a);let d=c?String(c):"";l=Vl.getInertBodyElement(d);let f=5,_=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=_,_=l.innerHTML,l=Vl.getInertBodyElement(d)}while(d!==_);return Zc((new Uh).sanitizeChildren(Vh(l)||l))}finally{if(l){const d=Vh(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Vh(a){return"content"in a&&function Lp(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var Jn=(()=>((Jn=Jn||{})[Jn.NONE=0]="NONE",Jn[Jn.HTML=1]="HTML",Jn[Jn.STYLE=2]="STYLE",Jn[Jn.SCRIPT=3]="SCRIPT",Jn[Jn.URL=4]="URL",Jn[Jn.RESOURCE_URL=5]="RESOURCE_URL",Jn))();function Up(a){const c=function Vp(){const a=we();return a&&a[12]}();return c?c.sanitize(Jn.URL,a)||"":fo(a,"URL")?Ro(a):y(he(a))}const Lv=new vn("ENVIRONMENT_INITIALIZER"),UC=new vn("INJECTOR",-1),VC=new vn("INJECTOR_DEF_TYPES");class Uv{get(c,l=En){if(l===En){const d=new Error(`NullInjectorError: No provider for ${Q(c)}!`);throw d.name="NullInjectorError",d}return l}}function hS(...a){return{\u0275providers:l_(0,a)}}function l_(a,...c){const l=[],d=new Set;let f;return ss(c,_=>{const b=_;Bp(b,l,[],d)&&(f||(f=[]),f.push(b))}),void 0!==f&&Vv(f,l),l}function Vv(a,c){for(let l=0;l<a.length;l++){const{providers:f}=a[l];ss(f,_=>{c.push(_)})}}function Bp(a,c,l,d){if(!(a=$(a)))return!1;let f=null,_=ws(a);const b=!_&&te(a);if(_||b){if(b&&!b.standalone)return!1;f=a}else{const T=a.ngModule;if(_=ws(T),!_)return!1;f=T}const w=d.has(f);if(b){if(w)return!1;if(d.add(f),b.dependencies){const T="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const x of T)Bp(x,c,l,d)}}else{if(!_)return!1;{if(null!=_.imports&&!w){let x;d.add(f);try{ss(_.imports,N=>{Bp(N,c,l,d)&&(x||(x=[]),x.push(N))})}finally{}void 0!==x&&Vv(x,c)}if(!w){const x=oo(f)||(()=>new f);c.push({provide:f,useFactory:x,deps:nt},{provide:VC,useValue:f,multi:!0},{provide:Lv,useValue:()=>U(f),multi:!0})}const T=_.providers;null==T||w||ss(T,N=>{c.push(N)})}}return f!==a&&void 0!==a.providers}const fS=Y({provide:String,useValue:Y});function Zv(a){return null!==a&&"object"==typeof a&&fS in a}function Na(a){return"function"==typeof a}const u_=new vn("Set Injector scope."),rd={},d_={};let h_;function Bl(){return void 0===h_&&(h_=new Uv),h_}class Zl{}class jC extends Zl{constructor(c,l,d,f){super(),this.parent=l,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jv(c,b=>this.processProvider(b)),this.records.set(UC,jc(void 0,this)),f.has("environment")&&this.records.set(Zl,jc(void 0,this));const _=this.records.get(u_);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(VC.multi,nt,He.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();for(const c of this._onDestroyHooks)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(c){this._onDestroyHooks.push(c)}runInContext(c){this.assertNotDestroyed();const l=M(this),d=ar(void 0);try{return c()}finally{M(l),ar(d)}}get(c,l=En,d=He.Default){this.assertNotDestroyed();const f=M(this),_=ar(void 0);try{if(!(d&He.SkipSelf)){let w=this.records.get(c);if(void 0===w){const T=function yS(a){return"function"==typeof a||"object"==typeof a&&a instanceof vn}(c)&&eo(c);w=T&&this.injectableDefInScope(T)?jc(Hv(c),rd):null,this.records.set(c,w)}if(null!=w)return this.hydrate(c,w)}return(d&He.Self?Bl():this.parent).get(c,l=d&He.Optional&&l===En?null:l)}catch(b){if("NullInjectorError"===b.name){if((b[Ac]=b[Ac]||[]).unshift(Q(c)),f)throw b;return function mt(a,c,l,d){const f=a[Ac];throw c[pr]&&f.unshift(c[pr]),a.message=function kt(a,c,l,d=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let f=Q(c);if(Array.isArray(c))f=c.map(Q).join(" -> ");else if("object"==typeof c){let _=[];for(let b in c)if(c.hasOwnProperty(b)){let w=c[b];_.push(b+":"+("string"==typeof w?JSON.stringify(w):Q(w)))}f=`{${_.join(", ")}}`}return`${l}${d?"("+d+")":""}[${f}]: ${a.replace(gh,"\n  ")}`}("\n"+a.message,f,l,d),a.ngTokenPath=f,a[Ac]=null,a}(b,c,"R3InjectorError",this.source)}throw b}finally{ar(_),M(f)}}resolveInjectorInitializers(){const c=M(this),l=ar(void 0);try{const d=this.get(Lv.multi,nt,He.Self);for(const f of d)f()}finally{M(c),ar(l)}}toString(){const c=[],l=this.records;for(const d of l.keys())c.push(Q(d));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new De(205,!1)}processProvider(c){let l=Na(c=$(c))?c:$(c&&c.provide);const d=function gS(a){return Zv(a)?jc(void 0,a.useValue):jc(GC(a),rd)}(c);if(Na(c)||!0!==c.multi)this.records.get(l);else{let f=this.records.get(l);f||(f=jc(void 0,rd,!0),f.factory=()=>_e(f.multi),this.records.set(l,f)),l=c,f.multi.push(c)}this.records.set(l,d)}hydrate(c,l){return l.value===rd&&(l.value=d_,l.value=l.factory()),"object"==typeof l.value&&l.value&&function _S(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(c){if(!c.providedIn)return!1;const l=$(c.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function Hv(a){const c=eo(a),l=null!==c?c.factory:oo(a);if(null!==l)return l;if(a instanceof vn)throw new De(204,!1);if(a instanceof Function)return function pS(a){const c=a.length;if(c>0)throw ji(c,"?"),new De(204,!1);const l=function on(a){const c=a&&(a[$r]||a[Ae]);if(c){const l=function Rn(a){if(a.hasOwnProperty("name"))return a.name;const c=(""+a).match(/^function\s*([^\s(]+)/);return null===c?"":c[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),c}return null}(a);return null!==l?()=>l.factory(a):()=>new a}(a);throw new De(204,!1)}function GC(a,c,l){let d;if(Na(a)){const f=$(a);return oo(f)||Hv(f)}if(Zv(a))d=()=>$(a.useValue);else if(function ZC(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(..._e(a.deps||[]));else if(function BC(a){return!(!a||!a.useExisting)}(a))d=()=>U($(a.useExisting));else{const f=$(a&&(a.useClass||a.provide));if(!function mS(a){return!!a.deps}(a))return oo(f)||Hv(f);d=()=>new f(..._e(a.deps))}return d}function jc(a,c,l=!1){return{factory:a,value:c,multi:l?[]:void 0}}function vS(a){return!!a.\u0275providers}function jv(a,c){for(const l of a)Array.isArray(l)?jv(l,c):vS(l)?jv(l.\u0275providers,c):c(l)}class $C{}class zC{resolveComponentFactory(c){throw function qC(a){const c=Error(`No component factory found for ${Q(a)}. Did you add it to @NgModule.entryComponents?`);return c.ngComponent=a,c}(c)}}let Zh=(()=>{class a{}return a.NULL=new zC,a})();function KC(){return id(Kn(),we())}function id(a,c){return new Zp(jn(a,c))}let Zp=(()=>{class a{constructor(l){this.nativeElement=l}}return a.__NG_ELEMENT_ID__=KC,a})();function wS(a){return a instanceof Zp?a.nativeElement:a}class YC{}let DS=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function TS(){const a=we(),l=cn(Kn().index,a);return(Ir(l)?l:a)[11]}(),a})(),QC=(()=>{class a{}return a.\u0275prov=bn({token:a,providedIn:"root",factory:()=>null}),a})();class f_{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const Gv=new f_("14.2.12"),p_={};function $v(a){return a.ngOriginalError}class Hp{constructor(){this._console=console}handleError(c){const l=this._findOriginalError(c);this._console.error("ERROR",c),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(c){let l=c&&$v(c);for(;l&&$v(l);)l=$v(l);return l||null}}function m_(a){return a.ownerDocument.defaultView}function $c(a){return a instanceof Function?a():a}function ew(a,c,l){let d=a.length;for(;;){const f=a.indexOf(c,l);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const _=c.length;if(f+_===d||a.charCodeAt(f+_)<=32)return f}l=f+1}}const ka="ng-template";function Ra(a,c,l){let d=0;for(;d<a.length;){let f=a[d++];if(l&&"class"===f){if(f=a[d],-1!==ew(f.toLowerCase(),c,0))return!0}else if(1===f){for(;d<a.length&&"string"==typeof(f=a[d++]);)if(f.toLowerCase()===c)return!0;return!1}}return!1}function tw(a){return 4===a.type&&a.value!==ka}function PS(a,c,l){return c===(4!==a.type||l?a.value:ka)}function nw(a,c,l){let d=4;const f=a.attrs||[],_=function iw(a){for(let c=0;c<a.length;c++)if(Tl(a[c]))return c;return a.length}(f);let b=!1;for(let w=0;w<c.length;w++){const T=c[w];if("number"!=typeof T){if(!b)if(4&d){if(d=2|1&d,""!==T&&!PS(a,T,l)||""===T&&1===c.length){if(Fa(d))return!1;b=!0}}else{const x=8&d?T:c[++w];if(8&d&&null!==a.attrs){if(!Ra(a.attrs,x,l)){if(Fa(d))return!1;b=!0}continue}const B=y2(8&d?"class":T,f,tw(a),l);if(-1===B){if(Fa(d))return!1;b=!0;continue}if(""!==x){let W;W=B>_?"":f[B+1].toLowerCase();const re=8&d?W:null;if(re&&-1!==ew(re,x,0)||2&d&&x!==W){if(Fa(d))return!1;b=!0}}}}else{if(!b&&!Fa(d)&&!Fa(T))return!1;if(b&&Fa(T))continue;b=!1,d=T|1&d}}return Fa(d)||b}function Fa(a){return 0==(1&a)}function y2(a,c,l,d){if(null===c)return-1;let f=0;if(d||!l){let _=!1;for(;f<c.length;){const b=c[f];if(b===a)return f;if(3===b||6===b)_=!0;else{if(1===b||2===b){let w=c[++f];for(;"string"==typeof w;)w=c[++f];continue}if(4===b)break;if(0===b){f+=4;continue}}f+=_?1:2}return-1}return function __(a,c){let l=a.indexOf(4);if(l>-1)for(l++;l<a.length;){const d=a[l];if("number"==typeof d)return-1;if(d===c)return l;l++}return-1}(c,a)}function rw(a,c,l=!1){for(let d=0;d<c.length;d++)if(nw(a,c[d],l))return!0;return!1}function v2(a,c){e:for(let l=0;l<c.length;l++){const d=c[l];if(a.length===d.length){for(let f=0;f<a.length;f++)if(a[f]!==d[f])continue e;return!0}}return!1}function Kv(a,c){return a?":not("+c.trim()+")":c}function Hh(a){let c=a[0],l=1,d=2,f="",_=!1;for(;l<a.length;){let b=a[l];if("string"==typeof b)if(2&d){const w=a[++l];f+="["+b+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?f+="."+b:4&d&&(f+=" "+b);else""!==f&&!Fa(b)&&(c+=Kv(_,f),f=""),d=b,_=_||!Fa(d);l++}return""!==f&&(c+=Kv(_,f)),c}const Mt={};function Qv(a){y_(Bt(),we(),ur()+a,!1)}function y_(a,c,l,d){if(!d)if(3==(3&c[2])){const _=a.preOrderCheckHooks;null!==_&&xs(c,_,l)}else{const _=a.preOrderHooks;null!==_&&So(c,_,0,l)}ao(l)}function sw(a,c=null,l=null,d){const f=aw(a,c,l,d);return f.resolveInjectorInitializers(),f}function aw(a,c=null,l=null,d,f=new Set){const _=[l||nt,hS(a)];return d=d||("object"==typeof a?void 0:Q(a)),new jC(_,c||Bl(),d||null,f)}let La=(()=>{class a{static create(l,d){if(Array.isArray(l))return sw({name:""},d,l,"");{const f=l.name??"";return sw({name:f},l.parent,l.providers,f)}}}return a.THROW_IF_NOT_FOUND=En,a.NULL=new Uv,a.\u0275prov=bn({token:a,providedIn:"any",factory:()=>U(UC)}),a.__NG_ELEMENT_ID__=-1,a})();function ad(a,c=He.Default){const l=we();return null===l?U(a,c):Tc(Kn(),l,$(a),c)}function o0(){throw new Error("invalid")}function $p(a,c){return a<<17|c<<2}function hs(a){return a>>17&32767}function Gh(a){return 2|a}function Va(a){return(131068&a)>>2}function C_(a,c){return-131069&a|c<<2}function w_(a){return 1|a}function I_(a,c){const l=a.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const f=l[d],_=l[d+1];if(-1!==_){const b=a.data[_];ma(f),b.contentQueries(2,c[_],_)}}}function Yp(a,c,l,d,f,_,b,w,T,x,N){const B=c.blueprint.slice();return B[0]=f,B[2]=76|d,(null!==N||a&&1024&a[2])&&(B[2]|=1024),bu(B),B[3]=B[15]=a,B[8]=l,B[10]=b||a&&a[10],B[11]=w||a&&a[11],B[12]=T||a&&a[12]||null,B[9]=x||a&&a[9]||null,B[6]=_,B[20]=function Rc(){return Dh++}(),B[21]=N,B[16]=2==c.type?a[16]:B,B}function Wc(a,c,l,d,f){let _=a.data[c];if(null===_)_=S_(a,c,l,d,f),function Kd(){return Ct.lFrame.inI18n}()&&(_.flags|=64);else if(64&_.type){_.type=l,_.value=d,_.attrs=f;const b=_l();_.injectorIndex=null===b?-1:b.injectorIndex}return li(_,!0),_}function S_(a,c,l,d,f){const _=fc(),b=pc(),T=a.data[c]=function A_(a,c,l,d,f,_){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?_:_&&_.parent,l,c,d,f);return null===a.firstChild&&(a.firstChild=T),null!==_&&(b?null==_.child&&null!==T.parent&&(_.child=T):null===_.next&&(_.next=T)),T}function ld(a,c,l,d){if(0===l)return-1;const f=c.length;for(let _=0;_<l;_++)c.push(d),a.blueprint.push(d),a.data.push(null);return f}function Wh(a,c,l){bl(c);try{const d=a.viewQuery;null!==d&&w0(1,d,l);const f=a.template;null!==f&&tM(a,c,f,1,l),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&I_(a,c),a.staticViewQueries&&w0(2,a.viewQuery,l);const _=a.components;null!==_&&function _0(a,c){for(let l=0;l<c.length;l++)pM(a,c[l])}(c,_)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{c[2]&=-5,Io()}}function Gl(a,c,l,d){const f=c[2];if(128!=(128&f)){bl(c);try{bu(c),function pa(a){return Ct.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==l&&tM(a,c,l,2,d);const b=3==(3&f);if(b){const x=a.preOrderCheckHooks;null!==x&&xs(c,x,null)}else{const x=a.preOrderHooks;null!==x&&So(c,x,0,null),Ou(c,0)}if(function O2(a){for(let c=vp(a);null!==c;c=Fs(c)){if(!c[2])continue;const l=c[9];for(let d=0;d<l.length;d++){const f=l[d],_=f[3];0==(512&f[2])&&zn(_,1),f[2]|=512}}}(c),function x2(a){for(let c=vp(a);null!==c;c=Fs(c))for(let l=10;l<c.length;l++){const d=c[l],f=d[1];ai(d)&&Gl(f,d,f.template,d[8])}}(c),null!==a.contentQueries&&I_(a,c),b){const x=a.contentCheckHooks;null!==x&&xs(c,x)}else{const x=a.contentHooks;null!==x&&So(c,x,1),Ou(c,1)}!function Kp(a,c){const l=a.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const f=l[d];if(f<0)ao(~f);else{const _=f,b=l[++d],w=l[++d];Yd(b,_),w(2,c[_])}}}finally{ao(-1)}}(a,c);const w=a.components;null!==w&&function gw(a,c){for(let l=0;l<c.length;l++)fM(a,c[l])}(c,w);const T=a.viewQuery;if(null!==T&&w0(2,T,d),b){const x=a.viewCheckHooks;null!==x&&xs(c,x)}else{const x=a.viewHooks;null!==x&&So(c,x,2),Ou(c,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),c[2]&=-41,512&c[2]&&(c[2]&=-513,zn(c[3],-1))}finally{Io()}}}function tM(a,c,l,d,f){const _=ur(),b=2&d;try{ao(-1),b&&c.length>22&&y_(a,c,22,!1),l(d,f)}finally{ao(_)}}function nM(a,c,l){if(ll(c)){const f=c.directiveEnd;for(let _=c.directiveStart;_<f;_++){const b=a.data[_];b.contentQueries&&b.contentQueries(1,l[_],_)}}}function M_(a,c,l){!es()||(function aM(a,c,l,d){const f=l.directiveStart,_=l.directiveEnd;a.firstCreatePass||xo(l,c),xr(d,c);const b=l.initialInputs;for(let w=f;w<_;w++){const T=a.data[w],x=yi(T);x&&Cw(c,l,T);const N=rs(c,a,w,l);xr(N,c),null!==b&&dM(0,w-f,N,T,0,b),x&&(cn(l.index,c)[8]=N)}}(a,c,l,jn(l,c)),128==(128&l.flags)&&function bw(a,c,l){const d=l.directiveStart,f=l.directiveEnd,_=l.index,b=function np(){return Ct.lFrame.currentDirectiveIndex}();try{ao(_);for(let w=d;w<f;w++){const T=a.data[w],x=c[w];ga(w),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&N_(T,x)}}finally{ao(-1),ga(b)}}(a,c,l))}function mw(a,c,l=jn){const d=c.localNames;if(null!==d){let f=c.index+1;for(let _=0;_<d.length;_+=2){const b=d[_+1],w=-1===b?l(c,a):a[b];a[f++]=w}}}function Qp(a){const c=a.tView;return null===c||c.incompleteFirstPass?a.tView=ud(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):c}function ud(a,c,l,d,f,_,b,w,T,x){const N=22+d,B=N+f,W=function x_(a,c){const l=[];for(let d=0;d<c;d++)l.push(d<a?null:Mt);return l}(N,B),re="function"==typeof x?x():x;return W[1]={type:a,blueprint:W,template:l,queries:null,viewQuery:w,declTNode:c,data:W.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:B,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:T,consts:re,incompleteFirstPass:!1}}function O_(a,c,l,d){const f=D0(c);null===l?f.push(d):(f.push(l),a.firstCreatePass&&Ew(a).push(d,f.length-1))}function _w(a,c,l){for(let d in a)if(a.hasOwnProperty(d)){const f=a[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(c,f):l[d]=[c,f]}return l}function yw(a,c){const d=c.directiveEnd,f=a.data,_=c.attrs,b=[];let w=null,T=null;for(let x=c.directiveStart;x<d;x++){const N=f[x],B=N.inputs,W=null===_||tw(c)?null:Dw(B,_);b.push(W),w=_w(B,x,w),T=_w(N.outputs,x,T)}null!==w&&(w.hasOwnProperty("class")&&(c.flags|=16),w.hasOwnProperty("style")&&(c.flags|=32)),c.initialInputs=b,c.inputs=w,c.outputs=T}function Lo(a,c,l,d,f,_,b,w){const T=jn(c,l);let N,x=c.inputs;!w&&null!=x&&(N=x[d])?(L_(a,l,N,d,f),ul(c)&&v0(l,c.index)):3&c.type&&(d=function vw(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),f=null!=b?b(f,c.value||"",d):f,_.setProperty(T,d,f))}function v0(a,c){const l=cn(c,a);16&l[2]||(l[2]|=32)}function P_(a,c,l,d){let f=!1;if(es()){const _=function cM(a,c,l){const d=a.directiveRegistry;let f=null;if(d)for(let _=0;_<d.length;_++){const b=d[_];rw(l,b.selectors,!1)&&(f||(f=[]),Os(xo(l,c),a,b.type),yi(b)?(lM(a,l),f.unshift(b)):f.push(b))}return f}(a,c,l),b=null===d?null:{"":-1};if(null!==_){f=!0,dd(l,a.data.length,_.length);for(let N=0;N<_.length;N++){const B=_[N];B.providersResolver&&B.providersResolver(B)}let w=!1,T=!1,x=ld(a,c,_.length,null);for(let N=0;N<_.length;N++){const B=_[N];l.mergedAttrs=ba(l.mergedAttrs,B.hostAttrs),C0(a,l,c,x,B),Jp(x,B,b),null!==B.contentQueries&&(l.flags|=8),(null!==B.hostBindings||null!==B.hostAttrs||0!==B.hostVars)&&(l.flags|=128);const W=B.type.prototype;!w&&(W.ngOnChanges||W.ngOnInit||W.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(l.index),w=!0),!T&&(W.ngOnChanges||W.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(l.index),T=!0),x++}yw(a,l)}b&&function uM(a,c,l){if(c){const d=a.localNames=[];for(let f=0;f<c.length;f+=2){const _=l[c[f+1]];if(null==_)throw new De(-301,!1);d.push(c[f],_)}}}(l,d,b)}return l.mergedAttrs=ba(l.mergedAttrs,l.attrs),f}function sM(a,c,l,d,f,_){const b=_.hostBindings;if(b){let w=a.hostBindingOpCodes;null===w&&(w=a.hostBindingOpCodes=[]);const T=~c.index;(function b0(a){let c=a.length;for(;c>0;){const l=a[--c];if("number"==typeof l&&l<0)return l}return 0})(w)!=T&&w.push(T),w.push(d,f,b)}}function N_(a,c){null!==a.hostBindings&&a.hostBindings(1,c)}function lM(a,c){c.flags|=2,(a.components||(a.components=[])).push(c.index)}function Jp(a,c,l){if(l){if(c.exportAs)for(let d=0;d<c.exportAs.length;d++)l[c.exportAs[d]]=a;yi(c)&&(l[""]=a)}}function dd(a,c,l){a.flags|=1,a.directiveStart=c,a.directiveEnd=c+l,a.providerIndexes=c}function C0(a,c,l,d,f){a.data[d]=f;const _=f.factory||(f.factory=oo(f.type)),b=new ya(_,yi(f),ad);a.blueprint[d]=b,l[d]=b,sM(a,c,0,d,ld(a,l,f.hostVars,Mt),f)}function Cw(a,c,l){const d=jn(c,a),f=Qp(l),_=a[10],b=$l(a,Yp(a,f,null,l.onPush?32:16,d,c,_,_.createRenderer(d,l),null,null,null));a[c.index]=b}function ww(a,c,l,d,f,_,b){if(null==_)a.removeAttribute(c,f,l);else{const w=null==b?he(_):b(_,d||"",f);a.setAttribute(c,f,w,l)}}function dM(a,c,l,d,f,_){const b=_[c];if(null!==b){const w=d.setInput;for(let T=0;T<b.length;){const x=b[T++],N=b[T++],B=b[T++];null!==w?d.setInput(l,B,x,N):l[N]=B}}}function Dw(a,c){let l=null,d=0;for(;d<c.length;){const f=c[d];if(0!==f)if(5!==f){if("number"==typeof f)break;a.hasOwnProperty(f)&&(null===l&&(l=[]),l.push(f,a[f],c[d+1])),d+=2}else d+=2;else d+=4}return l}function hM(a,c,l,d){return new Array(a,!0,!1,c,null,0,d,l,null,null)}function fM(a,c){const l=cn(c,a);if(ai(l)){const d=l[1];48&l[2]?Gl(d,l,d.template,l[8]):l[5]>0&&k_(l)}}function k_(a){for(let d=vp(a);null!==d;d=Fs(d))for(let f=10;f<d.length;f++){const _=d[f];if(ai(_))if(512&_[2]){const b=_[1];Gl(b,_,b.template,_[8])}else _[5]>0&&k_(_)}const l=a[1].components;if(null!==l)for(let d=0;d<l.length;d++){const f=cn(l[d],a);ai(f)&&f[5]>0&&k_(f)}}function pM(a,c){const l=cn(c,a),d=l[1];(function Tw(a,c){for(let l=c.length;l<a.blueprint.length;l++)c.push(a.blueprint[l])})(d,l),Wh(d,l,l[8])}function $l(a,c){return a[13]?a[14][4]=c:a[13]=c,a[14]=c,c}function Hs(a){for(;a;){a[2]|=32;const c=Gu(a);if(lr(a)&&!c)return a;a=c}return null}function R_(a,c,l,d=!0){const f=c[10];f.begin&&f.begin();try{Gl(a,c,a.template,l)}catch(b){throw d&&Iw(c,b),b}finally{f.end&&f.end()}}function w0(a,c,l){ma(0),c(a,l)}function D0(a){return a[7]||(a[7]=[])}function Ew(a){return a.cleanup||(a.cleanup=[])}function Iw(a,c){const l=a[9],d=l?l.get(Hp,null):null;d&&d.handleError(c)}function L_(a,c,l,d,f){for(let _=0;_<l.length;){const b=l[_++],w=l[_++],T=c[b],x=a.data[b];null!==x.setInput?x.setInput(T,f,d,w):T[w]=f}}function js(a,c,l){const d=vi(c,a);qm(a[11],d,l)}function U_(a,c,l){let d=l?a.styles:null,f=l?a.classes:null,_=0;if(null!==c)for(let b=0;b<c.length;b++){const w=c[b];"number"==typeof w?_=w:1==_?f=J(f,w):2==_&&(d=J(d,w+": "+c[++b]+";"))}l?a.styles=d:a.stylesWithoutHost=d,l?a.classes=f:a.classesWithoutHost=f}function Xp(a,c,l,d,f=!1){for(;null!==l;){const _=c[l.index];if(null!==_&&d.push(Hn(_)),_i(_))for(let w=10;w<_.length;w++){const T=_[w],x=T[1].firstChild;null!==x&&Xp(T[1],T,x,d)}const b=l.type;if(8&b)Xp(a,c,l.child,d);else if(32&b){const w=ju(l,c);let T;for(;T=w();)d.push(T)}else if(16&b){const w=e_(c,l);if(Array.isArray(w))d.push(...w);else{const T=Gu(c[16]);Xp(T[1],T,w,d,!0)}}l=f?l.projectionNext:l.next}return d}class eg{constructor(c,l){this._lView=c,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const c=this._lView,l=c[1];return Xp(l,c,l.firstChild,[])}get context(){return this._lView[8]}set context(c){this._lView[8]=c}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[3];if(_i(c)){const l=c[8],d=l?l.indexOf(this):-1;d>-1&&(Fl(c,d),Po(l,d))}this._attachedToViewContainer=!1}Ym(this._lView[1],this._lView)}onDestroy(c){O_(this._lView[1],this._lView,null,c)}markForCheck(){Hs(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){R_(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new De(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Wm(a,c){Vc(a,c,c[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new De(902,!1);this._appRef=c}}class ql extends eg{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;R_(c[1],c,c[8],!1)}checkNoChanges(){}get context(){return null}}class T0 extends Zh{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const l=te(c);return new zh(l,this.ngModule)}}function V_(a){const c=[];for(let l in a)a.hasOwnProperty(l)&&c.push({propName:a[l],templateName:l});return c}class E0{constructor(c,l){this.injector=c,this.parentInjector=l}get(c,l,d){const f=this.injector.get(c,p_,d);return f!==p_||l===p_?f:this.parentInjector.get(c,l,d)}}class zh extends $C{constructor(c,l){super(),this.componentDef=c,this.ngModule=l,this.componentType=c.type,this.selector=function Yv(a){return a.map(Hh).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return V_(this.componentDef.inputs)}get outputs(){return V_(this.componentDef.outputs)}create(c,l,d,f){let _=(f=f||this.ngModule)instanceof Zl?f:f?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const b=_?new E0(c,_):c,w=b.get(YC,null);if(null===w)throw new De(407,!1);const T=b.get(QC,null),x=w.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",B=d?function rM(a,c,l){return a.selectRootElement(c,l===lt.ShadowDom)}(x,d,this.componentDef.encapsulation):Us(x,N,function mM(a){const c=a.toLowerCase();return"svg"===c?"svg":"math"===c?"math":null}(N)),W=this.componentDef.onPush?288:272,re=ud(0,null,null,1,0,null,null,null,null,null),ge=Yp(null,re,null,W,null,null,w,x,T,b,null);let Ue,je;bl(ge);try{const ct=function bM(a,c,l,d,f,_){const b=l[1];l[22]=a;const T=Wc(b,22,2,"#host",null),x=T.mergedAttrs=c.hostAttrs;null!==x&&(U_(T,x,!0),null!==a&&(ts(f,a,x),null!==T.classes&&ds(f,a,T.classes),null!==T.styles&&ko(f,a,T.styles)));const N=d.createRenderer(a,c),B=Yp(l,Qp(c),null,c.onPush?32:16,l[22],T,d,N,_||null,null,null);return b.firstCreatePass&&(Os(xo(T,l),b,c.type),lM(b,T),dd(T,l.length,1)),$l(l,B),l[22]=B}(B,this.componentDef,ge,w,x);if(B)if(d)ts(x,B,["ng-version",Gv.full]);else{const{attrs:pt,classes:Ee}=function b2(a){const c=[],l=[];let d=1,f=2;for(;d<a.length;){let _=a[d];if("string"==typeof _)2===f?""!==_&&c.push(_,a[++d]):8===f&&l.push(_);else{if(!Fa(f))break;f=_}d++}return{attrs:c,classes:l}}(this.componentDef.selectors[0]);pt&&ts(x,B,pt),Ee&&Ee.length>0&&ds(x,B,Ee.join(" "))}if(je=uc(re,22),void 0!==l){const pt=je.projection=[];for(let Ee=0;Ee<this.ngContentSelectors.length;Ee++){const bt=l[Ee];pt.push(null!=bt?Array.from(bt):null)}}Ue=function Yh(a,c,l,d){const f=l[1],_=function oM(a,c,l){const d=Kn();a.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),C0(a,d,c,ld(a,c,1,null),l),yw(a,d));const f=rs(c,a,d.directiveStart,d);xr(f,c);const _=jn(d,c);return _&&xr(_,c),f}(f,l,c);if(a[8]=l[8]=_,null!==d)for(const w of d)w(_,c);if(c.contentQueries){const w=Kn();c.contentQueries(1,_,w.directiveStart)}const b=Kn();return!f.firstCreatePass||null===c.hostBindings&&null===c.hostAttrs||(ao(b.index),sM(l[1],b,0,b.directiveStart,b.directiveEnd,c),N_(c,_)),_}(ct,this.componentDef,ge,[tg]),Wh(re,ge,null)}finally{Io()}return new yM(this.componentType,Ue,id(je,ge),ge,je)}}class yM extends class bS{}{constructor(c,l,d,f,_){super(),this.location=d,this._rootLView=f,this._tNode=_,this.instance=l,this.hostView=this.changeDetectorRef=new ql(f),this.componentType=c}setInput(c,l){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[c])){const _=this._rootLView;L_(_[1],_,f,c,l),v0(_,this._tNode.index)}}get injector(){return new Ao(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function tg(){const a=Kn();_a(we()[1],a)}function B_(a){let c=function Sw(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),l=!0;const d=[a];for(;c;){let f;if(yi(a))f=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new De(903,!1);f=c.\u0275dir}if(f){if(l){d.push(f);const b=a;b.inputs=Mw(a.inputs),b.declaredInputs=Mw(a.declaredInputs),b.outputs=Mw(a.outputs);const w=f.hostBindings;w&&xw(a,w);const T=f.viewQuery,x=f.contentQueries;if(T&&I0(a,T),x&&ng(a,x),se(a.inputs,f.inputs),se(a.declaredInputs,f.declaredInputs),se(a.outputs,f.outputs),yi(f)&&f.data.animation){const N=a.data;N.animation=(N.animation||[]).concat(f.data.animation)}}const _=f.features;if(_)for(let b=0;b<_.length;b++){const w=_[b];w&&w.ngInherit&&w(a),w===B_&&(l=!1)}}c=Object.getPrototypeOf(c)}!function CM(a){let c=0,l=null;for(let d=a.length-1;d>=0;d--){const f=a[d];f.hostVars=c+=f.hostVars,f.hostAttrs=ba(f.hostAttrs,l=ba(l,f.hostAttrs))}}(d)}function Mw(a){return a===pi?{}:a===nt?[]:a}function I0(a,c){const l=a.viewQuery;a.viewQuery=l?(d,f)=>{c(d,f),l(d,f)}:c}function ng(a,c){const l=a.contentQueries;a.contentQueries=l?(d,f,_)=>{c(d,f,_),l(d,f,_)}:c}function xw(a,c){const l=a.hostBindings;a.hostBindings=l?(d,f)=>{c(d,f),l(d,f)}:c}let rg=null;function fd(){if(!rg){const a=Qt.Symbol;if(a&&a.iterator)rg=a.iterator;else{const c=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<c.length;++l){const d=c[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(rg=d)}}}return rg}function ig(a){return!!Z_(a)&&(Array.isArray(a)||!(a instanceof Map)&&fd()in a)}function Z_(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Gs(a,c,l){return a[c]=l}function Di(a,c,l){return!Object.is(a[c],l)&&(a[c]=l,!0)}function pd(a,c,l,d){const f=Di(a,c,l);return Di(a,c+1,d)||f}function H_(a,c,l,d){const f=we();return Di(f,Ss(),c)&&(Bt(),function _o(a,c,l,d,f,_){const b=jn(a,c);ww(c[11],b,_,a.value,l,d,f)}(Tn(),f,a,c,l,d)),H_}function cg(a,c,l,d){return Di(a,Ss(),l)?c+he(l)+d:Mt}function Aw(a,c,l,d,f,_,b,w){const T=we(),x=Bt(),N=a+22,B=x.firstCreatePass?function xM(a,c,l,d,f,_,b,w,T){const x=c.consts,N=Wc(c,a,4,b||null,zr(x,w));P_(c,l,N,zr(x,T)),_a(c,N);const B=N.tViews=ud(2,N,d,f,_,c.directiveRegistry,c.pipeRegistry,null,c.schemas,x);return null!==c.queries&&(c.queries.template(c,N),B.queries=c.queries.embeddedTView(N)),N}(N,x,T,c,l,d,f,_,b):x.data[N];li(B,!1);const W=T[11].createComment("");kh(x,T,W,B),xr(W,T),$l(T,T[N]=hM(W,T,W,B)),mu(B)&&M_(x,T,B),null!=b&&mw(T,B,w)}function Pw(a){return Zi(function gc(){return Ct.lFrame.contextLView}(),22+a)}function j_(a,c,l){const d=we();return Di(d,Ss(),c)&&Lo(Bt(),Tn(),d,a,c,d[11],l,!1),j_}function Jh(a,c,l,d,f){const b=f?"class":"style";L_(a,l,c.inputs[b],b,d)}function A0(a,c,l,d){const f=we(),_=Bt(),b=22+a,w=f[11],T=f[b]=Us(w,c,function wl(){return Ct.lFrame.currentNamespace}()),x=_.firstCreatePass?function Kl(a,c,l,d,f,_,b){const w=c.consts,x=Wc(c,a,2,f,zr(w,_));return P_(c,l,x,zr(w,b)),null!==x.attrs&&U_(x,x.attrs,!1),null!==x.mergedAttrs&&U_(x,x.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,x),x}(b,_,f,0,c,l,d):_.data[b];li(x,!0);const N=x.mergedAttrs;null!==N&&ts(w,T,N);const B=x.classes;null!==B&&ds(w,T,B);const W=x.styles;return null!==W&&ko(w,T,W),64!=(64&x.flags)&&kh(_,f,T,x),0===function wu(){return Ct.lFrame.elementDepthCount}()&&xr(T,f),function dc(){Ct.lFrame.elementDepthCount++}(),mu(x)&&(M_(_,f,x),nM(_,x,f)),null!==d&&mw(f,x),A0}function G_(){let a=Kn();pc()?fa():(a=a.parent,li(a,!1));const c=a;!function ml(){Ct.lFrame.elementDepthCount--}();const l=Bt();return l.firstCreatePass&&(_a(l,a),ll(a)&&l.queries.elementEnd(a)),null!=c.classesWithoutHost&&function va(a){return 0!=(16&a.flags)}(c)&&Jh(l,c,we(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function Xd(a){return 0!=(32&a.flags)}(c)&&Jh(l,c,we(),c.stylesWithoutHost,!1),G_}function P0(a,c,l,d){return A0(a,c,l,d),G_(),P0}function hg(a,c,l){const d=we(),f=Bt(),_=a+22,b=f.firstCreatePass?function Nw(a,c,l,d,f){const _=c.consts,b=zr(_,d),w=Wc(c,a,8,"ng-container",b);return null!==b&&U_(w,b,!0),P_(c,l,w,zr(_,f)),null!==c.queries&&c.queries.elementStart(c,w),w}(_,f,d,c,l):f.data[_];li(b,!0);const w=d[_]=d[11].createComment("");return kh(f,d,w,b),xr(w,d),mu(b)&&(M_(f,d,b),nM(f,b,d)),null!=l&&mw(d,b),hg}function fg(){let a=Kn();const c=Bt();return pc()?fa():(a=a.parent,li(a,!1)),c.firstCreatePass&&(_a(c,a),ll(a)&&c.queries.elementEnd(a)),fg}function Xh(){return we()}function yr(a){return!!a&&"function"==typeof a.then}function $_(a){return!!a&&"function"==typeof a.subscribe}const q_=$_;function ef(a,c,l,d){const f=we(),_=Bt(),b=Kn();return function _d(a,c,l,d,f,_,b,w){const T=mu(d),N=a.firstCreatePass&&Ew(a),B=c[8],W=D0(c);let re=!0;if(3&d.type||w){const je=jn(d,c),ct=w?w(je):je,pt=W.length,Ee=w?pn=>w(Hn(pn[d.index])):d.index;let bt=null;if(!w&&T&&(bt=function k0(a,c,l,d){const f=a.cleanup;if(null!=f)for(let _=0;_<f.length-1;_+=2){const b=f[_];if(b===l&&f[_+1]===d){const w=c[7],T=f[_+2];return w.length>T?w[T]:null}"string"==typeof b&&(_+=2)}return null}(a,c,f,d.index)),null!==bt)(bt.__ngLastListenerFn__||bt).__ngNextListenerFn__=_,bt.__ngLastListenerFn__=_,re=!1;else{_=pg(d,c,B,_,!1);const pn=l.listen(ct,f,_);W.push(_,pn),N&&N.push(f,Ee,pt,pt+1)}}else _=pg(d,c,B,_,!1);const ge=d.outputs;let Ue;if(re&&null!==ge&&(Ue=ge[f])){const je=Ue.length;if(je)for(let ct=0;ct<je;ct+=2){const $n=c[Ue[ct]][Ue[ct+1]].subscribe(_),tu=W.length;W.push(_,$n),N&&N.push(f,d.index,tu,-(tu+1))}}}(_,f,f[11],b,a,c,0,d),ef}function R0(a,c,l,d){try{return!1!==l(d)}catch(f){return Iw(a,f),!1}}function pg(a,c,l,d,f){return function _(b){if(b===Function)return d;Hs(2&a.flags?cn(a.index,c):c);let T=R0(c,0,d,b),x=_.__ngNextListenerFn__;for(;x;)T=R0(c,0,x,b)&&T,x=x.__ngNextListenerFn__;return f&&!1===T&&(b.preventDefault(),b.returnValue=!1),T}}function Rw(a=1){return function Ms(a){return(Ct.lFrame.contextLView=function Cl(a,c){for(;a>0;)c=c[15],a--;return c}(a,Ct.lFrame.contextLView))[8]}(a)}function P2(a,c){let l=null;const d=function zv(a){const c=a.attrs;if(null!=c){const l=c.indexOf(5);if(0==(1&l))return c[l+1]}return null}(a);for(let f=0;f<c.length;f++){const _=c[f];if("*"!==_){if(null===d?rw(a,_,!0):v2(d,_))return f}else l=f}return l}function AM(a){const c=we()[16][6];if(!c.projection){const d=c.projection=ji(a?a.length:1,null),f=d.slice();let _=c.child;for(;null!==_;){const b=a?P2(_,a):0;null!==b&&(f[b]?f[b].projectionNext=_:d[b]=_,f[b]=_),_=_.next}}}function PM(a,c=0,l){const d=we(),f=Bt(),_=Wc(f,22+a,16,null,l||null);null===_.projection&&(_.projection=c),fa(),64!=(64&_.flags)&&function Rv(a,c,l){Ip(c[11],0,c,l,Nh(a,l,c),Qu(l.parent||c[6],l,c))}(f,d,_)}function Fw(a,c,l){return F0(a,"",c,"",l),Fw}function F0(a,c,l,d,f){const _=we(),b=cg(_,c,l,d);return b!==Mt&&Lo(Bt(),Tn(),_,a,b,_[11],f,!1),F0}function z_(a,c,l,d,f){const _=a[l+1],b=null===c;let w=d?hs(_):Va(_),T=!1;for(;0!==w&&(!1===T||b);){const N=a[w+1];UM(a[w],c)&&(T=!0,a[w+1]=d?w_(N):Gh(N)),w=d?hs(N):Va(N)}T&&(a[l+1]=d?Gh(_):w_(_))}function UM(a,c){return null===a||null==c||(Array.isArray(a)?a[1]:a)===c||!(!Array.isArray(a)||"string"!=typeof c)&&bi(a,c)>=0}const di={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function VM(a){return a.substring(di.key,di.keyEnd)}function ZM(a,c){const l=di.textEnd;return l===c?-1:(c=di.keyEnd=function HM(a,c,l){for(;c<l&&a.charCodeAt(c)>32;)c++;return c}(a,di.key=c,l),tf(a,c,l))}function tf(a,c,l){for(;c<l&&a.charCodeAt(c)<=32;)c++;return c}function K_(a,c,l){return $s(a,c,l,!1),K_}function U0(a,c){return $s(a,c,null,!0),U0}function Gw(a){!function qs(a,c,l,d){const f=Bt(),_=so(2);f.firstUpdatePass&&qw(f,null,_,d);const b=we();if(l!==Mt&&Di(b,_,l)){const w=f.data[ur()];if(Jw(w,d)&&!$w(f,_)){let T=d?w.classesWithoutHost:w.stylesWithoutHost;null!==T&&(l=J(T,l||"")),Jh(f,w,b,l,d)}else!function zw(a,c,l,d,f,_,b,w){f===Mt&&(f=nt);let T=0,x=0,N=0<f.length?f[0]:null,B=0<_.length?_[0]:null;for(;null!==N||null!==B;){const W=T<f.length?f[T+1]:void 0,re=x<_.length?_[x+1]:void 0;let Ue,ge=null;N===B?(T+=2,x+=2,W!==re&&(ge=B,Ue=re)):null===B||null!==N&&N<B?(T+=2,ge=N):(x+=2,ge=B,Ue=re),null!==ge&&Kw(a,c,l,d,ge,Ue,b,w),N=T<f.length?f[T]:null,B=x<_.length?_[x]:null}}(f,w,b,b[11],b[_+1],b[_+1]=function YM(a,c,l){if(null==l||""===l)return nt;const d=[],f=Ro(l);if(Array.isArray(f))for(let _=0;_<f.length;_++)a(d,f[_],!0);else if("object"==typeof f)for(const _ in f)f.hasOwnProperty(_)&&a(d,_,f[_]);else"string"==typeof f&&c(d,f);return d}(a,c,l),d,_)}}(Sr,ja,a,!0)}function ja(a,c){for(let l=function Zw(a){return function Uo(a){di.key=0,di.keyEnd=0,di.value=0,di.valueEnd=0,di.textEnd=a.length}(a),ZM(a,tf(a,0,di.textEnd))}(c);l>=0;l=ZM(c,l))Sr(a,VM(c),!0)}function $s(a,c,l,d){const f=we(),_=Bt(),b=so(2);_.firstUpdatePass&&qw(_,a,b,d),c!==Mt&&Di(f,b,c)&&Kw(_,_.data[ur()],f,f[11],a,f[b+1]=function Qw(a,c){return null==a||("string"==typeof c?a+=c:"object"==typeof a&&(a=Q(Ro(a)))),a}(c,l),d,b)}function $w(a,c){return c>=a.expandoStartIndex}function qw(a,c,l,d){const f=a.data;if(null===f[l+1]){const _=f[ur()],b=$w(a,l);Jw(_,d)&&null===c&&!b&&(c=!1),c=function qM(a,c,l,d){const f=function Tu(a){const c=Ct.lFrame.currentDirectiveIndex;return-1===c?null:a[c]}(a);let _=d?c.residualClasses:c.residualStyles;if(null===f)0===(d?c.classBindings:c.styleBindings)&&(l=gg(l=V0(null,a,c,l,d),c.attrs,d),_=null);else{const b=c.directiveStylingLast;if(-1===b||a[b]!==f)if(l=V0(f,a,c,l,d),null===_){let T=function WM(a,c,l){const d=l?c.classBindings:c.styleBindings;if(0!==Va(d))return a[hs(d)]}(a,c,d);void 0!==T&&Array.isArray(T)&&(T=V0(null,a,c,T[1],d),T=gg(T,c.attrs,d),function zM(a,c,l,d){a[hs(l?c.classBindings:c.styleBindings)]=d}(a,c,d,T))}else _=function KM(a,c,l){let d;const f=c.directiveEnd;for(let _=1+c.directiveStylingLast;_<f;_++)d=gg(d,a[_].hostAttrs,l);return gg(d,c.attrs,l)}(a,c,d)}return void 0!==_&&(d?c.residualClasses=_:c.residualStyles=_),l}(f,_,c,d),function Bw(a,c,l,d,f,_){let b=_?c.classBindings:c.styleBindings,w=hs(b),T=Va(b);a[d]=l;let N,x=!1;if(Array.isArray(l)){const B=l;N=B[1],(null===N||bi(B,N)>0)&&(x=!0)}else N=l;if(f)if(0!==T){const W=hs(a[w+1]);a[d+1]=$p(W,w),0!==W&&(a[W+1]=C_(a[W+1],d)),a[w+1]=function cw(a,c){return 131071&a|c<<17}(a[w+1],d)}else a[d+1]=$p(w,0),0!==w&&(a[w+1]=C_(a[w+1],d)),w=d;else a[d+1]=$p(T,0),0===w?w=d:a[T+1]=C_(a[T+1],d),T=d;x&&(a[d+1]=Gh(a[d+1])),z_(a,N,d,!0),z_(a,N,d,!1),function LM(a,c,l,d,f){const _=f?a.residualClasses:a.residualStyles;null!=_&&"string"==typeof c&&bi(_,c)>=0&&(l[d+1]=w_(l[d+1]))}(c,N,a,d,_),b=$p(w,T),_?c.classBindings=b:c.styleBindings=b}(f,_,c,l,b,d)}}function V0(a,c,l,d,f){let _=null;const b=l.directiveEnd;let w=l.directiveStylingLast;for(-1===w?w=l.directiveStart:w++;w<b&&(_=c[w],d=gg(d,_.hostAttrs,f),_!==a);)w++;return null!==a&&(l.directiveStylingLast=w),d}function gg(a,c,l){const d=l?1:2;let f=-1;if(null!==c)for(let _=0;_<c.length;_++){const b=c[_];"number"==typeof b?f=b:f===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Sr(a,b,!!l||c[++_]))}return void 0===a?null:a}function Kw(a,c,l,d,f,_,b,w){if(!(3&c.type))return;const T=a.data,x=T[w+1];mg(function c0(a){return 1==(1&a)}(x)?Yw(T,c,l,f,Va(x),b):void 0)||(mg(_)||function a0(a){return 2==(2&a)}(x)&&(_=Yw(T,null,l,f,w,b)),function Mp(a,c,l,d,f){if(c)f?a.addClass(l,d):a.removeClass(l,d);else{let _=-1===d.indexOf("-")?void 0:No.DashCase;null==f?a.removeStyle(l,d,_):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),_|=No.Important),a.setStyle(l,d,f,_))}}(d,b,vi(ur(),l),f,_))}function Yw(a,c,l,d,f,_){const b=null===c;let w;for(;f>0;){const T=a[f],x=Array.isArray(T),N=x?T[1]:T,B=null===N;let W=l[f+1];W===Mt&&(W=B?nt:void 0);let re=B?Ia(W,d):N===d?W:void 0;if(x&&!mg(re)&&(re=Ia(T,d)),mg(re)&&(w=re,b))return w;const ge=a[f+1];f=b?hs(ge):Va(ge)}if(null!==c){let T=_?c.residualClasses:c.residualStyles;null!=T&&(w=Ia(T,d))}return w}function mg(a){return void 0!==a}function Jw(a,c){return 0!=(a.flags&(c?16:32))}function QM(a,c=""){const l=we(),d=Bt(),f=a+22,_=d.firstCreatePass?Wc(d,f,1,c,null):d.data[f],b=l[f]=Ls(l[11],c);kh(d,l,b,_),li(_,!1)}function Ai(a){return _g("",a,""),Ai}function _g(a,c,l){const d=we(),f=cg(d,a,c,l);return f!==Mt&&js(d,ur(),f),_g}function B0(a,c,l,d,f){const _=we(),b=function lg(a,c,l,d,f,_){const w=pd(a,Oi(),l,f);return so(2),w?c+he(l)+d+he(f)+_:Mt}(_,a,c,l,d,f);return b!==Mt&&js(_,ur(),b),B0}function $0(a,c,l){const d=we();return Di(d,Ss(),c)&&Lo(Bt(),Tn(),d,a,c,d[11],l,!0),$0}const yd=void 0;var dx=["en",[["a","p"],["AM","PM"],yd],[["AM","PM"],yd,yd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yd,"{1} 'at' {0}",yd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ux(a){const l=Math.floor(Math.abs(a)),d=a.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let zc={};function q0(a){const c=function W0(a){return a.toLowerCase().replace(/_/g,"-")}(a);let l=gs(c);if(l)return l;const d=c.split("-")[0];if(l=gs(d),l)return l;if("en"===d)return dx;throw new De(701,!1)}function yo(a){return q0(a)[at.PluralCase]}function gs(a){return a in zc||(zc[a]=Qt.ng&&Qt.ng.common&&Qt.ng.common.locales&&Qt.ng.common.locales[a]),zc[a]}var at=(()=>((at=at||{})[at.LocaleId=0]="LocaleId",at[at.DayPeriodsFormat=1]="DayPeriodsFormat",at[at.DayPeriodsStandalone=2]="DayPeriodsStandalone",at[at.DaysFormat=3]="DaysFormat",at[at.DaysStandalone=4]="DaysStandalone",at[at.MonthsFormat=5]="MonthsFormat",at[at.MonthsStandalone=6]="MonthsStandalone",at[at.Eras=7]="Eras",at[at.FirstDayOfWeek=8]="FirstDayOfWeek",at[at.WeekendRange=9]="WeekendRange",at[at.DateFormat=10]="DateFormat",at[at.TimeFormat=11]="TimeFormat",at[at.DateTimeFormat=12]="DateTimeFormat",at[at.NumberSymbols=13]="NumberSymbols",at[at.NumberFormats=14]="NumberFormats",at[at.CurrencyCode=15]="CurrencyCode",at[at.CurrencySymbol=16]="CurrencySymbol",at[at.CurrencyName=17]="CurrencyName",at[at.Currencies=18]="Currencies",at[at.Directionality=19]="Directionality",at[at.PluralCase=20]="PluralCase",at[at.ExtraData=21]="ExtraData",at))();const bg=["zero","one","two","few","many"],$a="en-US",Cg={marker:"element"},Yl={marker:"ICU"};var vr=(()=>((vr=vr||{})[vr.SHIFT=2]="SHIFT",vr[vr.APPEND_EAGERLY=1]="APPEND_EAGERLY",vr[vr.COMMENT=2]="COMMENT",vr))();let z0=$a;function uD(a){(function hn(a,c){null==a&&jt(c,a,null,"!=")})(a,"Expected localeId to be defined"),"string"==typeof a&&(z0=a.toLowerCase().replace(/_/g,"-"))}function dD(a,c,l){const d=c.insertBeforeIndex,f=Array.isArray(d)?d[0]:d;return null===f?Jm(a,0,l):Hn(l[f])}function hD(a,c,l,d,f){const _=c.insertBeforeIndex;if(Array.isArray(_)){let b=d,w=null;if(3&c.type||(w=b,b=f),null!==b&&0==(2&c.flags))for(let T=1;T<_.length;T++)ls(a,b,l[_[T]],w,!1)}}function fD(a,c){if(a.push(c),a.length>1)for(let l=a.length-2;l>=0;l--){const d=a[l];pD(d)||mx(d,c)&&null===_x(d)&&yx(d,c.index)}}function pD(a){return!(64&a.type)}function mx(a,c){return pD(c)||a.index>c.index}function _x(a){const c=a.insertBeforeIndex;return Array.isArray(c)?c[0]:c}function yx(a,c){const l=a.insertBeforeIndex;Array.isArray(l)?l[0]=c:(Dp(dD,hD),a.insertBeforeIndex=c)}function wg(a,c){const l=a.data[c];return null===l||"string"==typeof l?null:l.hasOwnProperty("currentCaseLViewIndex")?l:l.value}function _s(a,c,l){const d=S_(a,l,64,null,null);return fD(c,d),d}function sf(a,c){const l=c[a.currentCaseLViewIndex];return null===l?l:l<0?~l:l}function Yc(a){return a>>>17}function Ql(a){return(131070&a)>>>1}let bd=0,cf=0;function gD(a,c,l,d){const f=l[11];let b,_=null;for(let w=0;w<c.length;w++){const T=c[w];if("string"==typeof T){const x=c[++w];null===l[x]&&(l[x]=Ls(f,T))}else if("number"==typeof T)switch(1&T){case 0:const x=Yc(T);let N,B;if(null===_&&(_=x,b=Lc(f,d)),x===_?(N=d,B=b):(N=null,B=Hn(l[x])),null!==B){const Ue=Ql(T);ls(f,B,l[Ue],N,!1);const ct=wg(a,Ue);if(null!==ct&&"object"==typeof ct){const pt=sf(ct,l);null!==pt&&gD(a,ct.create[pt],l,l[ct.anchorIdx])}}break;case 1:const re=c[++w],ge=c[++w];ww(f,vi(T>>>1,l),null,null,re,ge,null)}else switch(T){case Yl:const x=c[++w],N=c[++w];null===l[N]&&xr(l[N]=Wu(f,x),l);break;case Cg:const B=c[++w],W=c[++w];null===l[W]&&xr(l[W]=Us(f,B,null),l)}}}function qa(a,c,l,d,f){for(let _=0;_<l.length;_++){const b=l[_],w=l[++_];if(b&f){let T="";for(let x=_+1;x<=_+w;x++){const N=l[x];if("string"==typeof N)T+=N;else if("number"==typeof N)if(N<0)T+=he(c[d-N]);else{const B=N>>>2;switch(3&N){case 1:const W=l[++x],re=l[++x],ge=a.data[B];"string"==typeof ge?ww(c[11],c[B],null,ge,W,T,re):Lo(a,ge,c,W,T,c[11],re,!1);break;case 0:const Ue=c[B];null!==Ue&&qm(c[11],Ue,T);break;case 2:Wa(a,wg(a,B),c,T);break;case 3:mD(a,wg(a,B),d,c)}}}}else{const T=l[_+1];if(T>0&&3==(3&T)){const N=wg(a,T>>>2);c[N.currentCaseLViewIndex]<0&&mD(a,N,d,c)}}_+=w}}function mD(a,c,l,d){let f=d[c.currentCaseLViewIndex];if(null!==f){let _=bd;f<0&&(f=d[c.currentCaseLViewIndex]=~f,_=-1),qa(a,d,c.update[f],l,_)}}function Wa(a,c,l,d){const f=function Q0(a,c){let l=a.cases.indexOf(c);if(-1===l)switch(a.type){case 1:{const d=function rf(a,c){const l=yo(c)(parseInt(a,10)),d=bg[l];return void 0!==d?d:"other"}(c,function gx(){return z0}());l=a.cases.indexOf(d),-1===l&&"other"!==d&&(l=a.cases.indexOf("other"));break}case 0:l=a.cases.indexOf("other")}return-1===l?null:l}(c,d);if(sf(c,l)!==f&&(Tg(a,c,l),l[c.currentCaseLViewIndex]=null===f?null:~f,null!==f)){const b=l[c.anchorIdx];b&&gD(a,c.create[f],l,b)}}function Tg(a,c,l){let d=sf(c,l);if(null!==d){const f=c.remove[d];for(let _=0;_<f.length;_++){const b=f[_];if(b>0){const w=vi(b,l);null!==w&&Uc(l[11],w)}else Tg(a,wg(a,~b),l)}}}function _D(){const a=[];let l,d,c=-1;function _(w,T){c=0;const x=sf(w,T);d=null!==x?w.remove[x]:nt}function b(){if(c<d.length){const w=d[c++];return w>0?l[w]:(a.push(c,d),_(l[1].data[~w],l),b())}return 0===a.length?null:(d=a.pop(),c=a.pop(),b())}return function f(w,T){for(l=T;a.length;)a.pop();return _(w.value,T),b}}const Eg=/\ufffd(\d+):?\d*\ufffd/gi,bx=/\ufffd(\d+)\ufffd/,X0=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Cx=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,df=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,eb=/\uE500/g;function tb(a,c,l,d,f,_,b){const w=ld(a,d,1,null);let T=w<<vr.SHIFT,x=_l();c===x&&(x=null),null===x&&(T|=vr.APPEND_EAGERLY),b&&(T|=vr.COMMENT,function Pv(a){void 0===kl&&(kl=a())}(_D)),f.push(T,null===_?"":_);const N=S_(a,w,b?32:1,null===_?"":_,null);fD(l,N);const B=N.index;return li(N,!1),null!==x&&c!==x&&function vd(a,c){let l=a.insertBeforeIndex;null===l?(Dp(dD,hD),l=a.insertBeforeIndex=[null,c]):(function Ce(a,c,l){a!=c&&jt(l,a,c,"==")}(Array.isArray(l),!0,"Expecting array here"),l.push(c))}(x,B),N}function bD(a,c,l,d,f,_,b){const w=b.match(Eg),T=tb(a,c,l,_,d,w?null:b,!1);w&&Sg(f,b,T.index,null,0,null)}function Sg(a,c,l,d,f,_){const b=a.length,w=b+1;a.push(null,null);const T=b+2,x=c.split(Eg);let N=0;for(let B=0;B<x.length;B++){const W=x[B];if(1&B){const re=f+parseInt(W,10);a.push(-1-re),N|=CD(re)}else""!==W&&a.push(W)}return a.push(l<<2|(d?1:0)),d&&a.push(d,_),a[b]=N,a[w]=a.length-T,N}function CD(a){return 1<<Math.min(a,31)}function wD(a){let c,_,l="",d=0,f=!1;for(;null!==(c=Cx.exec(a));)f?c[0]===`\ufffd/*${_}\ufffd`&&(d=c.index,f=!1):(l+=a.substring(d,c.index+c[0].length),_=c[1],f=!0);return l+=a.slice(d),l}function DD(a,c,l,d,f,_){let b=0;const w={type:f.type,currentCaseLViewIndex:ld(a,c,1,null),anchorIdx:_,cases:[],create:[],remove:[],update:[]};(function Ix(a,c,l){a.push(CD(c.mainBinding),2,-1-c.mainBinding,l<<2|2)})(l,f,_),function ms(a,c,l){const d=a.data[c];null===d?a.data[c]=l:d.value=l}(a,_,w);const T=f.values;for(let x=0;x<T.length;x++){const N=T[x],B=[];for(let W=0;W<N.length;W++){const re=N[W];if("string"!=typeof re){const ge=B.push(re)-1;N[W]=`\x3c!--\ufffd${ge}\ufffd--\x3e`}}b=Tx(a,w,c,l,d,f.cases[x],N.join(""),B)|b}b&&function Sx(a,c,l){a.push(c,1,l<<2|3)}(l,b,_)}function rb(a){const c=[],l=[];let d=1,f=0;const _=ib(a=a.replace(X0,function(b,w,T){return d="select"===T?0:1,f=parseInt(w.slice(1),10),""}));for(let b=0;b<_.length;){let w=_[b++].trim();1===d&&(w=w.replace(/\s*(?:=)?(\w+)\s*/,"$1")),w.length&&c.push(w);const T=ib(_[b++]);c.length>l.length&&l.push(T)}return{type:d,mainBinding:f,cases:c,values:l}}function ib(a){if(!a)return[];let c=0;const l=[],d=[],f=/[{}]/g;let _;for(f.lastIndex=0;_=f.exec(a);){const w=_.index;if("}"==_[0]){if(l.pop(),0==l.length){const T=a.substring(c,w);X0.test(T)?d.push(rb(T)):d.push(T),c=w+1}}else{if(0==l.length){const T=a.substring(c,w);d.push(T),c=w+1}l.push("{")}}const b=a.substring(c);return d.push(b),d}function Tx(a,c,l,d,f,_,b,w){const T=[],x=[],N=[];c.cases.push(_),c.create.push(T),c.remove.push(x),c.update.push(N);const W=Np(function ed(){return void 0!==Xu?Xu:typeof document<"u"?document:void 0}()).getInertBodyElement(b),re=Vh(W)||W;return re?TD(a,c,l,d,T,x,N,re,f,w,0):0}function TD(a,c,l,d,f,_,b,w,T,x,N){let B=0,W=w.firstChild;for(;W;){const re=ld(a,l,1,null);switch(W.nodeType){case Node.ELEMENT_NODE:const ge=W,Ue=ge.tagName.toLowerCase();if(Te.hasOwnProperty(Ue)){ob(f,Cg,Ue,T,re),a.data[re]=Ue;const Ee=ge.attributes;for(let bt=0;bt<Ee.length;bt++){const pn=Ee.item(bt),$n=pn.name.toLowerCase();pn.value.match(Eg)?Ln.hasOwnProperty($n)&&Sg(b,pn.value,re,pn.name,0,Xe[$n]?y:null):Mx(f,re,pn)}B=TD(a,c,l,d,f,_,b,W,re,x,N+1)|B,ED(_,re,N)}break;case Node.TEXT_NODE:const je=W.textContent||"",ct=je.match(Eg);ob(f,null,ct?"":je,T,re),ED(_,re,N),ct&&(B=Sg(b,je,re,null,0,null)|B);break;case Node.COMMENT_NODE:const pt=bx.exec(W.textContent||"");if(pt){const bt=x[parseInt(pt[1],10)];ob(f,Yl,"",T,re),DD(a,l,d,T,bt,re),Ex(_,re,N)}}W=W.nextSibling}return B}function ED(a,c,l){0===l&&a.push(c)}function Ex(a,c,l){0===l&&(a.push(~c),a.push(c))}function ob(a,c,l,d,f){null!==c&&a.push(c),a.push(l,f,function af(a,c,l){return a|c<<17|l<<1}(0,d,f))}function Mx(a,c,l){a.push(c<<1|1,l.name,l.value)}function xD(a,c,l=-1){const d=Bt(),f=we(),_=22+a,b=zr(d.consts,c),w=_l();d.firstCreatePass&&function vD(a,c,l,d,f,_){const b=_l(),w=[],T=[],x=[[]];f=function Mg(a,c){if(function Dx(a){return-1===a}(c))return wD(a);{const l=a.indexOf(`:${c}\ufffd`)+2+c.toString().length,d=a.search(new RegExp(`\ufffd\\/\\*\\d+:${c}\ufffd`));return wD(a.substring(l,d))}}(f,_);const N=function yD(a){return a.replace(eb," ")}(f).split(df);for(let B=0;B<N.length;B++){let W=N[B];if(0==(1&B)){const re=ib(W);for(let ge=0;ge<re.length;ge++){let Ue=re[ge];if(0==(1&ge)){const je=Ue;""!==je&&bD(a,b,x[0],w,T,l,je)}else{const je=Ue;if("object"!=typeof je)throw new Error(`Unable to parse ICU expression in "${f}" message.`);DD(a,l,T,c,je,tb(a,b,x[0],l,w,"",!0).index)}}}else{const re=47===W.charCodeAt(0),Ue=(W.charCodeAt(re?1:0),22+Number.parseInt(W.substring(re?2:1)));if(re)x.shift(),li(_l(),!1);else{const je=_s(a,x[0],Ue);x.unshift([]),li(je,!0)}}}a.data[d]={create:w,update:T}}(d,null===w?0:w.index,f,_,b,l);const T=d.data[_],N=bp(d,w===f[6]?null:w,f);(function Y0(a,c,l,d){const f=a[11];for(let _=0;_<c.length;_++){const b=c[_++],w=c[_],T=(b&vr.COMMENT)===vr.COMMENT,x=(b&vr.APPEND_EAGERLY)===vr.APPEND_EAGERLY,N=b>>>vr.SHIFT;let B=a[N];null===B&&(B=a[N]=T?f.createComment(w):Ls(f,w)),x&&null!==l&&ls(f,l,B,d,!1)}})(f,T.create,N,w&&8&w.type?f[w.index]:null),vl(!0)}function xg(a,c,l){xD(a,c,l),function Nx(){vl(!1)}()}function sb(a){return function lf(a){a&&(bd|=1<<Math.min(cf,31)),cf++}(Di(we(),Ss(),a)),sb}function OD(a){!function K0(a,c,l){if(cf>0){const d=a.data[l];qa(a,c,Array.isArray(d)?d:d.update,Oi()-cf-1,bd)}bd=0,cf=0}(Bt(),we(),a+22)}function ab(a,c,l,d,f){if(a=$(a),Array.isArray(a))for(let _=0;_<a.length;_++)ab(a[_],c,l,d,f);else{const _=Bt(),b=we();let w=Na(a)?a:$(a.provide),T=GC(a);const x=Kn(),N=1048575&x.providerIndexes,B=x.directiveStart,W=x.providerIndexes>>20;if(Na(a)||!a.multi){const re=new ya(T,f,ad),ge=cb(w,c,f?N:N+W,B);-1===ge?(Os(xo(x,b),_,w),ey(_,a,c.length),c.push(w),x.directiveStart++,x.directiveEnd++,f&&(x.providerIndexes+=1048576),l.push(re),b.push(re)):(l[ge]=re,b[ge]=re)}else{const re=cb(w,c,N+W,B),ge=cb(w,c,N,N+W),Ue=re>=0&&l[re],je=ge>=0&&l[ge];if(f&&!je||!f&&!Ue){Os(xo(x,b),_,w);const ct=function Vx(a,c,l,d,f){const _=new ya(a,l,ad);return _.multi=[],_.index=c,_.componentProviders=0,AD(_,f,d&&!l),_}(f?Ux:Lx,l.length,f,d,T);!f&&je&&(l[ge].providerFactory=ct),ey(_,a,c.length,0),c.push(w),x.directiveStart++,x.directiveEnd++,f&&(x.providerIndexes+=1048576),l.push(ct),b.push(ct)}else ey(_,a,re>-1?re:ge,AD(l[f?ge:re],T,!f&&d));!f&&d&&je&&l[ge].componentProviders++}}}function ey(a,c,l,d){const f=Na(c),_=function HC(a){return!!a.useClass}(c);if(f||_){const T=(_?$(c.useClass):c).prototype.ngOnDestroy;if(T){const x=a.destroyHooks||(a.destroyHooks=[]);if(!f&&c.multi){const N=x.indexOf(l);-1===N?x.push(l,[d,T]):x[N+1].push(d,T)}else x.push(l,T)}}}function AD(a,c,l){return l&&a.componentProviders++,a.multi.push(c)-1}function cb(a,c,l,d){for(let f=l;f<d;f++)if(c[f]===a)return f;return-1}function Lx(a,c,l,d){return PD(this.multi,[])}function Ux(a,c,l,d){const f=this.multi;let _;if(this.providerFactory){const b=this.providerFactory.componentProviders,w=rs(l,l[1],this.providerFactory.index,d);_=w.slice(0,b),PD(f,_);for(let T=b;T<w.length;T++)_.push(w[T])}else _=[],PD(f,_);return _}function PD(a,c){for(let l=0;l<a.length;l++)c.push((0,a[l])());return c}function ND(a,c=[]){return l=>{l.providersResolver=(d,f)=>function Fx(a,c,l){const d=Bt();if(d.firstCreatePass){const f=yi(a);ab(l,d.data,d.blueprint,f,!0),ab(c,d.data,d.blueprint,f,!1)}}(d,f?f(a):a,c)}}class hf{}class kD{}function Bx(a,c){return new RD(a,c??null)}class RD extends hf{constructor(c,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new T0(this);const d=ln(c);this._bootstrapComponents=$c(d.bootstrap),this._r3Injector=aw(c,l,[{provide:hf,useValue:this},{provide:Zh,useValue:this.componentFactoryResolver}],Q(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class lb extends kD{constructor(c){super(),this.moduleType=c}create(c){return new RD(this.moduleType,c)}}class Zx extends hf{constructor(c,l,d){super(),this.componentFactoryResolver=new T0(this),this.instance=null;const f=new jC([...c,{provide:hf,useValue:this},{provide:Zh,useValue:this.componentFactoryResolver}],l||Bl(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function ub(a,c,l=null){return new Zx(a,c,l).injector}let Hx=(()=>{class a{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const d=l_(0,l.type),f=d.length>0?ub([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,f)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=bn({token:a,providedIn:"environment",factory:()=>new a(U(Zl))}),a})();function FD(a){a.getStandaloneInjector=c=>c.get(Hx).getOrCreateStandaloneInjector(a)}function zx(a,c,l,d){return jD(we(),Yn(),a,c,l,d)}function ZD(a,c,l,d,f){return function GD(a,c,l,d,f,_,b){const w=c+l;return pd(a,w,f,_)?Gs(a,w+2,b?d.call(b,f,_):d(f,_)):ty(a,w+2)}(we(),Yn(),a,c,l,d,f)}function HD(a,c,l,d,f,_){return function $D(a,c,l,d,f,_,b,w){const T=c+l;return function sg(a,c,l,d,f){const _=pd(a,c,l,d);return Di(a,c+2,f)||_}(a,T,f,_,b)?Gs(a,T+3,w?d.call(w,f,_,b):d(f,_,b)):ty(a,T+3)}(we(),Yn(),a,c,l,d,f,_)}function ty(a,c){const l=a[c];return l===Mt?void 0:l}function jD(a,c,l,d,f,_){const b=c+l;return Di(a,b,f)?Gs(a,b+1,_?d.call(_,f):d(f)):ty(a,b+1)}function Qx(a,c){const l=Bt();let d;const f=a+22;l.firstCreatePass?(d=function Jx(a,c){if(c)for(let l=c.length-1;l>=0;l--){const d=c[l];if(a===d.name)return d}}(c,l.pipeRegistry),l.data[f]=d,d.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(f,d.onDestroy)):d=l.data[f];const _=d.factory||(d.factory=oo(d.type)),b=ar(ad);try{const w=wc(!1),T=_();return wc(w),function OM(a,c,l,d){l>=a.data.length&&(a.data[l]=null,a.blueprint[l]=null),c[l]=d}(l,we(),f,T),T}finally{ar(b)}}function zD(a,c,l){const d=a+22,f=we(),_=Zi(f,d);return function Og(a,c){return a[1].data[c].pure}(f,d)?jD(f,Yn(),c,_.transform,l,_):_.transform(l)}function hb(a){return c=>{setTimeout(a,void 0,c)}}const za=class rO extends o.xQ{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,l,d){let f=c,_=l||(()=>null),b=d;if(c&&"object"==typeof c){const T=c;f=T.next?.bind(T),_=T.error?.bind(T),b=T.complete?.bind(T)}this.__isAsync&&(_=hb(_),f&&(f=hb(f)),b&&(b=hb(b)));const w=super.subscribe({next:f,error:_,complete:b});return c instanceof ee.w&&c.add(w),w}};function iO(){return this._results[fd()]()}class fb{constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=fd(),d=fb.prototype;d[l]||(d[l]=iO)}get changes(){return this._changes||(this._changes=new za)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,l){return this._results.reduce(c,l)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,l){const d=this;d.dirty=!1;const f=Nt(c);(this._changesDetected=!function os(a,c,l){if(a.length!==c.length)return!1;for(let d=0;d<a.length;d++){let f=a[d],_=c[d];if(l&&(f=l(f),_=l(_)),_!==f)return!1}return!0}(d._results,f,l))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ag=(()=>{class a{}return a.__NG_ELEMENT_ID__=aO,a})();const oO=Ag,sO=class extends oO{constructor(c,l,d){super(),this._declarationLView=c,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(c,l){const d=this._declarationTContainer.tViews,f=Yp(this._declarationLView,d,c,16,null,d.declTNode,null,null,null,null,l||null);f[17]=this._declarationLView[this._declarationTContainer.index];const b=this._declarationLView[19];return null!==b&&(f[19]=b.createEmbeddedView(d)),Wh(d,f,c),new eg(f)}};function aO(){return ny(Kn(),we())}function ny(a,c){return 4&a.type?new sO(c,a,id(a,c)):null}let ry=(()=>{class a{}return a.__NG_ELEMENT_ID__=cO,a})();function cO(){return YD(Kn(),we())}const lO=ry,KD=class extends lO{constructor(c,l,d){super(),this._lContainer=c,this._hostTNode=l,this._hostLView=d}get element(){return id(this._hostTNode,this._hostLView)}get injector(){return new Ao(this._hostTNode,this._hostLView)}get parentInjector(){const c=El(this._hostTNode,this._hostLView);if(th(c)){const l=Ca(c,this._hostLView),d=dr(c);return new Ao(l[1].data[d+8],l)}return new Ao(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const l=iy(this._lContainer);return null!==l&&l[c]||null}get length(){return this._lContainer.length-10}createEmbeddedView(c,l,d){let f,_;"number"==typeof d?f=d:null!=d&&(f=d.index,_=d.injector);const b=c.createEmbeddedView(l||{},_);return this.insert(b,f),b}createComponent(c,l,d,f,_){const b=c&&!function Qe(a){return"function"==typeof a}(c);let w;if(b)w=l;else{const B=l||{};w=B.index,d=B.injector,f=B.projectableNodes,_=B.environmentInjector||B.ngModuleRef}const T=b?c:new zh(te(c)),x=d||this.parentInjector;if(!_&&null==T.ngModule){const W=(b?x:this.parentInjector).get(Zl,null);W&&(_=W)}const N=T.create(x,f,void 0,_);return this.insert(N.hostView,w),N}insert(c,l){const d=c._lView,f=d[1];if(function Ts(a){return _i(a[3])}(d)){const N=this.indexOf(c);if(-1!==N)this.detach(N);else{const B=d[3],W=new KD(B,B[6],B[3]);W.detach(W.indexOf(c))}}const _=this._adjustIndex(l),b=this._lContainer;!function xa(a,c,l,d){const f=10+d,_=l.length;d>0&&(l[f-1][4]=c),d<_-10?(c[4]=l[f],Oc(l,10+d,c)):(l.push(c),c[4]=null),c[3]=l;const b=c[17];null!==b&&l!==b&&function Nv(a,c){const l=a[9];c[16]!==c[3][3][16]&&(a[2]=!0),null===l?a[9]=[c]:l.push(c)}(b,c);const w=c[19];null!==w&&w.insertView(a),c[2]|=64}(f,d,b,_);const w=Tp(_,b),T=d[11],x=Lc(T,b[7]);return null!==x&&function Ph(a,c,l,d,f,_){d[0]=f,d[6]=c,Vc(a,d,l,1,f,_)}(f,b[6],T,d,x,w),c.attachToViewContainerRef(),Oc(pb(b),_,c),c}move(c,l){return this.insert(c,l)}indexOf(c){const l=iy(this._lContainer);return null!==l?l.indexOf(c):-1}remove(c){const l=this._adjustIndex(c,-1),d=Fl(this._lContainer,l);d&&(Po(pb(this._lContainer),l),Ym(d[1],d))}detach(c){const l=this._adjustIndex(c,-1),d=Fl(this._lContainer,l);return d&&null!=Po(pb(this._lContainer),l)?new eg(d):null}_adjustIndex(c,l=0){return c??this.length+l}};function iy(a){return a[8]}function pb(a){return a[8]||(a[8]=[])}function YD(a,c){let l;const d=c[a.index];if(_i(d))l=d;else{let f;if(8&a.type)f=Hn(d);else{const _=c[11];f=_.createComment("");const b=jn(a,c);ls(_,Lc(_,b),f,function Qm(a,c){return a.nextSibling(c)}(_,b),!1)}c[a.index]=l=hM(d,c,f,a),$l(c,l)}return new KD(l,a,c)}class gb{constructor(c){this.queryList=c,this.matches=null}clone(){return new gb(this.queryList)}setDirty(){this.queryList.setDirty()}}class mb{constructor(c=[]){this.queries=c}createEmbeddedView(c){const l=c.queries;if(null!==l){const d=null!==c.contentQueries?c.contentQueries[0]:l.length,f=[];for(let _=0;_<d;_++){const b=l.getByIndex(_);f.push(this.queries[b.indexInDeclarationView].clone())}return new mb(f)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let l=0;l<this.queries.length;l++)null!==CO(c,l).matches&&this.queries[l].setDirty()}}class QD{constructor(c,l,d=null){this.predicate=c,this.flags=l,this.read=d}}class _b{constructor(c=[]){this.queries=c}elementStart(c,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(c,l)}elementEnd(c){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(c)}embeddedTView(c){let l=null;for(let d=0;d<this.length;d++){const f=null!==l?l.length:0,_=this.getByIndex(d).embeddedTView(c,f);_&&(_.indexInDeclarationView=d,null!==l?l.push(_):l=[_])}return null!==l?new _b(l):null}template(c,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(c,l)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class yb{constructor(c,l=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(c,l){this.isApplyingToNode(l)&&this.matchTNode(c,l)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,l){this.elementStart(c,l)}embeddedTView(c,l){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,l),new yb(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=c.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(c,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const _=d[f];this.matchTNodeWithReadOption(c,l,hO(l,_)),this.matchTNodeWithReadOption(c,l,Ic(l,c,_,!1,!1))}else d===Ag?4&l.type&&this.matchTNodeWithReadOption(c,l,-1):this.matchTNodeWithReadOption(c,l,Ic(l,c,d,!1,!1))}matchTNodeWithReadOption(c,l,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===Zp||f===ry||f===Ag&&4&l.type)this.addMatch(l.index,-2);else{const _=Ic(l,c,f,!1,!1);null!==_&&this.addMatch(l.index,_)}else this.addMatch(l.index,d)}}addMatch(c,l){null===this.matches?this.matches=[c,l]:this.matches.push(c,l)}}function hO(a,c){const l=a.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===c)return l[d+1];return null}function tF(a,c,l,d){return-1===l?function fO(a,c){return 11&a.type?id(a,c):4&a.type?ny(a,c):null}(c,a):-2===l?function nF(a,c,l){return l===Zp?id(c,a):l===Ag?ny(c,a):l===ry?YD(c,a):void 0}(a,c,d):rs(a,a[1],l,c)}function pO(a,c,l,d){const f=c[19].queries[d];if(null===f.matches){const _=a.data,b=l.matches,w=[];for(let T=0;T<b.length;T+=2){const x=b[T];w.push(x<0?null:tF(c,_[x],b[T+1],l.metadata.read))}f.matches=w}return f.matches}function vb(a,c,l,d){const f=a.queries.getByIndex(l),_=f.matches;if(null!==_){const b=pO(a,c,f,l);for(let w=0;w<_.length;w+=2){const T=_[w];if(T>0)d.push(b[w/2]);else{const x=_[w+1],N=c[-T];for(let B=10;B<N.length;B++){const W=N[B];W[17]===W[3]&&vb(W[1],W,x,d)}if(null!==N[9]){const B=N[9];for(let W=0;W<B.length;W++){const re=B[W];vb(re[1],re,x,d)}}}}}return d}function gO(a){const c=we(),l=Bt(),d=mc();ma(d+1);const f=CO(l,d);if(a.dirty&&function pl(a){return 4==(4&a[2])}(c)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const _=f.crossesNgTemplate?vb(l,c,d,[]):pO(l,c,f,d);a.reset(_,wS),a.notifyOnChanges()}return!0}return!1}function mO(a,c,l){const d=Bt();d.firstCreatePass&&(JD(d,new QD(a,c,l),-1),2==(2&c)&&(d.staticViewQueries=!0)),vO(d,we(),c)}function _O(a,c,l,d){const f=Bt();if(f.firstCreatePass){const _=Kn();JD(f,new QD(c,l,d),_.index),function bO(a,c){const l=a.contentQueries||(a.contentQueries=[]);c!==(l.length?l[l.length-1]:-1)&&l.push(a.queries.length-1,c)}(f,a),2==(2&l)&&(f.staticContentQueries=!0)}vO(f,we(),l)}function yO(){return function rF(a,c){return a[19].queries[c].queryList}(we(),mc())}function vO(a,c,l){const d=new fb(4==(4&l));O_(a,c,d,d.destroy),null===c[19]&&(c[19]=new mb),c[19].queries.push(new gb(d))}function JD(a,c,l){null===a.queries&&(a.queries=new _b),a.queries.track(new yb(c,l))}function CO(a,c){return a.queries.getByIndex(c)}function wO(a,c){return ny(a,c)}function zs(...a){}const pf=new vn("Application Initializer");let Cd=(()=>{class a{constructor(l){this.appInits=l,this.resolve=zs,this.reject=zs,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const _=this.appInits[f]();if(yr(_))l.push(_);else if(q_(_)){const b=new Promise((w,T)=>{_.subscribe({complete:w,error:T})});l.push(b)}}Promise.all(l).then(()=>{d()}).catch(f=>{this.reject(f)}),0===l.length&&d(),this.initialized=!0}}return a.\u0275fac=function(l){return new(l||a)(U(pf,8))},a.\u0275prov=bn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const lT=new vn("AppId",{providedIn:"root",factory:function uT(){return`${Mb()}${Mb()}${Mb()}`}});function Mb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ly=new vn("Platform Initializer"),dT=new vn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Jl=new vn("appBootstrapListener");let gF=(()=>{class a{log(l){console.log(l)}warn(l){console.warn(l)}}return a.\u0275fac=function(l){return new(l||a)},a.\u0275prov=bn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const Rg=new vn("LocaleId",{providedIn:"root",factory:()=>ce(Rg,He.Optional|He.SkipSelf)||function mF(){return typeof $localize<"u"&&$localize.locale||$a}()}),Qa=new vn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class yF{constructor(c,l){this.ngModuleFactory=c,this.componentFactories=l}}let vF=(()=>{class a{compileModuleSync(l){return new lb(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),_=$c(ln(l).declarations).reduce((b,w)=>{const T=te(w);return T&&b.push(new zh(T)),b},[]);return new yF(d,_)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return a.\u0275fac=function(l){return new(l||a)},a.\u0275prov=bn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const HO=(()=>Promise.resolve(0))();function hT(a){typeof Zone>"u"?HO.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Ys{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new za(!1),this.onMicrotaskEmpty=new za(!1),this.onStable=new za(!1),this.onError=new za(!1),typeof Zone>"u")throw new De(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const _=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new _("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&l,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function wF(){let a=Qt.requestAnimationFrame,c=Qt.cancelAnimationFrame;if(typeof Zone<"u"&&a&&c){const l=a[Zone.__symbol__("OriginalDelegate")];l&&(a=l);const d=c[Zone.__symbol__("OriginalDelegate")];d&&(c=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function EF(a){const c=()=>{!function TF(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Qt,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Ob(a),a.isCheckStableRunning=!0,xb(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Ob(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,f,_,b,w)=>{try{return jO(a),l.invokeTask(f,_,b,w)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||a.shouldCoalesceRunChangeDetection)&&c(),GO(a)}},onInvoke:(l,d,f,_,b,w,T)=>{try{return jO(a),l.invoke(f,_,b,w,T)}finally{a.shouldCoalesceRunChangeDetection&&c(),GO(a)}},onHasTask:(l,d,f,_)=>{l.hasTask(f,_),d===f&&("microTask"==_.change?(a._hasPendingMicrotasks=_.microTask,Ob(a),xb(a)):"macroTask"==_.change&&(a.hasPendingMacrotasks=_.macroTask))},onHandleError:(l,d,f,_)=>(l.handleError(f,_),a.runOutsideAngular(()=>a.onError.emit(_)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ys.isInAngularZone())throw new De(909,!1)}static assertNotInAngularZone(){if(Ys.isInAngularZone())throw new De(909,!1)}run(c,l,d){return this._inner.run(c,l,d)}runTask(c,l,d,f){const _=this._inner,b=_.scheduleEventTask("NgZoneEvent: "+f,c,DF,zs,zs);try{return _.runTask(b,l,d)}finally{_.cancelTask(b)}}runGuarded(c,l,d){return this._inner.runGuarded(c,l,d)}runOutsideAngular(c){return this._outer.run(c)}}const DF={};function xb(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Ob(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function jO(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function GO(a){a._nesting--,xb(a)}class IF{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new za,this.onMicrotaskEmpty=new za,this.onStable=new za,this.onError=new za}run(c,l,d){return c.apply(l,d)}runGuarded(c,l,d){return c.apply(l,d)}runOutsideAngular(c){return c()}runTask(c,l,d,f){return c.apply(l,d)}}const $O=new vn(""),qO=new vn("");let fT,WO=(()=>{class a{constructor(l,d,f){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,fT||(function SF(a){fT=a}(f),f.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ys.assertNotInAngularZone(),hT(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())hT(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,f){let _=-1;d&&d>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==_),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:_,updateCb:f})}whenStable(l,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,f){return[]}}return a.\u0275fac=function(l){return new(l||a)(U(Ys),U(zO),U(qO))},a.\u0275prov=bn({token:a,factory:a.\u0275fac}),a})(),zO=(()=>{class a{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return fT?.findTestabilityInTree(this,l,d)??null}}return a.\u0275fac=function(l){return new(l||a)},a.\u0275prov=bn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})(),Un=null;const KO=new vn("AllowMultipleToken"),pT=new vn("PlatformDestroyListeners");class YO{constructor(c,l){this.name=c,this.token=l}}function mT(a,c,l=[]){const d=`Platform: ${c}`,f=new vn(d);return(_=[])=>{let b=Nb();if(!b||b.injector.get(KO,!1)){const w=[...l,..._,{provide:f,useValue:!0}];a?a(w):function QO(a){if(Un&&!Un.get(KO,!1))throw new De(400,!1);Un=a;const c=a.get(yT);(function Pb(a){const c=a.get(ly,null);c&&c.forEach(l=>l())})(a)}(function _T(a=[],c){return La.create({name:c,providers:[{provide:u_,useValue:"platform"},{provide:pT,useValue:new Set([()=>Un=null])},...a]})}(w,d))}return function eA(a){const c=Nb();if(!c)throw new De(401,!1);return c}()}}function Nb(){return Un?.get(yT)??null}let yT=(()=>{class a{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const f=function bT(a,c){let l;return l="noop"===a?new IF:("zone.js"===a?void 0:a)||new Ys(c),l}(d?.ngZone,function vT(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(d)),_=[{provide:Ys,useValue:f}];return f.run(()=>{const b=La.create({providers:_,parent:this.injector,name:l.moduleType.name}),w=l.create(b),T=w.injector.get(Hp,null);if(!T)throw new De(402,!1);return f.runOutsideAngular(()=>{const x=f.onError.subscribe({next:N=>{T.handleError(N)}});w.onDestroy(()=>{dy(this._modules,w),x.unsubscribe()})}),function CT(a,c,l){try{const d=l();return yr(d)?d.catch(f=>{throw c.runOutsideAngular(()=>a.handleError(f)),f}):d}catch(d){throw c.runOutsideAngular(()=>a.handleError(d)),d}}(T,f,()=>{const x=w.injector.get(Cd);return x.runInitializers(),x.donePromise.then(()=>(uD(w.injector.get(Rg,$a)||$a),this._moduleDoBootstrap(w),w))})})}bootstrapModule(l,d=[]){const f=wT({},d);return function MF(a,c,l){const d=new lb(l);return Promise.resolve(d)}(0,0,l).then(_=>this.bootstrapModuleFactory(_,f))}_moduleDoBootstrap(l){const d=l.injector.get(uy);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!l.instance.ngDoBootstrap)throw new De(403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new De(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(pT,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(l){return new(l||a)(U(La))},a.\u0275prov=bn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function wT(a,c){return Array.isArray(c)?c.reduce(wT,a):{...a,...c}}let uy=(()=>{class a{constructor(l,d,f){this._zone=l,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new L.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),b=new L.y(w=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{Ys.assertNotInAngularZone(),hT(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{Ys.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{T.unsubscribe(),x.unsubscribe()}});this.isStable=(0,oe.T)(_,b.pipe((0,ne.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,d){const f=l instanceof $C;if(!this._injector.get(Cd).done)throw!f&&$t(l),new De(405,false);let b;b=f?l:this._injector.get(Zh).resolveComponentFactory(l),this.componentTypes.push(b.componentType);const w=function gT(a){return a.isBoundToModule}(b)?void 0:this._injector.get(hf),x=b.create(La.NULL,[],d||b.selector,w),N=x.location.nativeElement,B=x.injector.get($O,null);return B?.registerApplication(N),x.onDestroy(()=>{this.detachView(x.hostView),dy(this.components,x),B?.unregisterApplication(N)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new De(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;dy(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(Jl,[]).concat(this._bootstrapListeners).forEach(f=>f(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>dy(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new De(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(l){return new(l||a)(U(Ys),U(Zl),U(Hp))},a.\u0275prov=bn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function dy(a,c){const l=a.indexOf(c);l>-1&&a.splice(l,1)}let kb=!0,ET=!1;function OF(){return ET=!0,kb}function tA(){if(ET)throw new Error("Cannot enable prod mode after platform setup.");kb=!1}let AF=(()=>{class a{}return a.__NG_ELEMENT_ID__=PF,a})();function PF(a){return function NF(a,c,l){if(ul(a)&&!l){const d=cn(a.index,c);return new eg(d,d)}return 47&a.type?new eg(c[16],c):null}(Kn(),we(),16==(16&a))}class hy{constructor(){}supports(c){return ig(c)}create(c){return new Lb(c)}}const PT=(a,c)=>c;class Lb{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||PT}forEachItem(c){let l;for(l=this._itHead;null!==l;l=l._next)c(l)}forEachOperation(c){let l=this._itHead,d=this._removalsHead,f=0,_=null;for(;l||d;){const b=!d||l&&l.currentIndex<sA(d,f,_)?l:d,w=sA(b,f,_),T=b.currentIndex;if(b===d)f--,d=d._nextRemoved;else if(l=l._next,null==b.previousIndex)f++;else{_||(_=[]);const x=w-f,N=T-f;if(x!=N){for(let W=0;W<x;W++){const re=W<_.length?_[W]:_[W]=0,ge=re+W;N<=ge&&ge<x&&(_[W]=re+1)}_[b.previousIndex]=N-x}}w!==T&&c(b,w,T)}}forEachPreviousItem(c){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)c(l)}forEachAddedItem(c){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)c(l)}forEachMovedItem(c){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)c(l)}forEachRemovedItem(c){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)c(l)}forEachIdentityChange(c){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)c(l)}diff(c){if(null==c&&(c=[]),!ig(c))throw new De(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let f,_,b,l=this._itHead,d=!1;if(Array.isArray(c)){this.length=c.length;for(let w=0;w<this.length;w++)_=c[w],b=this._trackByFn(w,_),null!==l&&Object.is(l.trackById,b)?(d&&(l=this._verifyReinsertion(l,_,b,w)),Object.is(l.item,_)||this._addIdentityChange(l,_)):(l=this._mismatch(l,_,b,w),d=!0),l=l._next}else f=0,function S0(a,c){if(Array.isArray(a))for(let l=0;l<a.length;l++)c(a[l]);else{const l=a[fd()]();let d;for(;!(d=l.next()).done;)c(d.value)}}(c,w=>{b=this._trackByFn(f,w),null!==l&&Object.is(l.trackById,b)?(d&&(l=this._verifyReinsertion(l,w,b,f)),Object.is(l.item,w)||this._addIdentityChange(l,w)):(l=this._mismatch(l,w,b,f),d=!0),l=l._next,f++}),this.length=f;return this._truncate(l),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,l,d,f){let _;return null===c?_=this._itTail:(_=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(c.item,l)||this._addIdentityChange(c,l),this._reinsertAfter(c,_,f)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(c.item,l)||this._addIdentityChange(c,l),this._moveAfter(c,_,f)):c=this._addAfter(new iA(l,d),_,f),c}_verifyReinsertion(c,l,d,f){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==_?c=this._reinsertAfter(_,c._prev,f):c.currentIndex!=f&&(c.currentIndex=f,this._addToMoves(c,f)),c}_truncate(c){for(;null!==c;){const l=c._next;this._addToRemovals(this._unlink(c)),c=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const f=c._prevRemoved,_=c._nextRemoved;return null===f?this._removalsHead=_:f._nextRemoved=_,null===_?this._removalsTail=f:_._prevRemoved=f,this._insertAfter(c,l,d),this._addToMoves(c,d),c}_moveAfter(c,l,d){return this._unlink(c),this._insertAfter(c,l,d),this._addToMoves(c,d),c}_addAfter(c,l,d){return this._insertAfter(c,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,l,d){const f=null===l?this._itHead:l._next;return c._next=f,c._prev=l,null===f?this._itTail=c:f._prev=c,null===l?this._itHead=c:l._next=c,null===this._linkedRecords&&(this._linkedRecords=new fy),this._linkedRecords.put(c),c.currentIndex=d,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const l=c._prev,d=c._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,c}_addToMoves(c,l){return c.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fy),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,l){return c.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class iA{constructor(c,l){this.item=c,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class oA{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,c))return d;return null}remove(c){const l=c._prevDup,d=c._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class fy{constructor(){this.map=new Map}put(c){const l=c.trackById;let d=this.map.get(l);d||(d=new oA,this.map.set(l,d)),d.add(c)}get(c,l){const f=this.map.get(c);return f?f.get(c,l):null}remove(c){const l=c.trackById;return this.map.get(l).remove(c)&&this.map.delete(l),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function sA(a,c,l){const d=a.previousIndex;if(null===d)return d;let f=0;return l&&d<l.length&&(f=l[d]),d+c+f}class mf{constructor(){}supports(c){return c instanceof Map||Z_(c)}create(){return new py}}class py{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let l;for(l=this._mapHead;null!==l;l=l._next)c(l)}forEachPreviousItem(c){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)c(l)}forEachChangedItem(c){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)c(l)}forEachAddedItem(c){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)c(l)}forEachRemovedItem(c){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)c(l)}diff(c){if(c){if(!(c instanceof Map||Z_(c)))throw new De(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(c,(d,f)=>{if(l&&l.key===f)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const _=this._getOrCreateRecordForKey(f,d);l=this._insertBeforeOrAppend(l,_)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,l){if(c){const d=c._prev;return l._next=c,l._prev=d,c._prev=l,d&&(d._next=l),c===this._mapHead&&(this._mapHead=l),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(c,l){if(this._records.has(c)){const f=this._records.get(c);this._maybeAddToChanges(f,l);const _=f._prev,b=f._next;return _&&(_._next=b),b&&(b._prev=_),f._next=null,f._prev=null,f}const d=new NT(c);return this._records.set(c,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,l){Object.is(l,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=l,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,l){c instanceof Map?c.forEach(l):Object.keys(c).forEach(d=>l(c[d],d))}}class NT{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function kT(){return new Ub([new hy])}let Ub=(()=>{class a{constructor(l){this.factories=l}static create(l,d){if(null!=d){const f=d.factories.slice();l=l.concat(f)}return new a(l)}static extend(l){return{provide:a,useFactory:d=>a.create(l,d||kT()),deps:[[a,new Gi,new gr]]}}find(l){const d=this.factories.find(f=>f.supports(l));if(null!=d)return d;throw new De(901,!1)}}return a.\u0275prov=bn({token:a,providedIn:"root",factory:kT}),a})();function RT(){return new eu([new mf])}let eu=(()=>{class a{constructor(l){this.factories=l}static create(l,d){if(d){const f=d.factories.slice();l=l.concat(f)}return new a(l)}static extend(l){return{provide:a,useFactory:d=>a.create(l,d||RT()),deps:[[a,new Gi,new gr]]}}find(l){const d=this.factories.find(f=>f.supports(l));if(d)return d;throw new De(901,!1)}}return a.\u0275prov=bn({token:a,providedIn:"root",factory:RT}),a})();const gy=mT(null,"core",[]);let Dd=(()=>{class a{constructor(l){}}return a.\u0275fac=function(l){return new(l||a)(U(uy))},a.\u0275mod=Gt({type:a}),a.\u0275inj=Mn({}),a})();function FT(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},3942:(st,ye,F)=>{F.d(ye,{Z:()=>De});var o=F(2090),ee=F(4859),L=F(9681),oe=F(1877);class ne{constructor(he,fe){this._delegate=he,this.firebase=fe,(0,L._addComponent)(he,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=he.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this._delegate.automaticDataCollectionEnabled=he}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(he=>{this._delegate.checkDestroyed(),he()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(he,fe=L._DEFAULT_ENTRY_NAME){var Se;this._delegate.checkDestroyed();const Ze=this._delegate.container.getProvider(he);return!Ze.isInitialized()&&"EXPLICIT"===(null===(Se=Ze.getComponent())||void 0===Se?void 0:Se.instantiationMode)&&Ze.initialize(),Ze.getImmediate({identifier:fe})}_removeServiceInstance(he,fe=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(he).clearInstance(fe)}_addComponent(he){(0,L._addComponent)(this._delegate,he)}_addOrOverwriteComponent(he){(0,L._addOrOverwriteComponent)(this._delegate,he)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const se=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),V=function J(){const Ne=function Q(Ne){const he={},fe={__esModule:!0,initializeApp:function ot(wt,Me={}){const Ce=L.initializeApp(wt,Me);if((0,o.r3)(he,Ce.name))return he[Ce.name];const We=new Ne(Ce,fe);return he[Ce.name]=We,We},app:Ze,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function Et(wt){const Me=wt.name,Ce=Me.replace("-compat","");if(L._registerComponent(wt)&&"PUBLIC"===wt.type){const We=(rt=Ze())=>{if("function"!=typeof rt[Ce])throw se.create("invalid-app-argument",{appName:Me});return rt[Ce]()};void 0!==wt.serviceProps&&(0,o.ZB)(We,wt.serviceProps),fe[Ce]=We,Ne.prototype[Ce]=function(...rt){return this._getService.bind(this,Me).apply(this,wt.multipleInstances?rt:[])}}return"PUBLIC"===wt.type?fe[Ce]:null},removeApp:function Se(wt){delete he[wt]},useAsService:function Sn(wt,Me){return"serverAuth"===Me?null:Me},modularAPIs:L}};function Ze(wt){if(!(0,o.r3)(he,wt=wt||L._DEFAULT_ENTRY_NAME))throw se.create("no-app",{appName:wt});return he[wt]}return fe.default=fe,Object.defineProperty(fe,"apps",{get:function Ht(){return Object.keys(he).map(wt=>he[wt])}}),Ze.App=Ne,fe}(ne);return Ne.INTERNAL=Object.assign(Object.assign({},Ne.INTERNAL),{createFirebaseNamespace:J,extendNamespace:function he(fe){(0,o.ZB)(Ne,fe)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),Ne}(),H=new oe.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ne=self.firebase.SDK_VERSION;Ne&&Ne.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const De=V;!function Ie(Ne){(0,L.registerVersion)("@firebase/app-compat","0.2.0",Ne)}()},9681:(st,ye,F)=>{F.r(ye),F.d(ye,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>ws,_DEFAULT_ENTRY_NAME:()=>hn,_addComponent:()=>Gr,_addOrOverwriteComponent:()=>bn,_apps:()=>Hr,_clearComponents:()=>Yo,_components:()=>jr,_getProvider:()=>Mn,_registerComponent:()=>Xi,_removeServiceInstance:()=>eo,deleteApp:()=>Wr,getApp:()=>qr,getApps:()=>Ae,initializeApp:()=>$r,onLog:()=>sr,registerVersion:()=>kr,setLogLevel:()=>ar});var o=F(5861),ee=F(4859),L=F(1877),oe=F(2090),ne=F(8766);class Y{constructor(ve){this.container=ve}getPlatformInfoString(){return this.container.getProviders().map(et=>{if(function se(tt){return"VERSION"===tt.getComponent()?.type}(et)){const It=et.getImmediate();return`${It.library}/${It.version}`}return null}).filter(et=>et).join(" ")}}const Q="@firebase/app",J="0.9.0",V=new L.Yd("@firebase/app"),hn="[DEFAULT]",jt={[Q]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Hr=new Map,jr=new Map;function Gr(tt,ve){try{tt.container.addComponent(ve)}catch(et){V.debug(`Component ${ve.name} failed to register with FirebaseApp ${tt.name}`,et)}}function bn(tt,ve){tt.container.addOrOverwriteComponent(ve)}function Xi(tt){const ve=tt.name;if(jr.has(ve))return V.debug(`There were multiple attempts to register component ${ve}.`),!1;jr.set(ve,tt);for(const et of Hr.values())Gr(et,tt);return!0}function Mn(tt,ve){const et=tt.container.getProvider("heartbeat").getImmediate({optional:!0});return et&&et.triggerHeartbeat(),tt.container.getProvider(ve)}function eo(tt,ve,et=hn){Mn(tt,ve).clearInstance(et)}function Yo(){jr.clear()}const on=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Rn{constructor(ve,et,It){this._isDeleted=!1,this._options=Object.assign({},ve),this._config=Object.assign({},et),this._name=et.name,this._automaticDataCollectionEnabled=et.automaticDataCollectionEnabled,this._container=It,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this.checkDestroyed(),this._automaticDataCollectionEnabled=ve}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ve){this._isDeleted=ve}checkDestroyed(){if(this.isDeleted)throw on.create("app-deleted",{appName:this._name})}}const ws="9.15.0";function $r(tt,ve={}){let et=tt;"object"!=typeof ve&&(ve={name:ve});const It=Object.assign({name:hn,automaticDataCollectionEnabled:!1},ve),xt=It.name;if("string"!=typeof xt||!xt)throw on.create("bad-app-name",{appName:String(xt)});if(et||(et=(0,oe.aH)()),!et)throw on.create("no-options");const Gt=Hr.get(xt);if(Gt){if((0,oe.vZ)(et,Gt.options)&&(0,oe.vZ)(It,Gt.config))return Gt;throw on.create("duplicate-app",{appName:xt})}const q=new ee.H0(xt);for(const K of jr.values())q.addComponent(K);const G=new Rn(et,It,q);return Hr.set(xt,G),G}function qr(tt=hn){const ve=Hr.get(tt);if(!ve&&tt===hn)return $r();if(!ve)throw on.create("no-app",{appName:tt});return ve}function Ae(){return Array.from(Hr.values())}function Wr(tt){return He.apply(this,arguments)}function He(){return(He=(0,o.Z)(function*(tt){const ve=tt.name;Hr.has(ve)&&(Hr.delete(ve),yield Promise.all(tt.container.getProviders().map(et=>et.delete())),tt.isDeleted=!0)})).apply(this,arguments)}function kr(tt,ve,et){var It;let xt=null!==(It=jt[tt])&&void 0!==It?It:tt;et&&(xt+=`-${et}`);const Gt=xt.match(/\s|\//),q=ve.match(/\s|\//);if(Gt||q){const G=[`Unable to register library "${xt}" with version "${ve}":`];return Gt&&G.push(`library name "${xt}" contains illegal characters (whitespace or "/")`),Gt&&q&&G.push("and"),q&&G.push(`version name "${ve}" contains illegal characters (whitespace or "/")`),void V.warn(G.join(" "))}Xi(new ee.wA(`${xt}-version`,()=>({library:xt,version:ve}),"VERSION"))}function sr(tt,ve){if(null!==tt&&"function"!=typeof tt)throw on.create("invalid-log-argument");(0,L.Am)(tt,ve)}function ar(tt){(0,L.Ub)(tt)}const Cn="firebase-heartbeat-store";let Wn=null;function xn(){return Wn||(Wn=(0,ne.X3)("firebase-heartbeat-database",1,{upgrade:(tt,ve)=>{0===ve&&tt.createObjectStore(Cn)}}).catch(tt=>{throw on.create("idb-open",{originalErrorMessage:tt.message})})),Wn}function lt(){return(lt=(0,o.Z)(function*(tt){try{return(yield xn()).transaction(Cn).objectStore(Cn).get(cr(tt))}catch(ve){if(ve instanceof oe.ZR)V.warn(ve.message);else{const et=on.create("idb-get",{originalErrorMessage:ve?.message});V.warn(et.message)}}})).apply(this,arguments)}function Qt(tt,ve){return ro.apply(this,arguments)}function ro(){return(ro=(0,o.Z)(function*(tt,ve){try{const It=(yield xn()).transaction(Cn,"readwrite");return yield It.objectStore(Cn).put(ve,cr(tt)),It.done}catch(et){if(et instanceof oe.ZR)V.warn(et.message);else{const It=on.create("idb-set",{originalErrorMessage:et?.message});V.warn(It.message)}}})).apply(this,arguments)}function cr(tt){return`${tt.name}!${tt.options.appId}`}class _n{constructor(ve){this.container=ve,this._heartbeatsCache=null;const et=this.container.getProvider("app").getImmediate();this._storage=new Kt(et),this._heartbeatsCachePromise=this._storage.read().then(It=>(this._heartbeatsCache=It,It))}triggerHeartbeat(){var ve=this;return(0,o.Z)(function*(){const It=ve.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),xt=sn();if(null===ve._heartbeatsCache&&(ve._heartbeatsCache=yield ve._heartbeatsCachePromise),ve._heartbeatsCache.lastSentHeartbeatDate!==xt&&!ve._heartbeatsCache.heartbeats.some(Gt=>Gt.date===xt))return ve._heartbeatsCache.heartbeats.push({date:xt,agent:It}),ve._heartbeatsCache.heartbeats=ve._heartbeatsCache.heartbeats.filter(Gt=>{const q=new Date(Gt.date).valueOf();return Date.now()-q<=2592e6}),ve._storage.overwrite(ve._heartbeatsCache)})()}getHeartbeatsHeader(){var ve=this;return(0,o.Z)(function*(){if(null===ve._heartbeatsCache&&(yield ve._heartbeatsCachePromise),null===ve._heartbeatsCache||0===ve._heartbeatsCache.heartbeats.length)return"";const et=sn(),{heartbeatsToSend:It,unsentEntries:xt}=function io(tt,ve=1024){const et=[];let It=tt.slice();for(const xt of tt){const Gt=et.find(q=>q.agent===xt.agent);if(Gt){if(Gt.dates.push(xt.date),wn(et)>ve){Gt.dates.pop();break}}else if(et.push({agent:xt.agent,dates:[xt.date]}),wn(et)>ve){et.pop();break}It=It.slice(1)}return{heartbeatsToSend:et,unsentEntries:It}}(ve._heartbeatsCache.heartbeats),Gt=(0,oe.L)(JSON.stringify({version:2,heartbeats:It}));return ve._heartbeatsCache.lastSentHeartbeatDate=et,xt.length>0?(ve._heartbeatsCache.heartbeats=xt,yield ve._storage.overwrite(ve._heartbeatsCache)):(ve._heartbeatsCache.heartbeats=[],ve._storage.overwrite(ve._heartbeatsCache)),Gt})()}}function sn(){return(new Date).toISOString().substring(0,10)}class Kt{constructor(ve){this.app=ve,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ve=this;return(0,o.Z)(function*(){return(yield ve._canUseIndexedDBPromise)&&(yield function _t(tt){return lt.apply(this,arguments)}(ve.app))||{heartbeats:[]}})()}overwrite(ve){var et=this;return(0,o.Z)(function*(){var It;if(yield et._canUseIndexedDBPromise){const Gt=yield et.read();return Qt(et.app,{lastSentHeartbeatDate:null!==(It=ve.lastSentHeartbeatDate)&&void 0!==It?It:Gt.lastSentHeartbeatDate,heartbeats:ve.heartbeats})}})()}add(ve){var et=this;return(0,o.Z)(function*(){var It;if(yield et._canUseIndexedDBPromise){const Gt=yield et.read();return Qt(et.app,{lastSentHeartbeatDate:null!==(It=ve.lastSentHeartbeatDate)&&void 0!==It?It:Gt.lastSentHeartbeatDate,heartbeats:[...Gt.heartbeats,...ve.heartbeats]})}})()}}function wn(tt){return(0,oe.L)(JSON.stringify({version:2,heartbeats:tt})).length}!function Rr(tt){Xi(new ee.wA("platform-logger",ve=>new Y(ve),"PRIVATE")),Xi(new ee.wA("heartbeat",ve=>new _n(ve),"PRIVATE")),kr(Q,J,tt),kr(Q,J,"esm2017"),kr("fire-js","")}("")},4859:(st,ye,F)=>{F.d(ye,{H0:()=>Q,wA:()=>L,zt:()=>ne});var o=F(5861),ee=F(2090);class L{constructor(V,H,$){this.name=V,this.instanceFactory=H,this.type=$,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(V){return this.instantiationMode=V,this}setMultipleInstances(V){return this.multipleInstances=V,this}setServiceProps(V){return this.serviceProps=V,this}setInstanceCreatedCallback(V){return this.onInstanceCreated=V,this}}const oe="[DEFAULT]";class ne{constructor(V,H){this.name=V,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(V){const H=this.normalizeInstanceIdentifier(V);if(!this.instancesDeferred.has(H)){const $=new ee.BH;if(this.instancesDeferred.set(H,$),this.isInitialized(H)||this.shouldAutoInitialize())try{const ue=this.getOrInitializeService({instanceIdentifier:H});ue&&$.resolve(ue)}catch{}}return this.instancesDeferred.get(H).promise}getImmediate(V){var H;const $=this.normalizeInstanceIdentifier(V?.identifier),ue=null!==(H=V?.optional)&&void 0!==H&&H;if(!this.isInitialized($)&&!this.shouldAutoInitialize()){if(ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:$})}catch(Ie){if(ue)return null;throw Ie}}getComponent(){return this.component}setComponent(V){if(V.name!==this.name)throw Error(`Mismatching Component ${V.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=V,this.shouldAutoInitialize()){if(function se(J){return"EAGER"===J.instantiationMode}(V))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[H,$]of this.instancesDeferred.entries()){const ue=this.normalizeInstanceIdentifier(H);try{const Ie=this.getOrInitializeService({instanceIdentifier:ue});$.resolve(Ie)}catch{}}}}clearInstance(V=oe){this.instancesDeferred.delete(V),this.instancesOptions.delete(V),this.instances.delete(V)}delete(){var V=this;return(0,o.Z)(function*(){const H=Array.from(V.instances.values());yield Promise.all([...H.filter($=>"INTERNAL"in $).map($=>$.INTERNAL.delete()),...H.filter($=>"_delete"in $).map($=>$._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(V=oe){return this.instances.has(V)}getOptions(V=oe){return this.instancesOptions.get(V)||{}}initialize(V={}){const{options:H={}}=V,$=this.normalizeInstanceIdentifier(V.instanceIdentifier);if(this.isInitialized($))throw Error(`${this.name}(${$}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ue=this.getOrInitializeService({instanceIdentifier:$,options:H});for(const[Ie,De]of this.instancesDeferred.entries())$===this.normalizeInstanceIdentifier(Ie)&&De.resolve(ue);return ue}onInit(V,H){var $;const ue=this.normalizeInstanceIdentifier(H),Ie=null!==($=this.onInitCallbacks.get(ue))&&void 0!==$?$:new Set;Ie.add(V),this.onInitCallbacks.set(ue,Ie);const De=this.instances.get(ue);return De&&V(De,ue),()=>{Ie.delete(V)}}invokeOnInitCallbacks(V,H){const $=this.onInitCallbacks.get(H);if($)for(const ue of $)try{ue(V,H)}catch{}}getOrInitializeService({instanceIdentifier:V,options:H={}}){let $=this.instances.get(V);if(!$&&this.component&&($=this.component.instanceFactory(this.container,{instanceIdentifier:(J=V,J===oe?void 0:J),options:H}),this.instances.set(V,$),this.instancesOptions.set(V,H),this.invokeOnInitCallbacks($,V),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,V,$)}catch{}var J;return $||null}normalizeInstanceIdentifier(V=oe){return this.component?this.component.multipleInstances?V:oe:V}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Q{constructor(V){this.name=V,this.providers=new Map}addComponent(V){const H=this.getProvider(V.name);if(H.isComponentSet())throw new Error(`Component ${V.name} has already been registered with ${this.name}`);H.setComponent(V)}addOrOverwriteComponent(V){this.getProvider(V.name).isComponentSet()&&this.providers.delete(V.name),this.addComponent(V)}getProvider(V){if(this.providers.has(V))return this.providers.get(V);const H=new ne(V,this);return this.providers.set(V,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(st,ye,F)=>{F.d(ye,{Am:()=>J,Ub:()=>Q,Yd:()=>se,in:()=>ee});const o=[];var ee=(()=>{return(V=ee||(ee={}))[V.DEBUG=0]="DEBUG",V[V.VERBOSE=1]="VERBOSE",V[V.INFO=2]="INFO",V[V.WARN=3]="WARN",V[V.ERROR=4]="ERROR",V[V.SILENT=5]="SILENT",ee;var V})();const L={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},oe=ee.INFO,ne={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},Y=(V,H,...$)=>{if(H<V.logLevel)return;const ue=(new Date).toISOString(),Ie=ne[H];if(!Ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[Ie](`[${ue}]  ${V.name}:`,...$)};class se{constructor(H){this.name=H,this._logLevel=oe,this._logHandler=Y,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in ee))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?L[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...H),this._logHandler(this,ee.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...H),this._logHandler(this,ee.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...H),this._logHandler(this,ee.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...H),this._logHandler(this,ee.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...H),this._logHandler(this,ee.ERROR,...H)}}function Q(V){o.forEach(H=>{H.setLogLevel(V)})}function J(V,H){for(const $ of o){let ue=null;H&&H.level&&(ue=L[H.level]),$.userLogHandler=null===V?null:(Ie,De,...Ne)=>{const he=Ne.map(fe=>{if(null==fe)return null;if("string"==typeof fe)return fe;if("number"==typeof fe||"boolean"==typeof fe)return fe.toString();if(fe instanceof Error)return fe.message;try{return JSON.stringify(fe)}catch{return null}}).filter(fe=>fe).join(" ");De>=(ue??Ie.logLevel)&&V({level:ee[De].toLowerCase(),message:he,args:Ne,type:Ie.name})}}}},259:(st,ye,F)=>{F.d(ye,{C6:()=>o.getApps,Mq:()=>o.getApp});var o=F(9681);(0,o.registerVersion)("firebase","9.15.0","app")},9260:(st,ye,F)=>{F.d(ye,{Z:()=>o.Z});var o=F(3942);o.Z.registerVersion("firebase","9.15.0","app-compat")},8852:(st,ye,F)=>{F.r(ye);var o=F(5861),ee=F(3942),L=F(2090),oe=F(9681),ne=F(1877);function J(y,p){var m={};for(var C in y)Object.prototype.hasOwnProperty.call(y,C)&&p.indexOf(C)<0&&(m[C]=y[C]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var S=0;for(C=Object.getOwnPropertySymbols(y);S<C.length;S++)p.indexOf(C[S])<0&&Object.prototype.propertyIsEnumerable.call(y,C[S])&&(m[C[S]]=y[C[S]])}return m}var xi=F(4859);const bn=function jr(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Xi=function Gr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Mn=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Yo=new ne.Yd("@firebase/auth");function fi(y,...p){Yo.logLevel<=ne.in.ERROR&&Yo.error(`Auth (${oe.SDK_VERSION}): ${y}`,...p)}function on(y,...p){throw qr(y,...p)}function Rn(y,...p){return qr(y,...p)}function ws(y,p,m){const C=Object.assign(Object.assign({},Xi()),{[p]:m});return new L.LL("auth","Firebase",C).create(p,{appName:y.name})}function $r(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&on(y,"argument-error"),ws(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qr(y,...p){if("string"!=typeof y){const m=p[0],C=[...p.slice(1)];return C[0]&&(C[0].appName=y.name),y._errorFactory.create(m,...C)}return Mn.create(y,...p)}function Ae(y,p,...m){if(!y)throw qr(p,...m)}function Wr(y){const p="INTERNAL ASSERTION FAILED: "+y;throw fi(p),new Error(p)}function He(y,p){y||Wr(p)}const kr=new Map;function sr(y){He(y instanceof Function,"Expected a class definition");let p=kr.get(y);return p?(He(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,kr.set(y,p),p)}function no(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Cn(){return"http:"===Wn()||"https:"===Wn()}function Wn(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class lt{constructor(p,m){this.shortDelay=p,this.longDelay=m,He(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function xn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Cn()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qt(y,p){He(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class ro{static initialize(p,m,C){this.fetchImpl=p,m&&(this.headersImpl=m),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const cr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},pi=new lt(3e4,6e4);function nt(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function _n(y,p,m,C){return sn.apply(this,arguments)}function sn(){return(sn=(0,o.Z)(function*(y,p,m,C,S={}){return io(y,S,(0,o.Z)(function*(){let A={},j={};C&&("GET"===p?j=C:A={body:JSON.stringify(C)});const ae=(0,L.xO)(Object.assign({key:y.config.apiKey},j)).slice(1),Re=yield y._getAdditionalHeaders();return Re["Content-Type"]="application/json",y.languageCode&&(Re["X-Firebase-Locale"]=y.languageCode),ro.fetch()(tt(y,y.config.apiHost,m,ae),Object.assign({method:p,headers:Re,referrerPolicy:"no-referrer"},A))}))})).apply(this,arguments)}function io(y,p,m){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,o.Z)(function*(y,p,m){y._canInitEmulator=!1;const C=Object.assign(Object.assign({},cr),p);try{const S=new ve(y),A=yield Promise.race([m(),S.promise]);S.clearNetworkTimeout();const j=yield A.json();if("needConfirmation"in j)throw et(y,"account-exists-with-different-credential",j);if(A.ok&&!("errorMessage"in j))return j;{const ae=A.ok?j.errorMessage:j.error.message,[Re,Te]=ae.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Re)throw et(y,"credential-already-in-use",j);if("EMAIL_EXISTS"===Re)throw et(y,"email-already-in-use",j);if("USER_DISABLED"===Re)throw et(y,"user-disabled",j);const Xe=C[Re]||Re.toLowerCase().replace(/[_\s]+/g,"-");if(Te)throw ws(y,Xe,Te);on(y,Xe)}}catch(S){if(S instanceof L.ZR)throw S;on(y,"network-request-failed")}})).apply(this,arguments)}function wn(y,p,m,C){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,o.Z)(function*(y,p,m,C,S={}){const A=yield _n(y,p,m,C,S);return"mfaPendingCredential"in A&&on(y,"multi-factor-auth-required",{_serverResponse:A}),A})).apply(this,arguments)}function tt(y,p,m,C){const S=`${p}${m}?${C}`;return y.config.emulator?Qt(y.config,S):`${y.config.apiScheme}://${S}`}class ve{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,C)=>{this.timer=setTimeout(()=>C(Rn(this.auth,"network-request-failed")),pi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function et(y,p,m){const C={appName:y.name};m.email&&(C.email=m.email),m.phoneNumber&&(C.phoneNumber=m.phoneNumber);const S=Rn(y,p,C);return S.customData._tokenResponse=m,S}function xt(){return(xt=(0,o.Z)(function*(y,p){return _n(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Gt(y,p){return q.apply(this,arguments)}function q(){return(q=(0,o.Z)(function*(y,p){return _n(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function G(y,p){return K.apply(this,arguments)}function K(){return(K=(0,o.Z)(function*(y,p){return _n(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function me(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function ht(){return(ht=(0,o.Z)(function*(y,p=!1){const m=(0,L.m9)(y),C=yield m.getIdToken(p),S=ln(C);Ae(S&&S.exp&&S.auth_time&&S.iat,m.auth,"internal-error");const A="object"==typeof S.firebase?S.firebase:void 0,j=A?.sign_in_provider;return{claims:S,token:C,authTime:me($t(S.auth_time)),issuedAtTime:me($t(S.iat)),expirationTime:me($t(S.exp)),signInProvider:j||null,signInSecondFactor:A?.sign_in_second_factor||null}})).apply(this,arguments)}function $t(y){return 1e3*Number(y)}function ln(y){const[p,m,C]=y.split(".");if(void 0===p||void 0===m||void 0===C)return fi("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,L.tV)(m);return S?JSON.parse(S):(fi("Failed to decode base64 JWT payload"),null)}catch(S){return fi("Caught error parsing JWT payload as JSON",S?.toString()),null}}function ke(y,p){return Be.apply(this,arguments)}function Be(){return(Be=(0,o.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(C){throw C instanceof L.ZR&&Vt(C)&&y.auth.currentUser===y&&(yield y.auth.signOut()),C}})).apply(this,arguments)}function Vt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Tr{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const S=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const C=this.getInterval(p);this.timerId=setTimeout((0,o.Z)(function*(){yield m.iteration()}),C)}iteration(){var p=this;return(0,o.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&p.schedule(!0))}p.schedule()})()}}class oi{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=me(this.lastLoginAt),this.creationTime=me(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Fn(y){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,o.Z)(function*(y){var p;const m=y.auth,C=yield y.getIdToken(),S=yield ke(y,G(m,{idToken:C}));Ae(S?.users.length,m,"internal-error");const A=S.users[0];y._notifyReloadListener(A);const j=null!==(p=A.providerUserInfo)&&void 0!==p&&p.length?St(A.providerUserInfo):[],ae=oa(y.providerData,j),Xe=!!y.isAnonymous&&!(y.email&&A.passwordHash||ae?.length),ut={uid:A.localId,displayName:A.displayName||null,photoURL:A.photoUrl||null,email:A.email||null,emailVerified:A.emailVerified||!1,phoneNumber:A.phoneNumber||null,tenantId:A.tenantId||null,providerData:ae,metadata:new oi(A.createdAt,A.lastLoginAt),isAnonymous:Xe};Object.assign(y,ut)})).apply(this,arguments)}function Do(){return(Do=(0,o.Z)(function*(y){const p=(0,L.m9)(y);yield Fn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function oa(y,p){return[...y.filter(C=>!p.some(S=>S.providerId===C.providerId)),...p]}function St(y){return y.map(p=>{var{providerId:m}=p,C=J(p,["providerId"]);return{providerId:m,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Jo(){return(Jo=(0,o.Z)(function*(y,p){const m=yield io(y,{},(0,o.Z)(function*(){const C=(0,L.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:A}=y.config,j=tt(y,S,"/v1/token",`key=${A}`),ae=yield y._getAdditionalHeaders();return ae["Content-Type"]="application/x-www-form-urlencoded",ro.fetch()(j,{method:"POST",headers:ae,body:C})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Ds{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Ae(p.idToken,"internal-error"),Ae(typeof p.idToken<"u","internal-error"),Ae(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function an(y){const p=ln(y);return Ae(p,"internal-error"),Ae(typeof p.exp<"u","internal-error"),Ae(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var C=this;return(0,o.Z)(function*(){return Ae(!C.accessToken||C.refreshToken,p,"user-token-expired"),m||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(p,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var C=this;return(0,o.Z)(function*(){const{accessToken:S,refreshToken:A,expiresIn:j}=yield function sa(y,p){return Jo.apply(this,arguments)}(p,m);C.updateTokensAndExpiration(S,A,Number(j))})()}updateTokensAndExpiration(p,m,C){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(p,m){const{refreshToken:C,accessToken:S,expirationTime:A}=m,j=new Ds;return C&&(Ae("string"==typeof C,"internal-error",{appName:p}),j.refreshToken=C),S&&(Ae("string"==typeof S,"internal-error",{appName:p}),j.accessToken=S),A&&(Ae("number"==typeof A,"internal-error",{appName:p}),j.expirationTime=A),j}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Ds,this.toJSON())}_performRefresh(){return Wr("not implemented")}}function Fr(y,p){Ae("string"==typeof y||typeof y>"u","internal-error",{appName:p})}class yn{constructor(p){var{uid:m,auth:C,stsTokenManager:S}=p,A=J(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Tr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=C,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=A.displayName||null,this.email=A.email||null,this.emailVerified=A.emailVerified||!1,this.phoneNumber=A.phoneNumber||null,this.photoURL=A.photoURL||null,this.isAnonymous=A.isAnonymous||!1,this.tenantId=A.tenantId||null,this.providerData=A.providerData?[...A.providerData]:[],this.metadata=new oi(A.createdAt||void 0,A.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,o.Z)(function*(){const C=yield ke(m,m.stsTokenManager.getToken(m.auth,p));return Ae(C,m.auth,"internal-error"),m.accessToken!==C&&(m.accessToken=C,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),C})()}getIdTokenResult(p){return function Ge(y){return ht.apply(this,arguments)}(this,p)}reload(){return function Dn(y){return Do.apply(this,arguments)}(this)}_assign(p){this!==p&&(Ae(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new yn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var C=this;return(0,o.Z)(function*(){let S=!1;p.idToken&&p.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(p),S=!0),m&&(yield Fn(C)),yield C.auth._persistUserIfCurrent(C),S&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var p=this;return(0,o.Z)(function*(){const m=yield p.getIdToken();return yield ke(p,function It(y,p){return xt.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var C,S,A,j,ae,Re,Te,Xe;const ut=null!==(C=m.displayName)&&void 0!==C?C:void 0,qt=null!==(S=m.email)&&void 0!==S?S:void 0,Ln=null!==(A=m.phoneNumber)&&void 0!==A?A:void 0,go=null!==(j=m.photoURL)&&void 0!==j?j:void 0,Uh=null!==(ae=m.tenantId)&&void 0!==ae?ae:void 0,Rp=null!==(Re=m._redirectEventId)&&void 0!==Re?Re:void 0,Ul=null!==(Te=m.createdAt)&&void 0!==Te?Te:void 0,Hc=null!==(Xe=m.lastLoginAt)&&void 0!==Xe?Xe:void 0,{uid:Vl,emailVerified:Fp,isAnonymous:Vh,providerData:Lp,stsTokenManager:Jn}=m;Ae(Vl&&Jn,p,"internal-error");const Fv=Ds.fromJSON(this.name,Jn);Ae("string"==typeof Vl,p,"internal-error"),Fr(ut,p.name),Fr(qt,p.name),Ae("boolean"==typeof Fp,p,"internal-error"),Ae("boolean"==typeof Vh,p,"internal-error"),Fr(Ln,p.name),Fr(go,p.name),Fr(Uh,p.name),Fr(Rp,p.name),Fr(Ul,p.name),Fr(Hc,p.name);const s_=new yn({uid:Vl,auth:p,email:qt,emailVerified:Fp,displayName:ut,isAnonymous:Vh,photoURL:go,phoneNumber:Ln,tenantId:Uh,stsTokenManager:Fv,createdAt:Ul,lastLoginAt:Hc});return Lp&&Array.isArray(Lp)&&(s_.providerData=Lp.map(Up=>Object.assign({},Up))),Rp&&(s_._redirectEventId=Rp),s_}static _fromIdTokenResponse(p,m,C=!1){return(0,o.Z)(function*(){const S=new Ds;S.updateFromServerResponse(m);const A=new yn({uid:m.localId,auth:p,stsTokenManager:S,isAnonymous:C});return yield Fn(A),A})()}}const gi=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(m,C){var S=this;return(0,o.Z)(function*(){S.storage[m]=C})()}_get(m){var C=this;return(0,o.Z)(function*(){const S=C.storage[m];return void 0===S?null:S})()}_remove(m){var C=this;return(0,o.Z)(function*(){delete C.storage[m]})()}_addListener(m,C){}_removeListener(m,C){}}return y.type="NONE",y})();function Er(y,p,m){return`firebase:${y}:${p}:${m}`}class On{constructor(p,m,C){this.persistence=p,this.auth=m,this.userKey=C;const{config:S,name:A}=this.auth;this.fullUserKey=Er(this.userKey,S.apiKey,A),this.fullPersistenceKey=Er("persistence",S.apiKey,A),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,o.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?yn._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,o.Z)(function*(){if(m.persistence===p)return;const C=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,C?m.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,C="authUser"){return(0,o.Z)(function*(){if(!m.length)return new On(sr(gi),p,C);const S=(yield Promise.all(m.map(function(){var Te=(0,o.Z)(function*(Xe){if(yield Xe._isAvailable())return Xe});return function(Xe){return Te.apply(this,arguments)}}()))).filter(Te=>Te);let A=S[0]||sr(gi);const j=Er(C,p.config.apiKey,p.name);let ae=null;for(const Te of m)try{const Xe=yield Te._get(j);if(Xe){const ut=yn._fromJSON(p,Xe);Te!==A&&(ae=ut),A=Te;break}}catch{}const Re=S.filter(Te=>Te._shouldAllowMigration);return A._shouldAllowMigration&&Re.length?(A=Re[0],ae&&(yield A._set(j,ae.toJSON())),yield Promise.all(m.map(function(){var Te=(0,o.Z)(function*(Xe){if(Xe!==A)try{yield Xe._remove(j)}catch{}});return function(Xe){return Te.apply(this,arguments)}}())),new On(A,p,C)):new On(A,p,C)})()}}function al(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(ca(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Xt(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(mi(p))return"Blackberry";if(la(p))return"Webos";if(gu(p))return"Safari";if((p.includes("chrome/")||cl(p))&&!p.includes("edge/"))return"Chrome";if(To(p))return"Android";{const C=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function Xt(y=(0,L.z$)()){return/firefox\//i.test(y)}function gu(y=(0,L.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function cl(y=(0,L.z$)()){return/crios\//i.test(y)}function ca(y=(0,L.z$)()){return/iemobile/i.test(y)}function To(y=(0,L.z$)()){return/android/i.test(y)}function mi(y=(0,L.z$)()){return/blackberry/i.test(y)}function la(y=(0,L.z$)()){return/webos/i.test(y)}function si(y=(0,L.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function _i(y=(0,L.z$)()){return si(y)||To(y)||la(y)||mi(y)||/windows phone/i.test(y)||ca(y)}function ul(y,p=[]){let m;switch(y){case"Browser":m=al((0,L.z$)());break;case"Worker":m=`${al((0,L.z$)())}-${y}`;break;default:m=y}const C=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${oe.SDK_VERSION}/${C}`}class mu{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const C=A=>new Promise((j,ae)=>{try{j(p(A))}catch(Re){ae(Re)}});C.onAbort=m,this.queue.push(C);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,o.Z)(function*(){if(m.auth.currentUser===p)return;const C=[];try{for(const S of m.queue)yield S(p),S.onAbort&&C.push(S.onAbort)}catch(S){C.reverse();for(const A of C)try{A()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:S?.message})}})()}}class yi{constructor(p,m,C){this.app=p,this.heartbeatServiceProvider=m,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qf(this),this.idTokenSubscription=new Qf(this),this.beforeStateQueue=new mu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(p,m){var C=this;return m&&(this._popupRedirectResolver=sr(m)),this._initializationPromise=this.queue((0,o.Z)(function*(){var S,A;if(!C._deleted&&(C.persistenceManager=yield On.create(C,p),!C._deleted)){if(null!==(S=C._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(m),C.lastNotifiedUid=(null===(A=C.currentUser)||void 0===A?void 0:A.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,o.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,o.Z)(function*(){var C;const S=yield m.assertedPersistence.getCurrentUser();let A=S,j=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ae=null===(C=m.redirectUser)||void 0===C?void 0:C._redirectEventId,Re=A?._redirectEventId,Te=yield m.tryRedirectSignIn(p);(!ae||ae===Re)&&Te?.user&&(A=Te.user,j=!0)}if(!A)return m.directlySetCurrentUser(null);if(!A._redirectEventId){if(j)try{yield m.beforeStateQueue.runMiddleware(A)}catch(ae){A=S,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ae))}return A?m.reloadAndSetCurrentUserOrClear(A):m.directlySetCurrentUser(null)}return Ae(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===A._redirectEventId?m.directlySetCurrentUser(A):m.reloadAndSetCurrentUserOrClear(A)})()}tryRedirectSignIn(p){var m=this;return(0,o.Z)(function*(){let C=null;try{C=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,o.Z)(function*(){try{yield Fn(p)}catch(C){if("auth/network-request-failed"!==C?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function _t(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,o.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,o.Z)(function*(){const C=p?(0,L.m9)(p):null;return C&&Ae(C.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(C&&C._clone(m))})()}_updateCurrentUser(p,m=!1){var C=this;return(0,o.Z)(function*(){if(!C._deleted)return p&&Ae(C.tenantId===p.tenantId,C,"tenant-id-mismatch"),m||(yield C.beforeStateQueue.runMiddleware(p)),C.queue((0,o.Z)(function*(){yield C.directlySetCurrentUser(p),C.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,o.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,o.Z)(function*(){yield m.assertedPersistence.setPersistence(sr(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new L.LL("auth","Firebase",p())}onAuthStateChanged(p,m,C){return this.registerStateListener(this.authStateSubscription,p,m,C)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,C){return this.registerStateListener(this.idTokenSubscription,p,m,C)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var C=this;return(0,o.Z)(function*(){const S=yield C.getOrInitRedirectPersistenceManager(m);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,o.Z)(function*(){if(!m.redirectPersistenceManager){const C=p&&sr(p)||m._popupRedirectResolver;Ae(C,m,"argument-error"),m.redirectPersistenceManager=yield On.create(m,[sr(C._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,o.Z)(function*(){var C,S;return m._isInitialized&&(yield m.queue((0,o.Z)(function*(){}))),(null===(C=m._currentUser)||void 0===C?void 0:C._redirectEventId)===p?m._currentUser:(null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,o.Z)(function*(){if(p===m.currentUser)return m.queue((0,o.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,C,S){if(this._deleted)return()=>{};const A="function"==typeof m?m:m.next.bind(m),j=this._isInitialized?Promise.resolve():this._initializationPromise;return Ae(j,this,"internal-error"),j.then(()=>A(this.currentUser)),"function"==typeof m?p.addObserver(m,C,S):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,o.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=ul(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,o.Z)(function*(){var m;const C={"X-Client-Version":p.clientVersion};p.app.options.appId&&(C["X-Firebase-gmpid"]=p.app.options.appId);const S=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return S&&(C["X-Firebase-Client"]=S),C})()}}function lr(y){return(0,L.m9)(y)}class Qf{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,L.ne)(m=>this.observer=m)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Xo(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Vi(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class ic{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return Wr("not implemented")}_getIdTokenResponse(p){return Wr("not implemented")}_linkToIdToken(p,m){return Wr("not implemented")}_getReauthenticationResolver(p){return Wr("not implemented")}}function Jf(y,p){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,o.Z)(function*(y,p){return _n(y,"POST","/v1/accounts:resetPassword",nt(y,p))})).apply(this,arguments)}function oc(y,p){return sc.apply(this,arguments)}function sc(){return(sc=(0,o.Z)(function*(y,p){return _n(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ua(y,p){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,o.Z)(function*(y,p){return _n(y,"POST","/v1/accounts:update",nt(y,p))})).apply(this,arguments)}function Bd(){return(Bd=(0,o.Z)(function*(y,p){return wn(y,"POST","/v1/accounts:signInWithPassword",nt(y,p))})).apply(this,arguments)}function _u(y,p){return Zd.apply(this,arguments)}function Zd(){return(Zd=(0,o.Z)(function*(y,p){return _n(y,"POST","/v1/accounts:sendOobCode",nt(y,p))})).apply(this,arguments)}function Hd(y,p){return dl.apply(this,arguments)}function dl(){return(dl=(0,o.Z)(function*(y,p){return _u(y,p)})).apply(this,arguments)}function jd(y,p){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,o.Z)(function*(y,p){return _u(y,p)})).apply(this,arguments)}function $d(y,p){return oo.apply(this,arguments)}function oo(){return(oo=(0,o.Z)(function*(y,p){return _u(y,p)})).apply(this,arguments)}function hl(y,p){return da.apply(this,arguments)}function da(){return(da=(0,o.Z)(function*(y,p){return _u(y,p)})).apply(this,arguments)}function ha(){return(ha=(0,o.Z)(function*(y,p){return wn(y,"POST","/v1/accounts:signInWithEmailLink",nt(y,p))})).apply(this,arguments)}function fl(){return(fl=(0,o.Z)(function*(y,p){return wn(y,"POST","/v1/accounts:signInWithEmailLink",nt(y,p))})).apply(this,arguments)}class ac extends ic{constructor(p,m,C,S=null){super("password",C),this._email=p,this._password=m,this._tenantId=S}static _fromEmailAndPassword(p,m){return new ac(p,m,"password")}static _fromEmailAndCode(p,m,C=null){return new ac(p,m,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,o.Z)(function*(){switch(m.signInMethod){case"password":return function Pm(y,p){return Bd.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function qd(y,p){return ha.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:on(p,"internal-error")}})()}_linkToIdToken(p,m){var C=this;return(0,o.Z)(function*(){switch(C.signInMethod){case"password":return oc(p,{idToken:m,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function yu(y,p){return fl.apply(this,arguments)}(p,{idToken:m,email:C._email,oobCode:C._password});default:on(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function An(y,p){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,o.Z)(function*(y,p){return wn(y,"POST","/v1/accounts:signInWithIdp",nt(y,p))})).apply(this,arguments)}class Zn extends ic{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new Zn(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):on("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:S}=m,A=J(m,["providerId","signInMethod"]);if(!C||!S)return null;const j=new Zn(C,S);return j.idToken=A.idToken||void 0,j.accessToken=A.accessToken||void 0,j.secret=A.secret,j.nonce=A.nonce,j.pendingToken=A.pendingToken||null,j}_getIdTokenResponse(p){return An(p,this.buildRequest())}_linkToIdToken(p,m){const C=this.buildRequest();return C.idToken=m,An(p,C)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,An(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,L.xO)(m)}return p}}function cc(y,p){return vu.apply(this,arguments)}function vu(){return(vu=(0,o.Z)(function*(y,p){return _n(y,"POST","/v1/accounts:sendVerificationCode",nt(y,p))})).apply(this,arguments)}function Wd(){return(Wd=(0,o.Z)(function*(y,p){return wn(y,"POST","/v1/accounts:signInWithPhoneNumber",nt(y,p))})).apply(this,arguments)}function Hn(){return(Hn=(0,o.Z)(function*(y,p){const m=yield wn(y,"POST","/v1/accounts:signInWithPhoneNumber",nt(y,p));if(m.temporaryProof)throw et(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const ep={USER_NOT_FOUND:"user-not-found"};function vi(){return(vi=(0,o.Z)(function*(y,p){return wn(y,"POST","/v1/accounts:signInWithPhoneNumber",nt(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),ep)})).apply(this,arguments)}class jn extends ic{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new jn({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new jn({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function lc(y,p){return Wd.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function Xf(y,p){return Hn.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Nm(y,p){return vi.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:C,verificationCode:S}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:C,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:C,phoneNumber:S,temporaryProof:A}=p;return C||m||S||A?new jn({verificationId:m,verificationCode:C,phoneNumber:S,temporaryProof:A}):null}}class Zi{constructor(p){var m,C,S,A,j,ae;const Re=(0,L.zd)((0,L.pd)(p)),Te=null!==(m=Re.apiKey)&&void 0!==m?m:null,Xe=null!==(C=Re.oobCode)&&void 0!==C?C:null,ut=function zd(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Re.mode)&&void 0!==S?S:null);Ae(Te&&Xe&&ut,"argument-error"),this.apiKey=Te,this.operation=ut,this.code=Xe,this.continueUrl=null!==(A=Re.continueUrl)&&void 0!==A?A:null,this.languageCode=null!==(j=Re.languageCode)&&void 0!==j?j:null,this.tenantId=null!==(ae=Re.tenantId)&&void 0!==ae?ae:null}static parseLink(p){const m=function uc(y){const p=(0,L.zd)((0,L.pd)(y)).link,m=p?(0,L.zd)((0,L.pd)(p)).deep_link_id:null,C=(0,L.zd)((0,L.pd)(y)).deep_link_id;return(C?(0,L.zd)((0,L.pd)(C)).link:null)||C||m||p||y}(p);try{return new Zi(m)}catch{return null}}}let pl=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,C){return ac._fromEmailAndPassword(m,C)}static credentialWithLink(m,C){const S=Zi.parseLink(C);return Ae(S,"argument-error"),ac._fromEmailAndCode(m,S.code,S.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class ai{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Ts extends ai{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class zr extends Ts{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return Ae("providerId"in m&&"signInMethod"in m,"argument-error"),Zn._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Ae(p.idToken||p.accessToken,"argument-error"),Zn._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return zr.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return zr.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:C,oauthTokenSecret:S,pendingToken:A,nonce:j,providerId:ae}=p;if(!C&&!S&&!m&&!A||!ae)return null;try{return new zr(ae)._credential({idToken:m,accessToken:C,nonce:j,pendingToken:A})}catch{return null}}}let bu=(()=>{class y extends Ts{constructor(){super("facebook.com")}static credential(m){return Zn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),zn=(()=>{class y extends Ts{constructor(){super("google.com"),this.addScope("profile")}static credential(m,C){return Zn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:C})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:C,oauthAccessToken:S}=m;if(!C&&!S)return null;try{return y.credential(C,S)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Ct=(()=>{class y extends Ts{constructor(){super("github.com")}static credential(m){return Zn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class gl extends ic{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return An(p,this.buildRequest())}_linkToIdToken(p,m){const C=this.buildRequest();return C.idToken=m,An(p,C)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,An(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:S,pendingToken:A}=m;return C&&S&&A&&C===S?new gl(C,A):null}static _create(p,m){return new gl(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class dc extends ai{constructor(p){Ae(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return dc.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return dc.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=gl.fromJSON(p);return Ae(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:C}=p;if(!m||!C)return null;try{return gl._create(C,m)}catch{return null}}}let ml=(()=>{class y extends Ts{constructor(){super("twitter.com")}static credential(m,C){return Zn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:C})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:C,oauthTokenSecret:S}=m;if(!C||!S)return null;try{return y.credential(C,S)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function es(y,p){return hc.apply(this,arguments)}function hc(){return(hc=(0,o.Z)(function*(y,p){return wn(y,"POST","/v1/accounts:signUp",nt(y,p))})).apply(this,arguments)}class ci{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,C,S=!1){return(0,o.Z)(function*(){const A=yield yn._fromIdTokenResponse(p,C,S),j=we(C);return new ci({user:A,providerId:j,_tokenResponse:C,operationType:m})})()}static _forOperation(p,m,C){return(0,o.Z)(function*(){yield p._updateTokensIfNecessary(C,!0);const S=we(C);return new ci({user:p,providerId:S,_tokenResponse:C,operationType:m})})()}}function we(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Du(){return(Du=(0,o.Z)(function*(y){var p;const m=lr(y);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new ci({user:m.currentUser,providerId:null,operationType:"signIn"});const C=yield es(m,{returnSecureToken:!0}),S=yield ci._fromIdTokenResponse(m,"signIn",C,!0);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class Es extends L.ZR{constructor(p,m,C,S){var A;super(m.code,m.message),this.operationType=C,this.user=S,Object.setPrototypeOf(this,Es.prototype),this.customData={appName:p.name,tenantId:null!==(A=p.tenantId)&&void 0!==A?A:void 0,_serverResponse:m.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(p,m,C,S){return new Es(p,m,C,S)}}function Kn(y,p,m,C){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(A=>{throw"auth/multi-factor-auth-required"===A.code?Es._fromErrorAndOperation(y,A,p,C):A})}function fc(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function li(){return(li=(0,o.Z)(function*(y,p){const m=(0,L.m9)(y);yield yl(!0,m,p);const{providerUserInfo:C}=yield Gt(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),S=fc(C||[]);return m.providerData=m.providerData.filter(A=>S.has(A.providerId)),S.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function pc(y,p){return fa.apply(this,arguments)}function fa(){return(fa=(0,o.Z)(function*(y,p,m=!1){const C=yield ke(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return ci._forOperation(y,"link",C)})).apply(this,arguments)}function yl(y,p,m){return gc.apply(this,arguments)}function gc(){return(gc=(0,o.Z)(function*(y,p,m){yield Fn(p);const S=!1===y?"provider-already-linked":"no-such-provider";Ae(fc(p.providerData).has(m)===y,p.auth,S)})).apply(this,arguments)}function tp(y,p){return Is.apply(this,arguments)}function Is(){return(Is=(0,o.Z)(function*(y,p,m=!1){const{auth:C}=y,S="reauthenticate";try{const A=yield ke(y,Kn(C,S,p,y),m);Ae(A.idToken,C,"internal-error");const j=ln(A.idToken);Ae(j,C,"internal-error");const{sub:ae}=j;return Ae(y.uid===ae,C,"user-mismatch"),ci._forOperation(y,S,A)}catch(A){throw"auth/user-not-found"===A?.code&&on(C,"user-mismatch"),A}})).apply(this,arguments)}function Yn(y,p){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,o.Z)(function*(y,p,m=!1){const C="signIn",S=yield Kn(y,C,p),A=yield ci._fromIdTokenResponse(y,C,S);return m||(yield y._updateCurrentUser(A.user)),A})).apply(this,arguments)}function pa(y,p){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,o.Z)(function*(y,p){return Yn(lr(y),p)})).apply(this,arguments)}function so(y,p){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,o.Z)(function*(y,p){const m=(0,L.m9)(y);return yield yl(!1,m,p.providerId),pc(m,p)})).apply(this,arguments)}function vl(y,p){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,o.Z)(function*(y,p){return tp((0,L.m9)(y),p)})).apply(this,arguments)}function np(y,p){return ga.apply(this,arguments)}function ga(){return(ga=(0,o.Z)(function*(y,p){return wn(y,"POST","/v1/accounts:signInWithCustomToken",nt(y,p))})).apply(this,arguments)}function mc(){return(mc=(0,o.Z)(function*(y,p){const m=lr(y),C=yield np(m,{token:p,returnSecureToken:!0}),S=yield ci._fromIdTokenResponse(m,"signIn",C);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class ma{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?_c._fromServerResponse(p,m):on(p,"internal-error")}}class _c extends ma{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new _c(m)}}function yc(y,p,m){var C;Ae((null===(C=m.url)||void 0===C?void 0:C.length)>0,y,"invalid-continue-uri"),Ae(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Ae(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(Ae(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function Eu(){return(Eu=(0,o.Z)(function*(y,p,m){const C=(0,L.m9)(y),S={requestType:"PASSWORD_RESET",email:p};m&&yc(C,S,m),yield jd(C,S)})).apply(this,arguments)}function Su(){return(Su=(0,o.Z)(function*(y,p,m){yield Jf((0,L.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Io(){return(Io=(0,o.Z)(function*(y,p){yield ua((0,L.m9)(y),{oobCode:p})})).apply(this,arguments)}function Ms(y,p){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,o.Z)(function*(y,p){const m=(0,L.m9)(y),C=yield Jf(m,{oobCode:p}),S=C.requestType;switch(Ae(S,m,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ae(C.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ae(C.mfaInfo,m,"internal-error");default:Ae(C.email,m,"internal-error")}let A=null;return C.mfaInfo&&(A=ma._fromServerResponse(lr(m),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:A},operation:S}})).apply(this,arguments)}function ao(){return(ao=(0,o.Z)(function*(y,p){const{data:m}=yield Ms((0,L.m9)(y),p);return m.email})).apply(this,arguments)}function vc(){return(vc=(0,o.Z)(function*(y,p,m){const C=lr(y),S=yield es(C,{returnSecureToken:!0,email:p,password:m}),A=yield ci._fromIdTokenResponse(C,"signIn",S);return yield C._updateCurrentUser(A.user),A})).apply(this,arguments)}function bc(){return(bc=(0,o.Z)(function*(y,p,m){const C=(0,L.m9)(y),S={requestType:"EMAIL_SIGNIN",email:p};Ae(m.handleCodeInApp,C,"argument-error"),m&&yc(C,S,m),yield $d(C,S)})).apply(this,arguments)}function _a(){return(_a=(0,o.Z)(function*(y,p,m){const C=(0,L.m9)(y),S=pl.credentialWithLink(p,m||no());return Ae(S._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),pa(C,S)})).apply(this,arguments)}function xs(y,p){return So.apply(this,arguments)}function So(){return(So=(0,o.Z)(function*(y,p){return _n(y,"POST","/v1/accounts:createAuthUri",nt(y,p))})).apply(this,arguments)}function Mo(){return(Mo=(0,o.Z)(function*(y,p){const C={identifier:p,continueUri:Cn()?no():"http://localhost"},{signinMethods:S}=yield xs((0,L.m9)(y),C);return S||[]})).apply(this,arguments)}function Hi(){return(Hi=(0,o.Z)(function*(y,p){const m=(0,L.m9)(y),S={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&yc(m.auth,S,p);const{email:A}=yield Hd(m.auth,S);A!==y.email&&(yield y.reload())})).apply(this,arguments)}function Pu(){return(Pu=(0,o.Z)(function*(y,p,m){const C=(0,L.m9)(y),A={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&yc(C.auth,A,m);const{email:j}=yield hl(C.auth,A);j!==y.email&&(yield y.reload())})).apply(this,arguments)}function Jd(y,p){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,o.Z)(function*(y,p){return _n(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function va(){return(va=(0,o.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const C=(0,L.m9)(y),A={idToken:yield C.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},j=yield ke(C,Jd(C.auth,A));C.displayName=j.displayName||null,C.photoURL=j.photoUrl||null;const ae=C.providerData.find(({providerId:Re})=>"password"===Re);ae&&(ae.displayName=C.displayName,ae.photoURL=C.photoURL),yield C._updateTokensIfNecessary(j)})).apply(this,arguments)}function Cc(y,p,m){return ts.apply(this,arguments)}function ts(){return(ts=(0,o.Z)(function*(y,p,m){const{auth:C}=y,A={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(A.email=p),m&&(A.password=m);const j=yield ke(y,oc(C,A));yield y._updateTokensIfNecessary(j,!0)})).apply(this,arguments)}class ns{constructor(p,m,C={}){this.isNewUser=p,this.providerId=m,this.profile=C}}class ba extends ns{constructor(p,m,C,S){super(p,m,C),this.username=S}}class eh extends ns{constructor(p,m){super(p,"facebook.com",m)}}class th extends ba{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class dr extends ns{constructor(p,m){super(p,"google.com",m)}}class nh extends ba{constructor(p,m,C){super(p,"twitter.com",m,C)}}function Ca(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Tl(y){var p,m;if(!y)return null;const{providerId:C}=y,S=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},A=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!C&&y?.idToken){const j=null===(m=null===(p=ln(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(j)return new ns(A,"anonymous"!==j&&"custom"!==j?j:null)}if(!C)return null;switch(C){case"facebook.com":return new eh(A,S);case"github.com":return new th(A,S);case"google.com":return new dr(A,S);case"twitter.com":return new nh(A,S,y.screenName||null);case"custom":case"anonymous":return new ns(A,null);default:return new ns(A,C,S)}}(m)}class Oo{constructor(p,m,C){this.type=p,this.credential=m,this.auth=C}static _fromIdtoken(p,m){return new Oo("enroll",p,m)}static _fromMfaPendingCredential(p){return new Oo("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,C;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Oo._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(C=p.multiFactorSession)&&void 0!==C&&C.idToken)return Oo._fromIdtoken(p.multiFactorSession.idToken)}return null}}class wa{constructor(p,m,C){this.session=p,this.hints=m,this.signInResolver=C}static _fromError(p,m){const C=lr(p),S=m.customData._serverResponse,A=(S.mfaInfo||[]).map(ae=>ma._fromServerResponse(C,ae));Ae(S.mfaPendingCredential,C,"internal-error");const j=Oo._fromMfaPendingCredential(S.mfaPendingCredential);return new wa(j,A,function(){var ae=(0,o.Z)(function*(Re){const Te=yield Re._process(C,j);delete S.mfaInfo,delete S.mfaPendingCredential;const Xe=Object.assign(Object.assign({},S),{idToken:Te.idToken,refreshToken:Te.refreshToken});switch(m.operationType){case"signIn":const ut=yield ci._fromIdTokenResponse(C,m.operationType,Xe);return yield C._updateCurrentUser(ut.user),ut;case"reauthenticate":return Ae(m.user,C,"internal-error"),ci._forOperation(m.user,m.operationType,Xe);default:on(C,"internal-error")}});return function(Re){return ae.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,o.Z)(function*(){return m.signInResolver(p)})()}}function Os(y,p){return _n(y,"POST","/v2/accounts/mfaEnrollment:start",nt(y,p))}class Il{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(C=>ma._fromServerResponse(p.auth,C)))})}static _fromUser(p){return new Il(p)}getSession(){var p=this;return(0,o.Z)(function*(){return Oo._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var C=this;return(0,o.Z)(function*(){const S=p,A=yield C.getSession(),j=yield ke(C.user,S._process(C.user.auth,A,m));return yield C.user._updateTokensIfNecessary(j),C.user.reload()})()}unenroll(p){var m=this;return(0,o.Z)(function*(){const C="string"==typeof p?p:p.uid,S=yield m.user.getIdToken(),A=yield ke(m.user,function Dc(y,p){return _n(y,"POST","/v2/accounts/mfaEnrollment:withdraw",nt(y,p))}(m.user.auth,{idToken:S,mfaEnrollmentId:C}));m.enrolledFactors=m.enrolledFactors.filter(({uid:j})=>j!==C),yield m.user._updateTokensIfNecessary(A);try{yield m.user.reload()}catch(j){if("auth/user-token-expired"!==j?.code)throw j}})()}}const Tc=new WeakMap,Ec="__sak";class Ic{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Ec,"1"),this.storage.removeItem(Ec),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ao=(()=>{class y extends Ic{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,C)=>this.onStorageEvent(m,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function rs(){const y=(0,L.z$)();return gu(y)||si(y)}()&&function ll(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=_i(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const C of Object.keys(this.listeners)){const S=this.storage.getItem(C),A=this.localCache[C];S!==A&&m(C,A,S)}}onStorageEvent(m,C=!1){if(!m.key)return void this.forAllChangedKeys((ae,Re,Te)=>{this.notifyListeners(ae,Te)});const S=m.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ae=this.storage.getItem(S);if(m.newValue!==ae)null!==m.newValue?this.storage.setItem(S,m.newValue):this.storage.removeItem(S);else if(this.localCache[S]===m.newValue&&!C)return}const A=()=>{const ae=this.storage.getItem(S);!C&&this.localCache[S]===ae||this.notifyListeners(S,ae)},j=this.storage.getItem(S);!function Ir(){return(0,L.w1)()&&10===document.documentMode}()||j===m.newValue||m.newValue===m.oldValue?A():setTimeout(A,10)}notifyListeners(m,C){this.localCache[m]=C;const S=this.listeners[m];if(S)for(const A of Array.from(S))A(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,C,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:C,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,C){var S=()=>super._set,A=this;return(0,o.Z)(function*(){yield S().call(A,m,C),A.localCache[m]=JSON.stringify(C)})()}_get(m){var C=()=>super._get,S=this;return(0,o.Z)(function*(){const A=yield C().call(S,m);return S.localCache[m]=JSON.stringify(A),A})()}_remove(m){var C=()=>super._remove,S=this;return(0,o.Z)(function*(){yield C().call(S,m),delete S.localCache[m]})()}}return y.type="LOCAL",y})(),Lr=(()=>{class y extends Ic{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,C){}_removeListener(m,C){}}return y.type="SESSION",y})();let ap=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const C=this.receivers.find(A=>A.isListeningto(m));if(C)return C;const S=new y(m);return this.receivers.push(S),S}isListeningto(m){return this.eventTarget===m}handleEvent(m){var C=this;return(0,o.Z)(function*(){const S=m,{eventId:A,eventType:j,data:ae}=S.data,Re=C.handlersMap[j];if(!Re?.size)return;S.ports[0].postMessage({status:"ack",eventId:A,eventType:j});const Te=Array.from(Re).map(function(){var ut=(0,o.Z)(function*(qt){return qt(S.origin,ae)});return function(qt){return ut.apply(this,arguments)}}()),Xe=yield function Sc(y){return Promise.all(y.map(function(){var p=(0,o.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(C){return{fulfilled:!1,reason:C}}});return function(m){return p.apply(this,arguments)}}()))}(Te);S.ports[0].postMessage({status:"done",eventId:A,eventType:j,response:Xe})})()}_subscribe(m,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(C)}_unsubscribe(m,C){this.handlersMap[m]&&C&&this.handlersMap[m].delete(C),(!C||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function lo(y="",p=10){let m="";for(let C=0;C<p;C++)m+=Math.floor(10*Math.random());return y+m}class Ml{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,C=50){var S=this;return(0,o.Z)(function*(){const A=typeof MessageChannel<"u"?new MessageChannel:null;if(!A)throw new Error("connection_unavailable");let j,ae;return new Promise((Re,Te)=>{const Xe=lo("",20);A.port1.start();const ut=setTimeout(()=>{Te(new Error("unsupported_event"))},C);ae={messageChannel:A,onMessage(qt){const Ln=qt;if(Ln.data.eventId===Xe)switch(Ln.data.status){case"ack":clearTimeout(ut),j=setTimeout(()=>{Te(new Error("timeout"))},3e3);break;case"done":clearTimeout(j),Re(Ln.data.response);break;default:clearTimeout(ut),clearTimeout(j),Te(new Error("invalid_response"))}}},S.handlers.add(ae),A.port1.addEventListener("message",ae.onMessage),S.target.postMessage({eventType:p,eventId:Xe,data:m},[A.port2])}).finally(()=>{ae&&S.removeMessageHandler(ae)})})()}}function Jt(){return window}function is(){return typeof Jt().WorkerGlobalScope<"u"&&"function"==typeof Jt().importScripts}function xc(){return(xc=(0,o.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Nu="firebaseLocalStorageDb",ku="firebaseLocalStorage",Rm="fbase_key";class uh{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function dh(y,p){return y.transaction([ku],p?"readwrite":"readonly").objectStore(ku)}function Ru(){const y=indexedDB.open(Nu,1);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const C=y.result;try{C.createObjectStore(ku,{keyPath:Rm})}catch(S){m(S)}}),y.addEventListener("success",(0,o.Z)(function*(){const C=y.result;C.objectStoreNames.contains(ku)?p(C):(C.close(),yield function vv(){const y=indexedDB.deleteDatabase(Nu);return new uh(y).toPromise()}(),p(yield Ru()))}))})}function bv(y,p,m){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,o.Z)(function*(y,p,m){const C=dh(y,!0).put({[Rm]:p,value:m});return new uh(C).toPromise()})).apply(this,arguments)}function hh(){return(hh=(0,o.Z)(function*(y,p){const m=dh(y,!1).get(p),C=yield new uh(m).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function hr(y,p){const m=dh(y,!0).delete(p);return new uh(m).toPromise()}const os=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,o.Z)(function*(){return m.db||(m.db=yield Ru()),m.db})()}_withRetries(m){var C=this;return(0,o.Z)(function*(){let S=0;for(;;)try{const A=yield C._openDb();return yield m(A)}catch(A){if(S++>3)throw A;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,o.Z)(function*(){return is()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,o.Z)(function*(){m.receiver=ap._getInstance(function As(){return is()?self:null}()),m.receiver._subscribe("keyChanged",function(){var C=(0,o.Z)(function*(S,A){return{keyProcessed:(yield m._poll()).includes(A.key)}});return function(S,A){return C.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var C=(0,o.Z)(function*(S,A){return["keyChanged"]});return function(S,A){return C.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,o.Z)(function*(){var C,S;if(m.activeServiceWorker=yield function Mc(){return xc.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Ml(m.activeServiceWorker);const A=yield m.sender._send("ping",{},800);!A||(null===(C=A[0])||void 0===C?void 0:C.fulfilled)&&(null===(S=A[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var C=this;return(0,o.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function Ta(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:m},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Ru();return yield bv(m,Ec,"1"),yield hr(m,Ec),!0}catch{}return!1})()}_withPendingWrite(m){var C=this;return(0,o.Z)(function*(){C.pendingWrites++;try{yield m()}finally{C.pendingWrites--}})()}_set(m,C){var S=this;return(0,o.Z)(function*(){return S._withPendingWrite((0,o.Z)(function*(){return yield S._withRetries(A=>bv(A,m,C)),S.localCache[m]=C,S.notifyServiceWorker(m)}))})()}_get(m){var C=this;return(0,o.Z)(function*(){const S=yield C._withRetries(A=>function Cv(y,p){return hh.apply(this,arguments)}(A,m));return C.localCache[m]=S,S})()}_remove(m){var C=this;return(0,o.Z)(function*(){return C._withPendingWrite((0,o.Z)(function*(){return yield C._withRetries(S=>hr(S,m)),delete C.localCache[m],C.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,o.Z)(function*(){const C=yield m._withRetries(j=>{const ae=dh(j,!1).getAll();return new uh(ae).toPromise()});if(!C)return[];if(0!==m.pendingWrites)return[];const S=[],A=new Set;for(const{fbase_key:j,value:ae}of C)A.add(j),JSON.stringify(m.localCache[j])!==JSON.stringify(ae)&&(m.notifyListeners(j,ae),S.push(j));for(const j of Object.keys(m.localCache))m.localCache[j]&&!A.has(j)&&(m.notifyListeners(j,null),S.push(j));return S})()}notifyListeners(m,C){this.localCache[m]=C;const S=this.listeners[m];if(S)for(const A of Array.from(S))A(C)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Nt(y,p){return _n(y,"POST","/v2/accounts/mfaSignIn:start",nt(y,p))}function Po(){return(Po=(0,o.Z)(function*(y){return(yield _n(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Qn(y){return new Promise((p,m)=>{const C=document.createElement("script");C.setAttribute("src",y),C.onload=p,C.onerror=S=>{const A=Rn("internal-error");A.customData=S,m(A)},C.type="text/javascript",C.charset="UTF-8",function ji(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(C)})}function xl(y){return`__${y}${Math.floor(1e6*Math.random())}`}const fr=1e12;class Ea{constructor(p){this.auth=p,this.counter=fr,this._widgets=new Map}render(p,m){const C=this.counter;return this._widgets.set(C,new Sr(p,this.auth.name,m||{})),this.counter++,C}reset(p){var m;const C=p||fr;null===(m=this._widgets.get(C))||void 0===m||m.delete(),this._widgets.delete(C)}getResponse(p){var m;return(null===(m=this._widgets.get(p||fr))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,o.Z)(function*(){var C;return null===(C=m._widgets.get(p||fr))||void 0===C||C.execute(),""})()}}class Sr{constructor(p,m,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;Ae(S,"argument-error",{appName:m}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ia(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<y;C++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const bi=xl("rcb"),wv=new lt(3e4,6e4);class Ol{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Jt().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return Ae(function lp(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Jt().grecaptcha):new Promise((C,S)=>{const A=Jt().setTimeout(()=>{S(Rn(p,"network-request-failed"))},wv.get());Jt()[bi]=()=>{Jt().clearTimeout(A),delete Jt()[bi];const ae=Jt().grecaptcha;if(!ae)return void S(Rn(p,"internal-error"));const Re=ae.render;ae.render=(Te,Xe)=>{const ut=Re(Te,Xe);return this.counter++,ut},this.hostLanguage=m,C(ae)},Qn(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:bi,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(A),S(Rn(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=Jt().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Al{load(p){return(0,o.Z)(function*(){return new Ea(p)})()}clearedOneInstance(){}}const Kr="recaptcha",Lu={theme:"light",type:"image"};class up{constructor(p,m=Object.assign({},Lu),C){this.parameters=m,this.type=Kr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=lr(C),this.isInvisible="invisible"===this.parameters.size,Ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;Ae(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Al:new Ol,this.validateStartingState()}verify(){var p=this;return(0,o.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),C=p.getAssertedRecaptcha();return C.getResponse(m)||new Promise(A=>{const j=ae=>{!ae||(p.tokenChangeListeners.delete(j),A(ae))};p.tokenChangeListeners.add(j),p.isInvisible&&C.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Ae(!this.parameters.sitekey,this.auth,"argument-error"),Ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(C=>C(m)),"function"==typeof p)p(m);else if("string"==typeof p){const C=Jt()[p];"function"==typeof C&&C(m)}}}assertNotDestroyed(){Ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,o.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const C=document.createElement("div");m.appendChild(C),m=C}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,o.Z)(function*(){Ae(Cn()&&!is(),p.auth,"internal-error"),yield function as(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function Oc(y){return Po.apply(this,arguments)}(p.auth);Ae(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return Ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ci{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=jn._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function En(){return(En=(0,o.Z)(function*(y,p,m){const C=lr(y),S=yield Pc(C,p,(0,L.m9)(m));return new Ci(S,A=>pa(C,A))})).apply(this,arguments)}function Ac(){return(Ac=(0,o.Z)(function*(y,p,m){const C=(0,L.m9)(y);yield yl(!1,C,"phone");const S=yield Pc(C.auth,p,(0,L.m9)(m));return new Ci(S,A=>so(C,A))})).apply(this,arguments)}function gh(){return(gh=(0,o.Z)(function*(y,p,m){const C=(0,L.m9)(y),S=yield Pc(C.auth,p,(0,L.m9)(m));return new Ci(S,A=>vl(C,A))})).apply(this,arguments)}function Pc(y,p,m){return pr.apply(this,arguments)}function pr(){return(pr=(0,o.Z)(function*(y,p,m){var C;const S=yield m.verify();try{let A;if(Ae("string"==typeof S,y,"argument-error"),Ae(m.type===Kr,y,"argument-error"),A="string"==typeof p?{phoneNumber:p}:p,"session"in A){const j=A.session;if("phoneNumber"in A)return Ae("enroll"===j.type,y,"internal-error"),(yield Os(y,{idToken:j.credential,phoneEnrollmentInfo:{phoneNumber:A.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{Ae("signin"===j.type,y,"internal-error");const ae=(null===(C=A.multiFactorHint)||void 0===C?void 0:C.uid)||A.multiFactorUid;return Ae(ae,y,"missing-multi-factor-info"),(yield Nt(y,{mfaPendingCredential:j.credential,mfaEnrollmentId:ae,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:j}=yield cc(y,{phoneNumber:A.phoneNumber,recaptchaToken:S});return j}}finally{m._reset()}})).apply(this,arguments)}function M(){return(M=(0,o.Z)(function*(y,p){yield pc((0,L.m9)(y),p)})).apply(this,arguments)}let P=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=lr(m)}verifyPhoneNumber(m,C){return Pc(this.auth,m,(0,L.m9)(C))}static credential(m,C){return jn._fromVerification(m,C)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:C,temporaryProof:S}=m;return C&&S?jn._fromTokenResponse(C,S):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function U(y,p){return p?sr(p):(Ae(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class X extends ic{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return An(p,this._buildIdpRequest())}_linkToIdToken(p,m){return An(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return An(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function ce(y){return Yn(y.auth,new X(y),y.bypassAuthState)}function _e(y){const{auth:p,user:m}=y;return Ae(m,p,"internal-error"),tp(m,new X(y),y.bypassAuthState)}function ze(y){return dt.apply(this,arguments)}function dt(){return(dt=(0,o.Z)(function*(y){const{auth:p,user:m}=y;return Ae(m,p,"internal-error"),pc(m,new X(y),y.bypassAuthState)})).apply(this,arguments)}class mt{constructor(p,m,C,S,A=!1){this.auth=p,this.resolver=C,this.user=S,this.bypassAuthState=A,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,o.Z)(function*(C,S){p.pendingPromise={resolve:C,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(A){p.reject(A)}});return function(C,S){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,o.Z)(function*(){const{urlResponse:C,sessionId:S,postBody:A,tenantId:j,error:ae,type:Re}=p;if(ae)return void m.reject(ae);const Te={auth:m.auth,requestUri:C,sessionId:S,tenantId:j||void 0,postBody:A||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Re)(Te))}catch(Xe){m.reject(Xe)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return ce;case"linkViaPopup":case"linkViaRedirect":return ze;case"reauthViaPopup":case"reauthViaRedirect":return _e;default:on(this.auth,"internal-error")}}resolve(p){He(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){He(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const kt=new lt(2e3,1e4);function gr(){return(gr=(0,o.Z)(function*(y,p,m){const C=lr(y);$r(y,p,ai);const S=U(C,m);return new Ft(C,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function Gi(){return(Gi=(0,o.Z)(function*(y,p,m){const C=(0,L.m9)(y);$r(C.auth,p,ai);const S=U(C.auth,m);return new Ft(C.auth,"reauthViaPopup",p,S,C).executeNotNull()})).apply(this,arguments)}function Qr(){return(Qr=(0,o.Z)(function*(y,p,m){const C=(0,L.m9)(y);$r(C.auth,p,ai);const S=U(C.auth,m);return new Ft(C.auth,"linkViaPopup",p,S,C).executeNotNull()})).apply(this,arguments)}let Ft=(()=>{class y extends mt{constructor(m,C,S,A,j){super(m,C,A,j),this.provider=S,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,o.Z)(function*(){const C=yield m.execute();return Ae(C,m.auth,"internal-error"),C})()}onExecution(){var m=this;return(0,o.Z)(function*(){He(1===m.filter.length,"Popup operations only handle one event");const C=lo();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],C),m.authWindow.associatedEvent=C,m.resolver._originValidation(m.auth).catch(S=>{m.reject(S)}),m.resolver._isIframeWebStorageSupported(m.auth,S=>{S||m.reject(Rn(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Rn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var C,S;this.pollId=null!==(S=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Rn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,kt.get())};m()}}return y.currentPopupAction=null,y})();const Ns=new Map;class Dv extends mt{constructor(p,m,C=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,C),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,o.Z)(function*(){let C=Ns.get(m.auth._key());if(!C){try{const A=(yield function Nc(y,p){return Sa.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;C=()=>Promise.resolve(A)}catch(S){C=()=>Promise.reject(S)}Ns.set(m.auth._key(),C)}return m.bypassAuthState||Ns.set(m.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,C=this;return(0,o.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(C,p);if("unknown"!==p.type){if(p.eventId){const S=yield C.auth._redirectUserForId(p.eventId);if(S)return C.user=S,m().call(C,p);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function Sa(){return(Sa=(0,o.Z)(function*(y,p){const m=Tv(p),C=dp(y);if(!(yield C._isAvailable()))return!1;const S="true"===(yield C._get(m));return yield C._remove(m),S})).apply(this,arguments)}function kc(y,p){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,o.Z)(function*(y,p){return dp(y)._set(Tv(p),"true")})).apply(this,arguments)}function mh(y,p){Ns.set(y._key(),p)}function dp(y){return sr(y._redirectPersistence)}function Tv(y){return Er("pendingRedirect",y.config.apiKey,y.name)}function hp(){return(hp=(0,o.Z)(function*(y,p,m){const C=lr(y);$r(y,p,ai);const S=U(C,m);return yield kc(S,C),S._openRedirect(C,p,"signInViaRedirect")})).apply(this,arguments)}function yh(){return(yh=(0,o.Z)(function*(y,p,m){const C=(0,L.m9)(y);$r(C.auth,p,ai);const S=U(C.auth,m);yield kc(S,C.auth);const A=yield Pl(C);return S._openRedirect(C.auth,p,"reauthViaRedirect",A)})).apply(this,arguments)}function vh(){return(vh=(0,o.Z)(function*(y,p,m){const C=(0,L.m9)(y);$r(C.auth,p,ai);const S=U(C.auth,m);yield yl(!1,C,p.providerId),yield kc(S,C.auth);const A=yield Pl(C);return S._openRedirect(C.auth,p,"linkViaRedirect",A)})).apply(this,arguments)}function Ot(){return(Ot=(0,o.Z)(function*(y,p){return yield lr(y)._initializationPromise,Ma(y,p,!1)})).apply(this,arguments)}function Ma(y,p){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,o.Z)(function*(y,p,m=!1){const C=lr(y),S=U(C,p),j=yield new Dv(C,S,m).execute();return j&&!m&&(delete j.user._redirectEventId,yield C._persistUserIfCurrent(j.user),yield C._setRedirectUser(null,p)),j})).apply(this,arguments)}function Pl(y){return Lm.apply(this,arguments)}function Lm(){return(Lm=(0,o.Z)(function*(y){const p=lo(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class cs{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(p,C)&&(m=!0,this.sendToConsumer(p,C),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Mv(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vm(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var C;if(p.error&&!Vm(p)){const S=(null===(C=p.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";m.onError(Rn(this.auth,S))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const C=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&C}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Um(p))}saveEventToCache(p){this.cachedEventUids.add(Um(p)),this.lastProcessedEventTime=Date.now()}}function Um(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function Vm({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===p?.code}function kC(y){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,o.Z)(function*(y,p={}){return _n(y,"GET","/v1/projects",p)})).apply(this,arguments)}const ks=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zu=/^https?/;function bh(){return(bh=(0,o.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield kC(y);for(const m of p)try{if(pp(m))return}catch{}on(y,"unauthorized-domain")})).apply(this,arguments)}function pp(y){const p=no(),{protocol:m,hostname:C}=new URL(p);if(y.startsWith("chrome-extension://")){const j=new URL(y);return""===j.hostname&&""===C?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&j.hostname===C}if(!Zu.test(m))return!1;if(ks.test(y))return C===y;const S=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(C)}const No=new lt(3e4,6e4);function Zm(){const y=Jt().___jsl;if(y?.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let Ch=null;function gp(y){return Ch=Ch||function Hm(y){return new Promise((p,m)=>{var C,S,A;function j(){Zm(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Zm(),m(Rn(y,"network-request-failed"))},timeout:No.get()})}if(null!==(S=null===(C=Jt().gapi)||void 0===C?void 0:C.iframes)&&void 0!==S&&S.Iframe)p(gapi.iframes.getContext());else{if(null===(A=Jt().gapi)||void 0===A||!A.load){const ae=xl("iframefcb");return Jt()[ae]=()=>{gapi.load?j():m(Rn(y,"network-request-failed"))},Qn(`https://apis.google.com/js/api.js?onload=${ae}`).catch(Re=>m(Re))}j()}}).catch(p=>{throw Ch=null,p})}(y),Ch}const wh=new lt(5e3,15e3),Lt={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xv(y){const p=y.config;Ae(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?Qt(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,C={apiKey:p.apiKey,appName:y.name,v:oe.SDK_VERSION},S=Nl.get(y.config.apiHost);S&&(C.eid=S);const A=y._getFrameworks();return A.length&&(C.fw=A.join(",")),`${m}?${(0,L.xO)(C).slice(1)}`}function Jr(){return Jr=(0,o.Z)(function*(y){const p=yield gp(y),m=Jt().gapi;return Ae(m,y,"internal-error"),p.open({where:document.body,url:xv(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lt,dontclear:!0},C=>new Promise(function(){var S=(0,o.Z)(function*(A,j){yield C.restyle({setHideOnLeave:!1});const ae=Rn(y,"network-request-failed"),Re=Jt().setTimeout(()=>{j(ae)},wh.get());function Te(){Jt().clearTimeout(Re),A(C)}C.ping(Te).then(Te,()=>{j(ae)})});return function(A,j){return S.apply(this,arguments)}}()))}),Jr.apply(this,arguments)}const Th={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ih{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Hu(y,p,m,C,S,A){Ae(y.config.authDomain,y,"auth-domain-config-required"),Ae(y.config.apiKey,y,"invalid-api-key");const j={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:C,v:oe.SDK_VERSION,eventId:S};if(p instanceof ai){p.setDefaultLanguage(y.languageCode),j.providerId=p.providerId||"",(0,L.xb)(p.getCustomParameters())||(j.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Re,Te]of Object.entries(A||{}))j[Re]=Te}if(p instanceof Ts){const Re=p.getScopes().filter(Te=>""!==Te);Re.length>0&&(j.scopes=Re.join(","))}y.tenantId&&(j.tid=y.tenantId);const ae=j;for(const Re of Object.keys(ae))void 0===ae[Re]&&delete ae[Re];return`${function jm({config:y}){return y.emulator?Qt(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,L.xO)(ae).slice(1)}`}const Oh="webStorageSupport";class ju extends class kl{constructor(p){this.factorId=p}_process(p,m,C){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,C);case"signin":return this._finalizeSignIn(p,m.credential);default:return Wr("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new ju(p)}_finalizeEnroll(p,m,C){return function sh(y,p){return _n(y,"POST","/v2/accounts/mfaEnrollment:finalize",nt(y,p))}(p,{idToken:m,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function ss(y,p){return _n(y,"POST","/v2/accounts/mfaSignIn:finalize",nt(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Pv=(()=>{class y{constructor(){}static assertion(m){return ju._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var _p="@firebase/auth";class Gu{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,o.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(C=>{p(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ls(){return window}function Us(){return(Us=(0,o.Z)(function*(y,p,m){var C;const{BuildInfo:S}=Ls();He(p.sessionId,"AuthEvent did not contain a session ID");const A=yield Km(p.sessionId),j={};return si()?j.ibi=S.packageName:To()?j.apn=S.packageName:on(y,"operation-not-supported-in-this-environment"),S.displayName&&(j.appDisplayName=S.displayName),j.sessionId=A,Hu(y,m,p.type,void 0,null!==(C=p.eventId)&&void 0!==C?C:void 0,j)})).apply(this,arguments)}function Ph(){return(Ph=(0,o.Z)(function*(y){const{BuildInfo:p}=Ls(),m={};si()?m.iosBundleId=p.packageName:To()?m.androidPackageName=p.packageName:on(y,"operation-not-supported-in-this-environment"),yield kC(y,m)})).apply(this,arguments)}function xa(){return(xa=(0,o.Z)(function*(y,p,m){const{cordova:C}=Ls();let S=()=>{};try{yield new Promise((A,j)=>{let ae=null;function Re(){var ut;A();const qt=null===(ut=C.plugins.browsertab)||void 0===ut?void 0:ut.close;"function"==typeof qt&&qt(),"function"==typeof m?.close&&m.close()}function Te(){ae||(ae=window.setTimeout(()=>{j(Rn(y,"redirect-cancelled-by-user"))},2e3))}function Xe(){"visible"===document?.visibilityState&&Te()}p.addPassiveListener(Re),document.addEventListener("resume",Te,!1),To()&&document.addEventListener("visibilitychange",Xe,!1),S=()=>{p.removePassiveListener(Re),document.removeEventListener("resume",Te,!1),document.removeEventListener("visibilitychange",Xe,!1),ae&&window.clearTimeout(ae)}})}finally{S()}})).apply(this,arguments)}function Km(y){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,o.Z)(function*(y){const p=Ym(y),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ym(y){if(He(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),m=new Uint8Array(p);for(let C=0;C<y.length;C++)m[C]=y.charCodeAt(C);return m}(0,L.Pz)("authIdTokenMaxAge"),function Ah(y){(0,oe._registerComponent)(new xi.wA("auth",(p,{options:m})=>{const C=p.getProvider("app").getImmediate(),S=p.getProvider("heartbeat"),{apiKey:A,authDomain:j}=C.options;return((ae,Re)=>{Ae(A&&!A.includes(":"),"invalid-api-key",{appName:ae.name}),Ae(!j?.includes(":"),"argument-error",{appName:ae.name});const Te={apiKey:A,authDomain:j,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ul(y)},Xe=new yi(ae,Re,Te);return function to(y,p){const m=p?.persistence||[],C=(Array.isArray(m)?m:[m]).map(sr);p?.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(C,p?.popupRedirectResolver)}(Xe,m),Xe})(C,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,C)=>{p.getProvider("auth-internal").initialize()})),(0,oe._registerComponent)(new xi.wA("auth-internal",p=>{const m=lr(p.getProvider("auth").getImmediate());return new Gu(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,oe.registerVersion)(_p,"0.21.0",function yp(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,oe.registerVersion)(_p,"0.21.0","esm2017")}("Browser");class Ku extends cs{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,o.Z)(function*(){yield p.initPromise})()}}function bp(y){return ls.apply(this,arguments)}function ls(){return(ls=(0,o.Z)(function*(y){const p=yield Yu()._get(Vs(y));return p&&(yield Yu()._remove(Vs(y))),p})).apply(this,arguments)}function us(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const C=Math.floor(Math.random()*p.length);y.push(p.charAt(C))}return y.join("")}function Yu(){return sr(Ao)}function Vs(y){return Er("authEvent",y.config.apiKey,y.name)}function Qu(y){if(!y?.includes("?"))return{};const[p,...m]=y.split("?");return(0,L.zd)(m.join("?"))}function Dp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Rn("no-auth-event")}}function Uc(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Vc(y=(0,L.z$)()){return!("file:"!==Uc()&&"ionic:"!==Uc()&&"capacitor:"!==Uc()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function ko(){try{const y=self.localStorage,p=lo();if(y)return y.setItem(p,"1"),y.removeItem(p),!function Mp(y=(0,L.z$)()){return function Ip(){return(0,L.w1)()&&11===document?.documentMode}()||function Sp(y=(0,L.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,L.hl)()}catch{return ds()&&(0,L.hl)()}return!1}function ds(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Bc(){return(function Ep(){return"http:"===Uc()||"https:"===Uc()}()||(0,L.ru)()||Vc())&&!function Rv(){return(0,L.b$)()||(0,L.UG)()}()&&ko()&&!ds()}function Ju(){return Vc()&&typeof document<"u"}function uo(){return(uo=(0,o.Z)(function*(){return!!Ju()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const ho={LOCAL:"local",NONE:"none",SESSION:"session"},Oa=Ae,Xu="persistence";function ed(y){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,o.Z)(function*(y){yield y._initializationPromise;const p=Op(),m=Er(Xu,y.config.apiKey,y.name);p&&p.setItem(m,y._getPersistence())})).apply(this,arguments)}function Op(){var y;try{return(null===(y=function t_(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const Ll=Ae;class Bs{constructor(){this.browserResolver=sr(class Av{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lr,this._completeRedirectFn=Ma,this._overrideRedirectResult=mh}_openPopup(p,m,C,S){var A=this;return(0,o.Z)(function*(){var j;He(null===(j=A.eventManagers[p._key()])||void 0===j?void 0:j.manager,"_initialize() not called before _openPopup()");const ae=Hu(p,m,C,no(),S);return function Sh(y,p,m,C=500,S=600){const A=Math.max((window.screen.availHeight-S)/2,0).toString(),j=Math.max((window.screen.availWidth-C)/2,0).toString();let ae="";const Re=Object.assign(Object.assign({},Th),{width:C.toString(),height:S.toString(),top:A,left:j}),Te=(0,L.z$)().toLowerCase();m&&(ae=cl(Te)?"_blank":m),Xt(Te)&&(p=p||"http://localhost",Re.scrollbars="yes");const Xe=Object.entries(Re).reduce((qt,[Ln,go])=>`${qt}${Ln}=${go},`,"");if(function Yf(y=(0,L.z$)()){var p;return si(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Te)&&"_self"!==ae)return function Ov(y,p){const m=document.createElement("a");m.href=y,m.target=p;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(C)}(p||"",ae),new Ih(null);const ut=window.open(p||"",ae,Xe);Ae(ut,y,"popup-blocked");try{ut.focus()}catch{}return new Ih(ut)}(p,ae,lo())})()}_openRedirect(p,m,C,S){var A=this;return(0,o.Z)(function*(){return yield A._originValidation(p),function Da(y){Jt().location.href=y}(Hu(p,m,C,no(),S)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:S,promise:A}=this.eventManagers[m];return S?Promise.resolve(S):(He(A,"If manager is not set, promise should be"),A)}const C=this.initAndGetManager(p);return this.eventManagers[m]={promise:C},C.catch(()=>{delete this.eventManagers[m]}),C}initAndGetManager(p){var m=this;return(0,o.Z)(function*(){const C=yield function Fc(y){return Jr.apply(this,arguments)}(p),S=new cs(p);return C.register("authEvent",A=>(Ae(A?.authEvent,p,"invalid-auth-event"),{status:S.onEvent(A.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:S},m.iframes[p._key()]=C,S})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(Oh,{type:Oh},S=>{var A;const j=null===(A=S?.[0])||void 0===A?void 0:A[Oh];void 0!==j&&m(!!j),on(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Bm(y){return bh.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return _i()||gu()||si()}}),this.cordovaResolver=sr(class Xm{constructor(){this._redirectPersistence=Lr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ma,this._overrideRedirectResult=mh}_initialize(p){var m=this;return(0,o.Z)(function*(){const C=p._key();let S=m.eventManagers.get(C);return S||(S=new Ku(p),m.eventManagers.set(C,S),m.attachCallbackListeners(p,S)),S})()}_openPopup(p){on(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,C,S){var A=this;return(0,o.Z)(function*(){!function Nv(y){var p,m,C,S,A,j,ae,Re,Te,Xe;const ut=Ls();Ae("function"==typeof(null===(p=ut?.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ae(typeof(null===(m=ut?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ae("function"==typeof(null===(A=null===(S=null===(C=ut?.cordova)||void 0===C?void 0:C.plugins)||void 0===S?void 0:S.browsertab)||void 0===A?void 0:A.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ae("function"==typeof(null===(Re=null===(ae=null===(j=ut?.cordova)||void 0===j?void 0:j.plugins)||void 0===ae?void 0:ae.browsertab)||void 0===Re?void 0:Re.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ae("function"==typeof(null===(Xe=null===(Te=ut?.cordova)||void 0===Te?void 0:Te.InAppBrowser)||void 0===Xe?void 0:Xe.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const j=yield A._initialize(p);yield j.initialized(),j.resetRedirect(),function PC(){Ns.clear()}(),yield A._originValidation(p);const ae=function kv(y,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:us(),postBody:null,tenantId:y.tenantId,error:Rn(y,"no-auth-event")}}(p,C,S);yield function Nh(y,p){return Yu()._set(Vs(y),p)}(p,ae);const Re=yield function Wu(y,p,m){return Us.apply(this,arguments)}(p,ae,m),Te=yield function Wm(y){const{cordova:p}=Ls();return new Promise(m=>{p.plugins.browsertab.isAvailable(C=>{let S=null;C?p.plugins.browsertab.openUrl(y):S=p.InAppBrowser.open(y,function en(y=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(S)})})}(Re);return function zm(y,p,m){return xa.apply(this,arguments)}(p,j,Te)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Rl(y){return Ph.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:C,handleOpenURL:S,BuildInfo:A}=Ls(),j=setTimeout((0,o.Z)(function*(){yield bp(p),m.onEvent(Dp())}),500),ae=function(){var Xe=(0,o.Z)(function*(ut){clearTimeout(j);const qt=yield bp(p);let Ln=null;qt&&ut?.url&&(Ln=function Cp(y,p){var m,C;const S=function Qm(y){const p=Qu(y),m=p.link?decodeURIComponent(p.link):void 0,C=Qu(m).link,S=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Qu(S).link||S||C||m||y}(p);if(S.includes("/__/auth/callback")){const A=Qu(S),j=A.firebaseError?function Lc(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(A.firebaseError)):null,ae=null===(C=null===(m=j?.code)||void 0===m?void 0:m.split("auth/"))||void 0===C?void 0:C[1],Re=ae?Rn(ae):null;return Re?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Re,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:S,postBody:null}}return null}(qt,ut.url)),m.onEvent(Ln||Dp())});return function(qt){return Xe.apply(this,arguments)}}();typeof C<"u"&&"function"==typeof C.subscribe&&C.subscribe(null,ae);const Re=S,Te=`${A.packageName.toLowerCase()}://`;Ls().handleOpenURL=function(){var Xe=(0,o.Z)(function*(ut){if(ut.toLowerCase().startsWith(Te)&&ae({url:ut}),"function"==typeof Re)try{Re(ut)}catch(qt){console.error(qt)}});return function(ut){return Xe.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Lr,this._completeRedirectFn=Ma,this._overrideRedirectResult=mh}_initialize(p){var m=this;return(0,o.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,C,S){var A=this;return(0,o.Z)(function*(){return yield A.selectUnderlyingResolver(),A.assertedUnderlyingResolver._openPopup(p,m,C,S)})()}_openRedirect(p,m,C,S){var A=this;return(0,o.Z)(function*(){return yield A.selectUnderlyingResolver(),A.assertedUnderlyingResolver._openRedirect(p,m,C,S)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Ju()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ll(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,o.Z)(function*(){if(p.underlyingResolver)return;const m=yield function Zc(){return uo.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function Pa(y){return y.unwrap()}function n_(y){return Pp(y)}function Pp(y){const{_tokenResponse:p}=y instanceof L.ZR?y.customData:y;if(!p)return null;if(!(y instanceof L.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return P.credentialFromResult(y);const m=p.providerId;if(!m||"password"===m)return null;let C;switch(m){case"google.com":C=zn;break;case"facebook.com":C=bu;break;case"github.com":C=Ct;break;case"twitter.com":C=ml;break;default:const{oauthIdToken:S,oauthAccessToken:A,oauthTokenSecret:j,pendingToken:ae,nonce:Re}=p;return A||j||S||ae?ae?m.startsWith("saml.")?gl._create(m,ae):Zn._fromParams({providerId:m,signInMethod:m,pendingToken:ae,idToken:S,accessToken:A}):new zr(m).credential({idToken:S,accessToken:A,rawNonce:Re}):null}return y instanceof L.ZR?C.credentialFromError(y):C.credentialFromResult(y)}function wi(y,p){return p.catch(m=>{throw m instanceof L.ZR&&function r_(y,p){var m;const C=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new Fh(y,function El(y,p){var m;const C=(0,L.m9)(y),S=p;return Ae(p.customData.operationType,C,"argument-error"),Ae(null===(m=S.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,C,"argument-error"),wa._fromError(C,S)}(y,p));else if(C){const S=Pp(p),A=p;S&&(A.credential=S,A.tenantId=C.tenantId||void 0,A.email=C.email||void 0,A.phoneNumber=C.phoneNumber||void 0)}}(y,m),m}).then(m=>{const S=m.user;return{operationType:m.operationType,credential:n_(m),additionalUserInfo:Ca(m),user:po.getOrCreate(S)}})}function Ro(y,p){return fo.apply(this,arguments)}function fo(){return(fo=(0,o.Z)(function*(y,p){const m=yield p;return{verificationId:m.verificationId,confirm:C=>wi(y,m.confirm(C))}})).apply(this,arguments)}class Fh{constructor(p,m){this.resolver=m,this.auth=function Ap(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return wi(Pa(this.auth),this.resolver.resolveSignIn(p))}}class po{constructor(p){this._delegate=p,this.multiFactor=function ah(y){const p=(0,L.m9)(y);return Tc.has(p)||Tc.set(p,Il._fromUser(p)),Tc.get(p)}(p)}static getOrCreate(p){return po.USER_MAP.has(p)||po.USER_MAP.set(p,new po(p)),po.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,o.Z)(function*(){return wi(m.auth,so(m._delegate,p))})()}linkWithPhoneNumber(p,m){var C=this;return(0,o.Z)(function*(){return Ro(C.auth,function fn(y,p,m){return Ac.apply(this,arguments)}(C._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,o.Z)(function*(){return wi(m.auth,function Yr(y,p,m){return Qr.apply(this,arguments)}(m._delegate,p,Bs))})()}linkWithRedirect(p){var m=this;return(0,o.Z)(function*(){return yield ed(lr(m.auth)),function Vu(y,p,m){return function NC(y,p,m){return vh.apply(this,arguments)}(y,p,m)}(m._delegate,p,Bs)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,o.Z)(function*(){return wi(m.auth,vl(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return Ro(this.auth,function ph(y,p,m){return gh.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return wi(this.auth,function mr(y,p,m){return Gi.apply(this,arguments)}(this._delegate,p,Bs))}reauthenticateWithRedirect(p){var m=this;return(0,o.Z)(function*(){return yield ed(lr(m.auth)),function _h(y,p,m){return function Fm(y,p,m){return yh.apply(this,arguments)}(y,p,m)}(m._delegate,p,Bs)})()}sendEmailVerification(p){return function Au(y,p){return Hi.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,o.Z)(function*(){return yield function _l(y,p){return li.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function Xd(y,p){return Cc((0,L.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function yv(y,p){return Cc((0,L.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function E(y,p){return M.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Dl(y,p){return va.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function ya(y,p,m){return Pu.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}po.USER_MAP=new WeakMap;const nd=Ae;let i_=(()=>{class y{constructor(m,C){if(this.app=m,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=m.options;nd(S,"invalid-api-key",{appName:m.name}),nd(S,"invalid-api-key",{appName:m.name});const A=typeof window<"u"?Bs:void 0;this._delegate=C.initialize({options:{persistence:o_(S,m.name),popupRedirectResolver:A}}),this._delegate._updateErrorMap(bn),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?po.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,C){!function Ld(y,p,m){const C=lr(y);Ae(C._canInitEmulator,C,"emulator-config-failed"),Ae(/^https?:\/\//.test(p),C,"invalid-emulator-scheme");const S=!!m?.disableWarnings,A=Xo(p),{host:j,port:ae}=function _v(y){const p=Xo(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const C=m[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(C);if(S){const A=S[1];return{host:A,port:Vi(C.substr(A.length+1))}}{const[A,j]=C.split(":");return{host:A,port:Vi(j)}}}(p);C.config.emulator={url:`${A}//${j}${null===ae?"":`:${ae}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:j,port:ae,protocol:A.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function Am(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,C)}applyActionCode(m){return function Qd(y,p){return Io.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Ms(this._delegate,m)}confirmPasswordReset(m,C){return function Iu(y,p,m){return Su.apply(this,arguments)}(this._delegate,m,C)}createUserWithEmailAndPassword(m,C){var S=this;return(0,o.Z)(function*(){return wi(S._delegate,function Tn(y,p,m){return vc.apply(this,arguments)}(S._delegate,m,C))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Ou(y,p){return Mo.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function wl(y,p){return"EMAIL_SIGNIN"===Zi.parseLink(p)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,o.Z)(function*(){nd(Bc(),m._delegate,"operation-not-supported-in-this-environment");const C=yield function Sv(y,p){return Ot.apply(this,arguments)}(m._delegate,Bs);return C?wi(m._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function kh(y,p){lr(y)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,C,S){const{next:A,error:j,complete:ae}=Lh(m,C,S);return this._delegate.onAuthStateChanged(A,j,ae)}onIdTokenChanged(m,C,S){const{next:A,error:j,complete:ae}=Lh(m,C,S);return this._delegate.onIdTokenChanged(A,j,ae)}sendSignInLinkToEmail(m,C){return function rp(y,p,m){return bc.apply(this,arguments)}(this._delegate,m,C)}sendPasswordResetEmail(m,C){return function bl(y,p,m){return Eu.apply(this,arguments)}(this._delegate,m,C||void 0)}setPersistence(m){var C=this;return(0,o.Z)(function*(){let S;switch(function xp(y,p){Oa(Object.values(ho).includes(p),y,"invalid-persistence-type"),(0,L.b$)()?Oa(p!==ho.SESSION,y,"unsupported-persistence-type"):(0,L.UG)()?Oa(p===ho.NONE,y,"unsupported-persistence-type"):ds()?Oa(p===ho.NONE||p===ho.LOCAL&&(0,L.hl)(),y,"unsupported-persistence-type"):Oa(p===ho.NONE||ko(),y,"unsupported-persistence-type")}(C._delegate,m),m){case ho.SESSION:S=Lr;break;case ho.LOCAL:S=(yield sr(os)._isAvailable())?os:Ao;break;case ho.NONE:S=gi;break;default:return on("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return wi(this._delegate,function Bt(y){return Du.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return wi(this._delegate,pa(this._delegate,m))}signInWithCustomToken(m){return wi(this._delegate,function Tu(y,p){return mc.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,C){return wi(this._delegate,function Mu(y,p,m){return pa((0,L.m9)(y),pl.credential(p,m))}(this._delegate,m,C))}signInWithEmailLink(m,C){return wi(this._delegate,function xu(y,p,m){return _a.apply(this,arguments)}(this._delegate,m,C))}signInWithPhoneNumber(m,C){return Ro(this._delegate,function Je(y,p,m){return En.apply(this,arguments)}(this._delegate,m,C))}signInWithPopup(m){var C=this;return(0,o.Z)(function*(){return nd(Bc(),C._delegate,"operation-not-supported-in-this-environment"),wi(C._delegate,function vt(y,p,m){return gr.apply(this,arguments)}(C._delegate,m,Bs))})()}signInWithRedirect(m){var C=this;return(0,o.Z)(function*(){return nd(Bc(),C._delegate,"operation-not-supported-in-this-environment"),yield ed(C._delegate),function Ev(y,p,m){return function Iv(y,p,m){return hp.apply(this,arguments)}(y,p,m)}(C._delegate,m,Bs)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function ur(y,p){return ao.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=ho,y})();function Lh(y,p,m){let C=y;"function"!=typeof y&&({next:C,error:p,complete:m}=y);const S=C;return{next:j=>S(j&&po.getOrCreate(j)),error:p,complete:m}}function o_(y,p){const m=function td(y,p){const m=Op();if(!m)return[];const C=Er(Xu,y,p);switch(m.getItem(C)){case ho.NONE:return[gi];case ho.LOCAL:return[os,Lr];case ho.SESSION:return[Lr];default:return[]}}(y,p);if(typeof self<"u"&&!m.includes(os)&&m.push(os),typeof window<"u")for(const C of[Ao,Lr])m.includes(C)||m.push(C);return m.includes(gi)||m.push(gi),m}class Np{constructor(){this.providerId="phone",this._delegate=new P(Pa(ee.Z.auth()))}static credential(p,m){return P.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}Np.PHONE_SIGN_IN_METHOD=P.PHONE_SIGN_IN_METHOD,Np.PROVIDER_ID=P.PROVIDER_ID;const RC=Ae;class FC{constructor(p,m,C=ee.Z.app()){var S;RC(null===(S=C.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new up(p,m,C.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function kp(y){y.INTERNAL.registerComponent(new xi.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),C=p.getProvider("auth");return new i_(m,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:pl,FacebookAuthProvider:bu,GithubAuthProvider:Ct,GoogleAuthProvider:zn,OAuthProvider:zr,SAMLAuthProvider:dc,PhoneAuthProvider:Np,PhoneMultiFactorGenerator:Pv,RecaptchaVerifier:FC,TwitterAuthProvider:ml,Auth:i_,AuthCredential:ic,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.3.0")}(ee.Z)},8766:(st,ye,F)=>{F.d(ye,{Lj:()=>ot,X3:()=>Ze});var o=F(5861);let L,oe;const se=new WeakMap,Q=new WeakMap,J=new WeakMap,V=new WeakMap,H=new WeakMap;let Ie={get(Me,Ce,We){if(Me instanceof IDBTransaction){if("done"===Ce)return Q.get(Me);if("objectStoreNames"===Ce)return Me.objectStoreNames||J.get(Me);if("store"===Ce)return We.objectStoreNames[1]?void 0:We.objectStore(We.objectStoreNames[0])}return fe(Me[Ce])},set:(Me,Ce,We)=>(Me[Ce]=We,!0),has:(Me,Ce)=>Me instanceof IDBTransaction&&("done"===Ce||"store"===Ce)||Ce in Me};function he(Me){return"function"==typeof Me?function Ne(Me){return Me!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Y(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Me)?function(...Ce){return Me.apply(Se(this),Ce),fe(se.get(this))}:function(...Ce){return fe(Me.apply(Se(this),Ce))}:function(Ce,...We){const rt=Me.call(Se(this),Ce,...We);return J.set(rt,Ce.sort?Ce.sort():[Ce]),fe(rt)}}(Me):(Me instanceof IDBTransaction&&function ue(Me){if(Q.has(Me))return;const Ce=new Promise((We,rt)=>{const Tt=()=>{Me.removeEventListener("complete",Ye),Me.removeEventListener("error",Bn),Me.removeEventListener("abort",Bn)},Ye=()=>{We(),Tt()},Bn=()=>{rt(Me.error||new DOMException("AbortError","AbortError")),Tt()};Me.addEventListener("complete",Ye),Me.addEventListener("error",Bn),Me.addEventListener("abort",Bn)});Q.set(Me,Ce)}(Me),((Me,Ce)=>Ce.some(We=>Me instanceof We))(Me,function ne(){return L||(L=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Me,Ie):Me)}function fe(Me){if(Me instanceof IDBRequest)return function $(Me){const Ce=new Promise((We,rt)=>{const Tt=()=>{Me.removeEventListener("success",Ye),Me.removeEventListener("error",Bn)},Ye=()=>{We(fe(Me.result)),Tt()},Bn=()=>{rt(Me.error),Tt()};Me.addEventListener("success",Ye),Me.addEventListener("error",Bn)});return Ce.then(We=>{We instanceof IDBCursor&&se.set(We,Me)}).catch(()=>{}),H.set(Ce,Me),Ce}(Me);if(V.has(Me))return V.get(Me);const Ce=he(Me);return Ce!==Me&&(V.set(Me,Ce),H.set(Ce,Me)),Ce}const Se=Me=>H.get(Me);function Ze(Me,Ce,{blocked:We,upgrade:rt,blocking:Tt,terminated:Ye}={}){const Bn=indexedDB.open(Me,Ce),xi=fe(Bn);return rt&&Bn.addEventListener("upgradeneeded",ii=>{rt(fe(Bn.result),ii.oldVersion,ii.newVersion,fe(Bn.transaction))}),We&&Bn.addEventListener("blocked",()=>We()),xi.then(ii=>{Ye&&ii.addEventListener("close",()=>Ye()),Tt&&ii.addEventListener("versionchange",()=>Tt())}).catch(()=>{}),xi}function ot(Me,{blocked:Ce}={}){const We=indexedDB.deleteDatabase(Me);return Ce&&We.addEventListener("blocked",()=>Ce()),fe(We).then(()=>{})}const Ht=["get","getKey","getAll","getAllKeys","count"],Et=["put","add","delete","clear"],Sn=new Map;function wt(Me,Ce){if(!(Me instanceof IDBDatabase)||Ce in Me||"string"!=typeof Ce)return;if(Sn.get(Ce))return Sn.get(Ce);const We=Ce.replace(/FromIndex$/,""),rt=Ce!==We,Tt=Et.includes(We);if(!(We in(rt?IDBIndex:IDBObjectStore).prototype)||!Tt&&!Ht.includes(We))return;const Ye=function(){var Bn=(0,o.Z)(function*(xi,...ii){const Ui=this.transaction(xi,Tt?"readwrite":"readonly");let hn=Ui.store;return rt&&(hn=hn.index(ii.shift())),(yield Promise.all([hn[We](...ii),Tt&&Ui.done]))[0]});return function(ii){return Bn.apply(this,arguments)}}();return Sn.set(Ce,Ye),Ye}!function De(Me){Ie=Me(Ie)}(Me=>({...Me,get:(Ce,We,rt)=>wt(Ce,We)||Me.get(Ce,We,rt),has:(Ce,We)=>!!wt(Ce,We)||Me.has(Ce,We)}))},5861:(st,ye,F)=>{function o(L,oe,ne,Y,se,Q,J){try{var V=L[Q](J),H=V.value}catch($){return void ne($)}V.done?oe(H):Promise.resolve(H).then(Y,se)}function ee(L){return function(){var oe=this,ne=arguments;return new Promise(function(Y,se){var Q=L.apply(oe,ne);function J(H){o(Q,Y,se,J,V,"next",H)}function V(H){o(Q,Y,se,J,V,"throw",H)}J(void 0)})}}F.d(ye,{Z:()=>ee})}},st=>{st(st.s=4229)}]);